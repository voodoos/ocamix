(()=>{var __create=Object.create;var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty;var __require=(x=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(x,{get:(a,b)=>(typeof require<"u"?require:a)[b]}):x)(function(x){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+x+'" is not supported')});var __esm=(fn,res)=>function(){return fn&&(res=(0,fn[__getOwnPropNames(fn)[0]])(fn=0)),res};var __commonJS=(cb,mod)=>function(){return mod||(0,cb[__getOwnPropNames(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports};var __export=(target,all2)=>{for(var name in all2)__defProp(target,name,{get:all2[name],enumerable:!0})},__copyProps=(to,from2,except,desc)=>{if(from2&&typeof from2=="object"||typeof from2=="function")for(let key of __getOwnPropNames(from2))!__hasOwnProp.call(to,key)&&key!==except&&__defProp(to,key,{get:()=>from2[key],enumerable:!(desc=__getOwnPropDesc(from2,key))||desc.enumerable});return to};var __toESM=(mod,isNodeMode,target)=>(target=mod!=null?__create(__getProtoOf(mod)):{},__copyProps(isNodeMode||!mod||!mod.__esModule?__defProp(target,"default",{value:mod,enumerable:!0}):target,mod)),__toCommonJS=mod=>__copyProps(__defProp({},"__esModule",{value:!0}),mod);var require_quill_core=__commonJS({"node_modules/quill/dist/quill.core.css"(exports2,module2){module2.exports={}}});var require_quill_bubble=__commonJS({"node_modules/quill/dist/quill.bubble.css"(exports2,module2){module2.exports={}}});var require_quill_snow=__commonJS({"node_modules/quill/dist/quill.snow.css"(exports2,module2){module2.exports={}}});var floor,abs,log10,min,max,isNaN2,isNegativeZero,init_math=__esm({"node_modules/lib0/math.js"(){floor=Math.floor,abs=Math.abs,log10=Math.log10,min=(a,b)=>a<b?a:b,max=(a,b)=>a>b?a:b,isNaN2=Number.isNaN,isNegativeZero=n=>n!==0?n<0:1/n<0}});var MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,LOWEST_INT32,isInteger,isNaN3,parseInt2,init_number=__esm({"node_modules/lib0/number.js"(){init_math();MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER,MIN_SAFE_INTEGER=Number.MIN_SAFE_INTEGER,LOWEST_INT32=1<<31,isInteger=Number.isInteger||(num=>typeof num=="number"&&isFinite(num)&&floor(num)===num),isNaN3=Number.isNaN,parseInt2=Number.parseInt}});var create,init_set=__esm({"node_modules/lib0/set.js"(){create=()=>new Set}});var last,appendTo,from,some,unfold,isArray,init_array=__esm({"node_modules/lib0/array.js"(){last=arr=>arr[arr.length-1],appendTo=(dest,src)=>{for(let i=0;i<src.length;i++)dest.push(src[i])},from=Array.from,some=(arr,f)=>{for(let i=0;i<arr.length;i++)if(f(arr[i],i,arr))return!0;return!1},unfold=(len,f)=>{let array=new Array(len);for(let i=0;i<len;i++)array[i]=f(i,array);return array},isArray=Array.isArray}});var fromCharCode,fromCodePoint,MAX_UTF16_CHARACTER,toLowerCase,trimLeftRegex,trimLeft,fromCamelCaseRegex,fromCamelCase,_encodeUtf8Polyfill,utf8TextEncoder,_encodeUtf8Native,encodeUtf8,utf8TextDecoder,repeat,init_string=__esm({"node_modules/lib0/string.js"(){init_array();fromCharCode=String.fromCharCode,fromCodePoint=String.fromCodePoint,MAX_UTF16_CHARACTER=fromCharCode(65535),toLowerCase=s=>s.toLowerCase(),trimLeftRegex=/^\s*/g,trimLeft=s=>s.replace(trimLeftRegex,""),fromCamelCaseRegex=/([A-Z])/g,fromCamelCase=(s,separator)=>trimLeft(s.replace(fromCamelCaseRegex,match2=>`${separator}${toLowerCase(match2)}`)),_encodeUtf8Polyfill=str=>{let encodedString=unescape(encodeURIComponent(str)),len=encodedString.length,buf=new Uint8Array(len);for(let i=0;i<len;i++)buf[i]=encodedString.codePointAt(i);return buf},utf8TextEncoder=typeof TextEncoder<"u"?new TextEncoder:null,_encodeUtf8Native=str=>utf8TextEncoder.encode(str),encodeUtf8=utf8TextEncoder?_encodeUtf8Native:_encodeUtf8Polyfill,utf8TextDecoder=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});utf8TextDecoder&&utf8TextDecoder.decode(new Uint8Array).length===1&&(utf8TextDecoder=null);repeat=(source,n)=>unfold(n,()=>source).join("")}});var Encoder,createEncoder,length,toUint8Array,verifyLen,write,writeUint8,writeVarUint,writeVarInt,_strBuffer,_maxStrBSize,_writeVarStringNative,_writeVarStringPolyfill,writeVarString,writeBinaryEncoder,writeUint8Array,writeVarUint8Array,writeOnDataView,writeFloat32,writeFloat64,writeBigInt64,floatTestBed,isFloat32,writeAny,RleEncoder,flushUintOptRleEncoder,UintOptRleEncoder,flushIntDiffOptRleEncoder,IntDiffOptRleEncoder,StringEncoder,init_encoding=__esm({"node_modules/lib0/encoding.js"(){init_math();init_number();init_string();init_array();Encoder=class{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}},createEncoder=()=>new Encoder,length=encoder=>{let len=encoder.cpos;for(let i=0;i<encoder.bufs.length;i++)len+=encoder.bufs[i].length;return len},toUint8Array=encoder=>{let uint8arr=new Uint8Array(length(encoder)),curPos=0;for(let i=0;i<encoder.bufs.length;i++){let d=encoder.bufs[i];uint8arr.set(d,curPos),curPos+=d.length}return uint8arr.set(new Uint8Array(encoder.cbuf.buffer,0,encoder.cpos),curPos),uint8arr},verifyLen=(encoder,len)=>{let bufferLen=encoder.cbuf.length;bufferLen-encoder.cpos<len&&(encoder.bufs.push(new Uint8Array(encoder.cbuf.buffer,0,encoder.cpos)),encoder.cbuf=new Uint8Array(max(bufferLen,len)*2),encoder.cpos=0)},write=(encoder,num)=>{let bufferLen=encoder.cbuf.length;encoder.cpos===bufferLen&&(encoder.bufs.push(encoder.cbuf),encoder.cbuf=new Uint8Array(bufferLen*2),encoder.cpos=0),encoder.cbuf[encoder.cpos++]=num},writeUint8=write,writeVarUint=(encoder,num)=>{for(;num>127;)write(encoder,128|127&num),num=floor(num/128);write(encoder,127&num)},writeVarInt=(encoder,num)=>{let isNegative=isNegativeZero(num);for(isNegative&&(num=-num),write(encoder,(num>63?128:0)|(isNegative?64:0)|63&num),num=floor(num/64);num>0;)write(encoder,(num>127?128:0)|127&num),num=floor(num/128)},_strBuffer=new Uint8Array(3e4),_maxStrBSize=_strBuffer.length/3,_writeVarStringNative=(encoder,str)=>{if(str.length<_maxStrBSize){let written=utf8TextEncoder.encodeInto(str,_strBuffer).written||0;writeVarUint(encoder,written);for(let i=0;i<written;i++)write(encoder,_strBuffer[i])}else writeVarUint8Array(encoder,encodeUtf8(str))},_writeVarStringPolyfill=(encoder,str)=>{let encodedString=unescape(encodeURIComponent(str)),len=encodedString.length;writeVarUint(encoder,len);for(let i=0;i<len;i++)write(encoder,encodedString.codePointAt(i))},writeVarString=utf8TextEncoder&&utf8TextEncoder.encodeInto?_writeVarStringNative:_writeVarStringPolyfill,writeBinaryEncoder=(encoder,append2)=>writeUint8Array(encoder,toUint8Array(append2)),writeUint8Array=(encoder,uint8Array)=>{let bufferLen=encoder.cbuf.length,cpos=encoder.cpos,leftCopyLen=min(bufferLen-cpos,uint8Array.length),rightCopyLen=uint8Array.length-leftCopyLen;encoder.cbuf.set(uint8Array.subarray(0,leftCopyLen),cpos),encoder.cpos+=leftCopyLen,rightCopyLen>0&&(encoder.bufs.push(encoder.cbuf),encoder.cbuf=new Uint8Array(max(bufferLen*2,rightCopyLen)),encoder.cbuf.set(uint8Array.subarray(leftCopyLen)),encoder.cpos=rightCopyLen)},writeVarUint8Array=(encoder,uint8Array)=>{writeVarUint(encoder,uint8Array.byteLength),writeUint8Array(encoder,uint8Array)},writeOnDataView=(encoder,len)=>{verifyLen(encoder,len);let dview=new DataView(encoder.cbuf.buffer,encoder.cpos,len);return encoder.cpos+=len,dview},writeFloat32=(encoder,num)=>writeOnDataView(encoder,4).setFloat32(0,num,!1),writeFloat64=(encoder,num)=>writeOnDataView(encoder,8).setFloat64(0,num,!1),writeBigInt64=(encoder,num)=>writeOnDataView(encoder,8).setBigInt64(0,num,!1),floatTestBed=new DataView(new ArrayBuffer(4)),isFloat32=num=>(floatTestBed.setFloat32(0,num),floatTestBed.getFloat32(0)===num),writeAny=(encoder,data)=>{switch(typeof data){case"string":write(encoder,119),writeVarString(encoder,data);break;case"number":isInteger(data)&&abs(data)<=2147483647?(write(encoder,125),writeVarInt(encoder,data)):isFloat32(data)?(write(encoder,124),writeFloat32(encoder,data)):(write(encoder,123),writeFloat64(encoder,data));break;case"bigint":write(encoder,122),writeBigInt64(encoder,data);break;case"object":if(data===null)write(encoder,126);else if(isArray(data)){write(encoder,117),writeVarUint(encoder,data.length);for(let i=0;i<data.length;i++)writeAny(encoder,data[i])}else if(data instanceof Uint8Array)write(encoder,116),writeVarUint8Array(encoder,data);else{write(encoder,118);let keys3=Object.keys(data);writeVarUint(encoder,keys3.length);for(let i=0;i<keys3.length;i++){let key=keys3[i];writeVarString(encoder,key),writeAny(encoder,data[key])}}break;case"boolean":write(encoder,data?120:121);break;default:write(encoder,127)}},RleEncoder=class extends Encoder{constructor(writer){super(),this.w=writer,this.s=null,this.count=0}write(v){this.s===v?this.count++:(this.count>0&&writeVarUint(this,this.count-1),this.count=1,this.w(this,v),this.s=v)}},flushUintOptRleEncoder=encoder=>{encoder.count>0&&(writeVarInt(encoder.encoder,encoder.count===1?encoder.s:-encoder.s),encoder.count>1&&writeVarUint(encoder.encoder,encoder.count-2))},UintOptRleEncoder=class{constructor(){this.encoder=new Encoder,this.s=0,this.count=0}write(v){this.s===v?this.count++:(flushUintOptRleEncoder(this),this.count=1,this.s=v)}toUint8Array(){return flushUintOptRleEncoder(this),toUint8Array(this.encoder)}},flushIntDiffOptRleEncoder=encoder=>{if(encoder.count>0){let encodedDiff=encoder.diff*2+(encoder.count===1?0:1);writeVarInt(encoder.encoder,encodedDiff),encoder.count>1&&writeVarUint(encoder.encoder,encoder.count-2)}},IntDiffOptRleEncoder=class{constructor(){this.encoder=new Encoder,this.s=0,this.count=0,this.diff=0}write(v){this.diff===v-this.s?(this.s=v,this.count++):(flushIntDiffOptRleEncoder(this),this.count=1,this.diff=v-this.s,this.s=v)}toUint8Array(){return flushIntDiffOptRleEncoder(this),toUint8Array(this.encoder)}},StringEncoder=class{constructor(){this.sarr=[],this.s="",this.lensE=new UintOptRleEncoder}write(string){this.s+=string,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(string.length)}toUint8Array(){let encoder=new Encoder;return this.sarr.push(this.s),this.s="",writeVarString(encoder,this.sarr.join("")),writeUint8Array(encoder,this.lensE.toUint8Array()),toUint8Array(encoder)}}}});var create2,methodUnimplemented,unexpectedCase,init_error=__esm({"node_modules/lib0/error.js"(){create2=s=>new Error(s),methodUnimplemented=()=>{throw create2("Method unimplemented")},unexpectedCase=()=>{throw create2("Unexpected case")}}});var errorUnexpectedEndOfArray,errorIntegerOutOfRange,Decoder,createDecoder,hasContent,readUint8Array,readVarUint8Array,readUint8,readVarUint,readVarInt,_readVarStringPolyfill,_readVarStringNative,readVarString,readFromDataView,readFloat32,readFloat64,readBigInt64,readAnyLookupTable,readAny,RleDecoder,UintOptRleDecoder,IntDiffOptRleDecoder,StringDecoder,init_decoding=__esm({"node_modules/lib0/decoding.js"(){init_math();init_number();init_string();init_error();errorUnexpectedEndOfArray=create2("Unexpected end of array"),errorIntegerOutOfRange=create2("Integer out of Range"),Decoder=class{constructor(uint8Array){this.arr=uint8Array,this.pos=0}},createDecoder=uint8Array=>new Decoder(uint8Array),hasContent=decoder=>decoder.pos!==decoder.arr.length,readUint8Array=(decoder,len)=>{let view=new Uint8Array(decoder.arr.buffer,decoder.pos+decoder.arr.byteOffset,len);return decoder.pos+=len,view},readVarUint8Array=decoder=>readUint8Array(decoder,readVarUint(decoder)),readUint8=decoder=>decoder.arr[decoder.pos++],readVarUint=decoder=>{let num=0,mult=1,len=decoder.arr.length;for(;decoder.pos<len;){let r=decoder.arr[decoder.pos++];if(num=num+(r&127)*mult,mult*=128,r<128)return num;if(num>MAX_SAFE_INTEGER)throw errorIntegerOutOfRange}throw errorUnexpectedEndOfArray},readVarInt=decoder=>{let r=decoder.arr[decoder.pos++],num=r&63,mult=64,sign=(r&64)>0?-1:1;if(!(r&128))return sign*num;let len=decoder.arr.length;for(;decoder.pos<len;){if(r=decoder.arr[decoder.pos++],num=num+(r&127)*mult,mult*=128,r<128)return sign*num;if(num>MAX_SAFE_INTEGER)throw errorIntegerOutOfRange}throw errorUnexpectedEndOfArray},_readVarStringPolyfill=decoder=>{let remainingLen=readVarUint(decoder);if(remainingLen===0)return"";{let encodedString=String.fromCodePoint(readUint8(decoder));if(--remainingLen<100)for(;remainingLen--;)encodedString+=String.fromCodePoint(readUint8(decoder));else for(;remainingLen>0;){let nextLen=remainingLen<1e4?remainingLen:1e4,bytes=decoder.arr.subarray(decoder.pos,decoder.pos+nextLen);decoder.pos+=nextLen,encodedString+=String.fromCodePoint.apply(null,bytes),remainingLen-=nextLen}return decodeURIComponent(escape(encodedString))}},_readVarStringNative=decoder=>utf8TextDecoder.decode(readVarUint8Array(decoder)),readVarString=utf8TextDecoder?_readVarStringNative:_readVarStringPolyfill,readFromDataView=(decoder,len)=>{let dv=new DataView(decoder.arr.buffer,decoder.arr.byteOffset+decoder.pos,len);return decoder.pos+=len,dv},readFloat32=decoder=>readFromDataView(decoder,4).getFloat32(0,!1),readFloat64=decoder=>readFromDataView(decoder,8).getFloat64(0,!1),readBigInt64=decoder=>readFromDataView(decoder,8).getBigInt64(0,!1),readAnyLookupTable=[decoder=>{},decoder=>null,readVarInt,readFloat32,readFloat64,readBigInt64,decoder=>!1,decoder=>!0,readVarString,decoder=>{let len=readVarUint(decoder),obj={};for(let i=0;i<len;i++){let key=readVarString(decoder);obj[key]=readAny(decoder)}return obj},decoder=>{let len=readVarUint(decoder),arr=[];for(let i=0;i<len;i++)arr.push(readAny(decoder));return arr},readVarUint8Array],readAny=decoder=>readAnyLookupTable[127-readUint8(decoder)](decoder),RleDecoder=class extends Decoder{constructor(uint8Array,reader){super(uint8Array),this.reader=reader,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),hasContent(this)?this.count=readVarUint(this)+1:this.count=-1),this.count--,this.s}},UintOptRleDecoder=class extends Decoder{constructor(uint8Array){super(uint8Array),this.s=0,this.count=0}read(){if(this.count===0){this.s=readVarInt(this);let isNegative=isNegativeZero(this.s);this.count=1,isNegative&&(this.s=-this.s,this.count=readVarUint(this)+2)}return this.count--,this.s}},IntDiffOptRleDecoder=class extends Decoder{constructor(uint8Array){super(uint8Array),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){let diff=readVarInt(this),hasCount=diff&1;this.diff=floor(diff/2),this.count=1,hasCount&&(this.count=readVarUint(this)+2)}return this.s+=this.diff,this.count--,this.s}},StringDecoder=class{constructor(uint8Array){this.decoder=new UintOptRleDecoder(uint8Array),this.str=readVarString(this.decoder),this.spos=0}read(){let end=this.spos+this.decoder.read(),res=this.str.slice(this.spos,end);return this.spos=end,res}}}});var getUnixTime,init_time=__esm({"node_modules/lib0/time.js"(){getUnixTime=Date.now}});var create3,copy,setIfUndefined,map,any,init_map=__esm({"node_modules/lib0/map.js"(){create3=()=>new Map,copy=m=>{let r=create3();return m.forEach((v,k)=>{r.set(k,v)}),r},setIfUndefined=(map2,key,createT)=>{let set=map2.get(key);return set===void 0&&map2.set(key,set=createT()),set},map=(m,f)=>{let res=[];for(let[key,value]of m)res.push(f(value,key));return res},any=(m,f)=>{for(let[key,value]of m)if(f(value,key))return!0;return!1}}});var ObservableV2,Observable,init_observable=__esm({"node_modules/lib0/observable.js"(){init_map();init_set();init_array();ObservableV2=class{constructor(){this._observers=create3()}on(name,f){return setIfUndefined(this._observers,name,create).add(f),f}once(name,f){let _f=(...args2)=>{this.off(name,_f),f(...args2)};this.on(name,_f)}off(name,f){let observers=this._observers.get(name);observers!==void 0&&(observers.delete(f),observers.size===0&&this._observers.delete(name))}emit(name,args2){return from((this._observers.get(name)||create3()).values()).forEach(f=>f(...args2))}destroy(){this._observers=create3()}},Observable=class{constructor(){this._observers=create3()}on(name,f){setIfUndefined(this._observers,name,create).add(f)}once(name,f){let _f=(...args2)=>{this.off(name,_f),f(...args2)};this.on(name,_f)}off(name,f){let observers=this._observers.get(name);observers!==void 0&&(observers.delete(f),observers.size===0&&this._observers.delete(name))}emit(name,args2){return from((this._observers.get(name)||create3()).values()).forEach(f=>f(...args2))}destroy(){this._observers=create3()}}}});var assign,keys,forEach,length2,size,isEmpty,every,hasProperty,equalFlat,freeze,deepFreeze,init_object=__esm({"node_modules/lib0/object.js"(){assign=Object.assign,keys=Object.keys,forEach=(obj,f)=>{for(let key in obj)f(obj[key],key)},length2=obj=>keys(obj).length,size=obj=>keys(obj).length,isEmpty=obj=>{for(let _k in obj)return!1;return!0},every=(obj,f)=>{for(let key in obj)if(!f(obj[key],key))return!1;return!0},hasProperty=(obj,key)=>Object.prototype.hasOwnProperty.call(obj,key),equalFlat=(a,b)=>a===b||size(a)===size(b)&&every(a,(val,key)=>(val!==void 0||hasProperty(b,key))&&b[key]===val),freeze=Object.freeze,deepFreeze=o=>{for(let key in o){let c=o[key];(typeof c=="object"||typeof c=="function")&&deepFreeze(o[key])}return freeze(o)}}});var callAll,nop,id,equalityStrict,equalityDeep,isOneOf,init_function=__esm({"node_modules/lib0/function.js"(){init_object();callAll=(fs,args2,i=0)=>{try{for(;i<fs.length;i++)fs[i](...args2)}finally{i<fs.length&&callAll(fs,args2,i+1)}},nop=()=>{},id=a=>a,equalityStrict=(a,b)=>a===b,equalityDeep=(a,b)=>{if(a==null||b==null)return equalityStrict(a,b);if(a.constructor!==b.constructor)return!1;if(a===b)return!0;switch(a.constructor){case ArrayBuffer:a=new Uint8Array(a),b=new Uint8Array(b);case Uint8Array:{if(a.byteLength!==b.byteLength)return!1;for(let i=0;i<a.length;i++)if(a[i]!==b[i])return!1;break}case Set:{if(a.size!==b.size)return!1;for(let value of a)if(!b.has(value))return!1;break}case Map:{if(a.size!==b.size)return!1;for(let key of a.keys())if(!b.has(key)||!equalityDeep(a.get(key),b.get(key)))return!1;break}case Object:if(length2(a)!==length2(b))return!1;for(let key in a)if(!hasProperty(a,key)||!equalityDeep(a[key],b[key]))return!1;break;case Array:if(a.length!==b.length)return!1;for(let i=0;i<a.length;i++)if(!equalityDeep(a[i],b[i]))return!1;break;default:return!1}return!0},isOneOf=(value,options)=>options.includes(value)}});var subtle,getRandomValues,init_webcrypto=__esm({"node_modules/lib0/webcrypto.js"(){subtle=crypto.subtle,getRandomValues=crypto.getRandomValues.bind(crypto)}});var rand,uint32,uuidv4Template,uuidv4,init_random=__esm({"node_modules/lib0/random.js"(){init_webcrypto();rand=Math.random,uint32=()=>getRandomValues(new Uint32Array(1))[0],uuidv4Template="10000000-1000-4000-8000"+-1e11,uuidv4=()=>uuidv4Template.replace(/[018]/g,c=>(c^uint32()&15>>c/4).toString(16))}});var create4,all,reject,resolve,init_promise=__esm({"node_modules/lib0/promise.js"(){create4=f=>new Promise(f),all=Promise.all.bind(Promise),reject=reason=>Promise.reject(reason),resolve=res=>Promise.resolve(res)}});var undefinedToNull,init_conditions=__esm({"node_modules/lib0/conditions.js"(){undefinedToNull=v=>v===void 0?null:v}});var VarStoragePolyfill,_localStorage,usePolyfill,varStorage,onChange,offChange,init_storage=__esm({"node_modules/lib0/storage.js"(){VarStoragePolyfill=class{constructor(){this.map=new Map}setItem(key,newValue){this.map.set(key,newValue)}getItem(key){return this.map.get(key)}},_localStorage=new VarStoragePolyfill,usePolyfill=!0;try{typeof localStorage<"u"&&localStorage&&(_localStorage=localStorage,usePolyfill=!1)}catch{}varStorage=_localStorage,onChange=eventHandler=>usePolyfill||addEventListener("storage",eventHandler),offChange=eventHandler=>usePolyfill||removeEventListener("storage",eventHandler)}});var isNode,isBrowser,isMac,params,args,computeParams,hasParam,getVariable,hasConf,production,forceColor,supportsColor,init_environment=__esm({"node_modules/lib0/environment.js"(){init_map();init_string();init_conditions();init_storage();init_function();isNode=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",isBrowser=typeof window<"u"&&typeof document<"u"&&!isNode,isMac=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,args=[],computeParams=()=>{if(params===void 0)if(isNode){params=create3();let pargs=process.argv,currParamName=null;for(let i=0;i<pargs.length;i++){let parg=pargs[i];parg[0]==="-"?(currParamName!==null&&params.set(currParamName,""),currParamName=parg):currParamName!==null?(params.set(currParamName,parg),currParamName=null):args.push(parg)}currParamName!==null&&params.set(currParamName,"")}else typeof location=="object"?(params=create3(),(location.search||"?").slice(1).split("&").forEach(kv=>{if(kv.length!==0){let[key,value]=kv.split("=");params.set(`--${fromCamelCase(key,"-")}`,value),params.set(`-${fromCamelCase(key,"-")}`,value)}})):params=create3();return params},hasParam=name=>computeParams().has(name),getVariable=name=>isNode?undefinedToNull(process.env[name.toUpperCase().replaceAll("-","_")]):undefinedToNull(varStorage.getItem(name)),hasConf=name=>hasParam("--"+name)||getVariable(name)!==null,production=hasConf("production"),forceColor=isNode&&isOneOf(process.env.FORCE_COLOR,["true","1","2"]),supportsColor=forceColor||!hasParam("--no-colors")&&!hasConf("no-color")&&(!isNode||process.stdout.isTTY)&&(!isNode||hasParam("--color")||getVariable("COLORTERM")!==null||(getVariable("TERM")||"").includes("color"))}});var createUint8ArrayFromLen,createUint8ArrayViewFromArrayBuffer,createUint8ArrayFromArrayBuffer,toBase64Browser,toBase64Node,fromBase64Browser,fromBase64Node,toBase64,fromBase64,copyUint8Array,init_buffer=__esm({"node_modules/lib0/buffer.js"(){init_string();init_environment();createUint8ArrayFromLen=len=>new Uint8Array(len),createUint8ArrayViewFromArrayBuffer=(buffer,byteOffset,length3)=>new Uint8Array(buffer,byteOffset,length3),createUint8ArrayFromArrayBuffer=buffer=>new Uint8Array(buffer),toBase64Browser=bytes=>{let s="";for(let i=0;i<bytes.byteLength;i++)s+=fromCharCode(bytes[i]);return btoa(s)},toBase64Node=bytes=>Buffer.from(bytes.buffer,bytes.byteOffset,bytes.byteLength).toString("base64"),fromBase64Browser=s=>{let a=atob(s),bytes=createUint8ArrayFromLen(a.length);for(let i=0;i<a.length;i++)bytes[i]=a.charCodeAt(i);return bytes},fromBase64Node=s=>{let buf=Buffer.from(s,"base64");return createUint8ArrayViewFromArrayBuffer(buf.buffer,buf.byteOffset,buf.byteLength)},toBase64=isBrowser?toBase64Browser:toBase64Node,fromBase64=isBrowser?fromBase64Browser:fromBase64Node,copyUint8Array=uint8Array=>{let newBuf=createUint8ArrayFromLen(uint8Array.byteLength);return newBuf.set(uint8Array),newBuf}}});var Pair,create5,init_pair=__esm({"node_modules/lib0/pair.js"(){Pair=class{constructor(left,right){this.left=left,this.right=right}},create5=(left,right)=>new Pair(left,right)}});var doc,domParser,mapToStyleString,ELEMENT_NODE,TEXT_NODE,CDATA_SECTION_NODE,COMMENT_NODE,DOCUMENT_NODE,DOCUMENT_TYPE_NODE,DOCUMENT_FRAGMENT_NODE,init_dom=__esm({"node_modules/lib0/dom.js"(){init_map();doc=typeof document<"u"?document:{},domParser=typeof DOMParser<"u"?new DOMParser:null,mapToStyleString=m=>map(m,(value,key)=>`${key}:${value};`).join(""),ELEMENT_NODE=doc.ELEMENT_NODE,TEXT_NODE=doc.TEXT_NODE,CDATA_SECTION_NODE=doc.CDATA_SECTION_NODE,COMMENT_NODE=doc.COMMENT_NODE,DOCUMENT_NODE=doc.DOCUMENT_NODE,DOCUMENT_TYPE_NODE=doc.DOCUMENT_TYPE_NODE,DOCUMENT_FRAGMENT_NODE=doc.DOCUMENT_FRAGMENT_NODE}});var stringify,init_json=__esm({"node_modules/lib0/json.js"(){stringify=JSON.stringify}});var create6,init_symbol=__esm({"node_modules/lib0/symbol.js"(){create6=Symbol}});var BOLD,UNBOLD,BLUE,GREY,GREEN,RED,PURPLE,ORANGE,UNCOLOR,computeNoColorLoggingArgs,loggingColors,nextColor,lastLoggingTime,createModuleLogger,init_logging_common=__esm({"node_modules/lib0/logging.common.js"(){init_symbol();init_time();init_environment();init_function();init_json();BOLD=create6(),UNBOLD=create6(),BLUE=create6(),GREY=create6(),GREEN=create6(),RED=create6(),PURPLE=create6(),ORANGE=create6(),UNCOLOR=create6(),computeNoColorLoggingArgs=args2=>{args2.length===1&&args2[0]?.constructor===Function&&(args2=args2[0]());let strBuilder=[],logArgs=[],i=0;for(;i<args2.length;i++){let arg=args2[i];if(arg===void 0)break;if(arg.constructor===String||arg.constructor===Number)strBuilder.push(arg);else if(arg.constructor===Object)break}for(i>0&&logArgs.push(strBuilder.join(""));i<args2.length;i++){let arg=args2[i];arg instanceof Symbol||logArgs.push(arg)}return logArgs},loggingColors=[GREEN,PURPLE,ORANGE,BLUE],nextColor=0,lastLoggingTime=getUnixTime(),createModuleLogger=(_print,moduleName)=>{let color=loggingColors[nextColor],debugRegexVar=getVariable("log"),doLogging=debugRegexVar!==null&&(debugRegexVar==="*"||debugRegexVar==="true"||new RegExp(debugRegexVar,"gi").test(moduleName));return nextColor=(nextColor+1)%loggingColors.length,moduleName+=": ",doLogging?(...args2)=>{args2.length===1&&args2[0]?.constructor===Function&&(args2=args2[0]());let timeNow=getUnixTime(),timeDiff=timeNow-lastLoggingTime;lastLoggingTime=timeNow,_print(color,moduleName,UNCOLOR,...args2.map(arg=>{switch(arg!=null&&arg.constructor===Uint8Array&&(arg=Array.from(arg)),typeof arg){case"string":case"symbol":return arg;default:return stringify(arg)}}),color," +"+timeDiff+"ms")}:nop}}});var _browserStyleMap,computeBrowserLoggingArgs,computeLoggingArgs,print,warn,vconsoles,createModuleLogger2,init_logging=__esm({"node_modules/lib0/logging.js"(){init_environment();init_set();init_pair();init_dom();init_map();init_logging_common();init_logging_common();_browserStyleMap={[BOLD]:create5("font-weight","bold"),[UNBOLD]:create5("font-weight","normal"),[BLUE]:create5("color","blue"),[GREEN]:create5("color","green"),[GREY]:create5("color","grey"),[RED]:create5("color","red"),[PURPLE]:create5("color","purple"),[ORANGE]:create5("color","orange"),[UNCOLOR]:create5("color","black")},computeBrowserLoggingArgs=args2=>{args2.length===1&&args2[0]?.constructor===Function&&(args2=args2[0]());let strBuilder=[],styles=[],currentStyle=create3(),logArgs=[],i=0;for(;i<args2.length;i++){let arg=args2[i],style=_browserStyleMap[arg];if(style!==void 0)currentStyle.set(style.left,style.right);else{if(arg===void 0)break;if(arg.constructor===String||arg.constructor===Number){let style2=mapToStyleString(currentStyle);i>0||style2.length>0?(strBuilder.push("%c"+arg),styles.push(style2)):strBuilder.push(arg)}else break}}for(i>0&&(logArgs=styles,logArgs.unshift(strBuilder.join("")));i<args2.length;i++){let arg=args2[i];arg instanceof Symbol||logArgs.push(arg)}return logArgs},computeLoggingArgs=supportsColor?computeBrowserLoggingArgs:computeNoColorLoggingArgs,print=(...args2)=>{console.log(...computeLoggingArgs(args2)),vconsoles.forEach(vc=>vc.print(args2))},warn=(...args2)=>{console.warn(...computeLoggingArgs(args2)),args2.unshift(ORANGE),vconsoles.forEach(vc=>vc.print(args2))},vconsoles=create(),createModuleLogger2=moduleName=>createModuleLogger(print,moduleName)}});var createIterator,iteratorFilter,iteratorMap,init_iterator=__esm({"node_modules/lib0/iterator.js"(){createIterator=next=>({[Symbol.iterator](){return this},next}),iteratorFilter=(iterator,filter)=>createIterator(()=>{let res;do res=iterator.next();while(!res.done&&!filter(res.value));return res}),iteratorMap=(iterator,fmap)=>createIterator(()=>{let{done,value}=iterator.next();return{done,value:done?void 0:fmap(value)}})}});var yjs_exports={};__export(yjs_exports,{AbsolutePosition:()=>AbsolutePosition,AbstractConnector:()=>AbstractConnector,AbstractStruct:()=>AbstractStruct,AbstractType:()=>AbstractType,Array:()=>YArray,ContentAny:()=>ContentAny,ContentBinary:()=>ContentBinary,ContentDeleted:()=>ContentDeleted,ContentDoc:()=>ContentDoc,ContentEmbed:()=>ContentEmbed,ContentFormat:()=>ContentFormat,ContentJSON:()=>ContentJSON,ContentString:()=>ContentString,ContentType:()=>ContentType,Doc:()=>Doc,GC:()=>GC,ID:()=>ID,Item:()=>Item,Map:()=>YMap,PermanentUserData:()=>PermanentUserData,RelativePosition:()=>RelativePosition,Skip:()=>Skip,Snapshot:()=>Snapshot,Text:()=>YText,Transaction:()=>Transaction,UndoManager:()=>UndoManager,UpdateDecoderV1:()=>UpdateDecoderV1,UpdateDecoderV2:()=>UpdateDecoderV2,UpdateEncoderV1:()=>UpdateEncoderV1,UpdateEncoderV2:()=>UpdateEncoderV2,XmlElement:()=>YXmlElement,XmlFragment:()=>YXmlFragment,XmlHook:()=>YXmlHook,XmlText:()=>YXmlText,YArrayEvent:()=>YArrayEvent,YEvent:()=>YEvent,YMapEvent:()=>YMapEvent,YTextEvent:()=>YTextEvent,YXmlEvent:()=>YXmlEvent,applyUpdate:()=>applyUpdate,applyUpdateV2:()=>applyUpdateV2,cleanupYTextFormatting:()=>cleanupYTextFormatting,compareIDs:()=>compareIDs,compareRelativePositions:()=>compareRelativePositions,convertUpdateFormatV1ToV2:()=>convertUpdateFormatV1ToV2,convertUpdateFormatV2ToV1:()=>convertUpdateFormatV2ToV1,createAbsolutePositionFromRelativePosition:()=>createAbsolutePositionFromRelativePosition,createDeleteSet:()=>createDeleteSet,createDeleteSetFromStructStore:()=>createDeleteSetFromStructStore,createDocFromSnapshot:()=>createDocFromSnapshot,createID:()=>createID,createRelativePositionFromJSON:()=>createRelativePositionFromJSON,createRelativePositionFromTypeIndex:()=>createRelativePositionFromTypeIndex,createSnapshot:()=>createSnapshot,decodeRelativePosition:()=>decodeRelativePosition,decodeSnapshot:()=>decodeSnapshot,decodeSnapshotV2:()=>decodeSnapshotV2,decodeStateVector:()=>decodeStateVector,decodeUpdate:()=>decodeUpdate,decodeUpdateV2:()=>decodeUpdateV2,diffUpdate:()=>diffUpdate,diffUpdateV2:()=>diffUpdateV2,emptySnapshot:()=>emptySnapshot,encodeRelativePosition:()=>encodeRelativePosition,encodeSnapshot:()=>encodeSnapshot,encodeSnapshotV2:()=>encodeSnapshotV2,encodeStateAsUpdate:()=>encodeStateAsUpdate,encodeStateAsUpdateV2:()=>encodeStateAsUpdateV2,encodeStateVector:()=>encodeStateVector,encodeStateVectorFromUpdate:()=>encodeStateVectorFromUpdate,encodeStateVectorFromUpdateV2:()=>encodeStateVectorFromUpdateV2,equalDeleteSets:()=>equalDeleteSets,equalSnapshots:()=>equalSnapshots,findIndexSS:()=>findIndexSS,findRootTypeKey:()=>findRootTypeKey,getItem:()=>getItem,getState:()=>getState,getTypeChildren:()=>getTypeChildren,isDeleted:()=>isDeleted,isParentOf:()=>isParentOf,iterateDeletedStructs:()=>iterateDeletedStructs,logType:()=>logType,logUpdate:()=>logUpdate,logUpdateV2:()=>logUpdateV2,mergeDeleteSets:()=>mergeDeleteSets,mergeUpdates:()=>mergeUpdates,mergeUpdatesV2:()=>mergeUpdatesV2,obfuscateUpdate:()=>obfuscateUpdate,obfuscateUpdateV2:()=>obfuscateUpdateV2,parseUpdateMeta:()=>parseUpdateMeta,parseUpdateMetaV2:()=>parseUpdateMetaV2,readUpdate:()=>readUpdate,readUpdateV2:()=>readUpdateV2,relativePositionToJSON:()=>relativePositionToJSON,snapshot:()=>snapshot,snapshotContainsUpdate:()=>snapshotContainsUpdate,transact:()=>transact,tryGc:()=>tryGc,typeListToArraySnapshot:()=>typeListToArraySnapshot,typeMapGetAllSnapshot:()=>typeMapGetAllSnapshot,typeMapGetSnapshot:()=>typeMapGetSnapshot});function*lazyStructReaderGenerator(decoder){let numOfStateUpdates=readVarUint(decoder.restDecoder);for(let i=0;i<numOfStateUpdates;i++){let numberOfStructs=readVarUint(decoder.restDecoder),client=decoder.readClient(),clock=readVarUint(decoder.restDecoder);for(let i2=0;i2<numberOfStructs;i2++){let info=decoder.readInfo();if(info===10){let len=readVarUint(decoder.restDecoder);yield new Skip(createID(client,clock),len),clock+=len}else if(31&info){let cantCopyParentInfo=(info&192)===0,struct=new Item(createID(client,clock),null,(info&128)===128?decoder.readLeftID():null,null,(info&64)===64?decoder.readRightID():null,cantCopyParentInfo?decoder.readParentInfo()?decoder.readString():decoder.readLeftID():null,cantCopyParentInfo&&(info&32)===32?decoder.readString():null,readItemContent(decoder,info));yield struct,clock+=struct.length}else{let len=decoder.readLen();yield new GC(createID(client,clock),len),clock+=len}}}}var AbstractConnector,DeleteItem,DeleteSet,iterateDeletedStructs,findIndexDS,isDeleted,sortAndMergeDeleteSet,mergeDeleteSets,addToDeleteSet,createDeleteSet,createDeleteSetFromStructStore,writeDeleteSet,readDeleteSet,readAndApplyDeleteSet,equalDeleteSets,generateNewClientId,Doc,DSDecoderV1,UpdateDecoderV1,DSDecoderV2,UpdateDecoderV2,DSEncoderV1,UpdateEncoderV1,DSEncoderV2,UpdateEncoderV2,writeStructs,writeClientsStructs,readClientsStructRefs,integrateStructs,writeStructsFromTransaction,readUpdateV2,readUpdate,applyUpdateV2,applyUpdate,writeStateAsUpdate,encodeStateAsUpdateV2,encodeStateAsUpdate,readStateVector,decodeStateVector,writeStateVector,writeDocumentStateVector,encodeStateVectorV2,encodeStateVector,EventHandler,createEventHandler,addEventHandlerListener,removeEventHandlerListener,callEventHandlerListeners,ID,compareIDs,createID,writeID,readID,findRootTypeKey,isParentOf,logType,PermanentUserData,RelativePosition,relativePositionToJSON,createRelativePositionFromJSON,AbsolutePosition,createAbsolutePosition,createRelativePosition,createRelativePositionFromTypeIndex,writeRelativePosition,encodeRelativePosition,readRelativePosition,decodeRelativePosition,createAbsolutePositionFromRelativePosition,compareRelativePositions,Snapshot,equalSnapshots,encodeSnapshotV2,encodeSnapshot,decodeSnapshotV2,decodeSnapshot,createSnapshot,emptySnapshot,snapshot,isVisible,splitSnapshotAffectedStructs,createDocFromSnapshot,snapshotContainsUpdateV2,snapshotContainsUpdate,StructStore,getStateVector,getState,addStruct,findIndexSS,find,getItem,findIndexCleanStart,getItemCleanStart,getItemCleanEnd,replaceStruct,iterateStructs,Transaction,writeUpdateMessageFromTransaction,addChangedTypeToTransaction,tryToMergeWithLefts,tryGcDeleteSet,tryMergeDeleteSet,tryGc,cleanupTransactions,transact,StackItem,clearUndoManagerStackItem,popStackItem,UndoManager,LazyStructReader,logUpdate,logUpdateV2,decodeUpdate,decodeUpdateV2,LazyStructWriter,mergeUpdates,encodeStateVectorFromUpdateV2,encodeStateVectorFromUpdate,parseUpdateMetaV2,parseUpdateMeta,sliceStruct,mergeUpdatesV2,diffUpdateV2,diffUpdate,flushLazyStructWriter,writeStructToLazyStructWriter,finishLazyStructWriting,convertUpdateFormat,createObfuscator,obfuscateUpdate,obfuscateUpdateV2,convertUpdateFormatV1ToV2,convertUpdateFormatV2ToV1,errorComputeChanges,YEvent,getPathTo,warnPrematureAccess,maxSearchMarker,globalSearchMarkerTimestamp,ArraySearchMarker,refreshMarkerTimestamp,overwriteMarker,markPosition,findMarker,updateMarkerChanges,getTypeChildren,callTypeObservers,AbstractType,typeListSlice,typeListToArray,typeListToArraySnapshot,typeListForEach,typeListMap,typeListCreateIterator,typeListGet,typeListInsertGenericsAfter,lengthExceeded,typeListInsertGenerics,typeListPushGenerics,typeListDelete,typeMapDelete,typeMapSet,typeMapGet,typeMapGetAll,typeMapHas,typeMapGetSnapshot,typeMapGetAllSnapshot,createMapIterator,YArrayEvent,YArray,readYArray,YMapEvent,YMap,readYMap,equalAttrs,ItemTextListPosition,findNextPosition,findPosition,insertNegatedAttributes,updateCurrentAttributes,minimizeAttributeChanges,insertAttributes,insertText,formatText,cleanupFormattingGap,cleanupContextlessFormattingGap,cleanupYTextFormatting,cleanupYTextAfterTransaction,deleteText,YTextEvent,YText,readYText,YXmlTreeWalker,YXmlFragment,readYXmlFragment,YXmlElement,readYXmlElement,YXmlEvent,YXmlHook,readYXmlHook,YXmlText,readYXmlText,AbstractStruct,structGCRefNumber,GC,ContentBinary,readContentBinary,ContentDeleted,readContentDeleted,createDocFromOpts,ContentDoc,readContentDoc,ContentEmbed,readContentEmbed,ContentFormat,readContentFormat,ContentJSON,readContentJSON,isDevMode,ContentAny,readContentAny,ContentString,readContentString,typeRefs,YArrayRefID,YMapRefID,YTextRefID,YXmlElementRefID,YXmlFragmentRefID,YXmlHookRefID,YXmlTextRefID,ContentType,readContentType,followRedone,keepItem,splitItem,isDeletedByUndoStack,redoItem,Item,readItemContent,contentRefs,structSkipRefNumber,Skip,glo,importIdentifier,init_yjs=__esm({"node_modules/yjs/dist/yjs.mjs"(){init_observable();init_array();init_math();init_map();init_encoding();init_decoding();init_random();init_promise();init_buffer();init_error();init_function();init_function();init_set();init_logging();init_time();init_string();init_iterator();init_object();init_environment();AbstractConnector=class extends ObservableV2{constructor(ydoc,awareness){super(),this.doc=ydoc,this.awareness=awareness}},DeleteItem=class{constructor(clock,len){this.clock=clock,this.len=len}},DeleteSet=class{constructor(){this.clients=new Map}},iterateDeletedStructs=(transaction,ds,f)=>ds.clients.forEach((deletes,clientid)=>{let structs=transaction.doc.store.clients.get(clientid);for(let i=0;i<deletes.length;i++){let del2=deletes[i];iterateStructs(transaction,structs,del2.clock,del2.len,f)}}),findIndexDS=(dis,clock)=>{let left=0,right=dis.length-1;for(;left<=right;){let midindex=floor((left+right)/2),mid=dis[midindex],midclock=mid.clock;if(midclock<=clock){if(clock<midclock+mid.len)return midindex;left=midindex+1}else right=midindex-1}return null},isDeleted=(ds,id2)=>{let dis=ds.clients.get(id2.client);return dis!==void 0&&findIndexDS(dis,id2.clock)!==null},sortAndMergeDeleteSet=ds=>{ds.clients.forEach(dels=>{dels.sort((a,b)=>a.clock-b.clock);let i,j;for(i=1,j=1;i<dels.length;i++){let left=dels[j-1],right=dels[i];left.clock+left.len>=right.clock?left.len=max(left.len,right.clock+right.len-left.clock):(j<i&&(dels[j]=right),j++)}dels.length=j})},mergeDeleteSets=dss=>{let merged=new DeleteSet;for(let dssI=0;dssI<dss.length;dssI++)dss[dssI].clients.forEach((delsLeft,client)=>{if(!merged.clients.has(client)){let dels=delsLeft.slice();for(let i=dssI+1;i<dss.length;i++)appendTo(dels,dss[i].clients.get(client)||[]);merged.clients.set(client,dels)}});return sortAndMergeDeleteSet(merged),merged},addToDeleteSet=(ds,client,clock,length3)=>{setIfUndefined(ds.clients,client,()=>[]).push(new DeleteItem(clock,length3))},createDeleteSet=()=>new DeleteSet,createDeleteSetFromStructStore=ss=>{let ds=createDeleteSet();return ss.clients.forEach((structs,client)=>{let dsitems=[];for(let i=0;i<structs.length;i++){let struct=structs[i];if(struct.deleted){let clock=struct.id.clock,len=struct.length;if(i+1<structs.length)for(let next=structs[i+1];i+1<structs.length&&next.deleted;next=structs[++i+1])len+=next.length;dsitems.push(new DeleteItem(clock,len))}}dsitems.length>0&&ds.clients.set(client,dsitems)}),ds},writeDeleteSet=(encoder,ds)=>{writeVarUint(encoder.restEncoder,ds.clients.size),from(ds.clients.entries()).sort((a,b)=>b[0]-a[0]).forEach(([client,dsitems])=>{encoder.resetDsCurVal(),writeVarUint(encoder.restEncoder,client);let len=dsitems.length;writeVarUint(encoder.restEncoder,len);for(let i=0;i<len;i++){let item=dsitems[i];encoder.writeDsClock(item.clock),encoder.writeDsLen(item.len)}})},readDeleteSet=decoder=>{let ds=new DeleteSet,numClients=readVarUint(decoder.restDecoder);for(let i=0;i<numClients;i++){decoder.resetDsCurVal();let client=readVarUint(decoder.restDecoder),numberOfDeletes=readVarUint(decoder.restDecoder);if(numberOfDeletes>0){let dsField=setIfUndefined(ds.clients,client,()=>[]);for(let i2=0;i2<numberOfDeletes;i2++)dsField.push(new DeleteItem(decoder.readDsClock(),decoder.readDsLen()))}}return ds},readAndApplyDeleteSet=(decoder,transaction,store)=>{let unappliedDS=new DeleteSet,numClients=readVarUint(decoder.restDecoder);for(let i=0;i<numClients;i++){decoder.resetDsCurVal();let client=readVarUint(decoder.restDecoder),numberOfDeletes=readVarUint(decoder.restDecoder),structs=store.clients.get(client)||[],state=getState(store,client);for(let i2=0;i2<numberOfDeletes;i2++){let clock=decoder.readDsClock(),clockEnd=clock+decoder.readDsLen();if(clock<state){state<clockEnd&&addToDeleteSet(unappliedDS,client,state,clockEnd-state);let index=findIndexSS(structs,clock),struct=structs[index];for(!struct.deleted&&struct.id.clock<clock&&(structs.splice(index+1,0,splitItem(transaction,struct,clock-struct.id.clock)),index++);index<structs.length&&(struct=structs[index++],struct.id.clock<clockEnd);)struct.deleted||(clockEnd<struct.id.clock+struct.length&&structs.splice(index,0,splitItem(transaction,struct,clockEnd-struct.id.clock)),struct.delete(transaction))}else addToDeleteSet(unappliedDS,client,clock,clockEnd-clock)}}if(unappliedDS.clients.size>0){let ds=new UpdateEncoderV2;return writeVarUint(ds.restEncoder,0),writeDeleteSet(ds,unappliedDS),ds.toUint8Array()}return null},equalDeleteSets=(ds1,ds2)=>{if(ds1.clients.size!==ds2.clients.size)return!1;for(let[client,deleteItems1]of ds1.clients.entries()){let deleteItems2=ds2.clients.get(client);if(deleteItems2===void 0||deleteItems1.length!==deleteItems2.length)return!1;for(let i=0;i<deleteItems1.length;i++){let di1=deleteItems1[i],di2=deleteItems2[i];if(di1.clock!==di2.clock||di1.len!==di2.len)return!1}}return!0},generateNewClientId=uint32,Doc=class _Doc extends ObservableV2{constructor({guid=uuidv4(),collectionid=null,gc=!0,gcFilter=()=>!0,meta=null,autoLoad=!1,shouldLoad=!0}={}){super(),this.gc=gc,this.gcFilter=gcFilter,this.clientID=generateNewClientId(),this.guid=guid,this.collectionid=collectionid,this.share=new Map,this.store=new StructStore,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=shouldLoad,this.autoLoad=autoLoad,this.meta=meta,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=create4(resolve2=>{this.on("load",()=>{this.isLoaded=!0,resolve2(this)})});let provideSyncedPromise=()=>create4(resolve2=>{let eventHandler=isSynced=>{(isSynced===void 0||isSynced===!0)&&(this.off("sync",eventHandler),resolve2())};this.on("sync",eventHandler)});this.on("sync",isSynced=>{isSynced===!1&&this.isSynced&&(this.whenSynced=provideSyncedPromise()),this.isSynced=isSynced===void 0||isSynced===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=provideSyncedPromise()}load(){let item=this._item;item!==null&&!this.shouldLoad&&transact(item.parent.doc,transaction=>{transaction.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(from(this.subdocs).map(doc2=>doc2.guid))}transact(f,origin=null){return transact(this,f,origin)}get(name,TypeConstructor=AbstractType){let type=setIfUndefined(this.share,name,()=>{let t=new TypeConstructor;return t._integrate(this,null),t}),Constr=type.constructor;if(TypeConstructor!==AbstractType&&Constr!==TypeConstructor)if(Constr===AbstractType){let t=new TypeConstructor;t._map=type._map,type._map.forEach(n=>{for(;n!==null;n=n.left)n.parent=t}),t._start=type._start;for(let n=t._start;n!==null;n=n.right)n.parent=t;return t._length=type._length,this.share.set(name,t),t._integrate(this,null),t}else throw new Error(`Type with the name ${name} has already been defined with a different constructor`);return type}getArray(name=""){return this.get(name,YArray)}getText(name=""){return this.get(name,YText)}getMap(name=""){return this.get(name,YMap)}getXmlElement(name=""){return this.get(name,YXmlElement)}getXmlFragment(name=""){return this.get(name,YXmlFragment)}toJSON(){let doc2={};return this.share.forEach((value,key)=>{doc2[key]=value.toJSON()}),doc2}destroy(){this.isDestroyed=!0,from(this.subdocs).forEach(subdoc=>subdoc.destroy());let item=this._item;if(item!==null){this._item=null;let content=item.content;content.doc=new _Doc({guid:this.guid,...content.opts,shouldLoad:!1}),content.doc._item=item,transact(item.parent.doc,transaction=>{let doc2=content.doc;item.deleted||transaction.subdocsAdded.add(doc2),transaction.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}},DSDecoderV1=class{constructor(decoder){this.restDecoder=decoder}resetDsCurVal(){}readDsClock(){return readVarUint(this.restDecoder)}readDsLen(){return readVarUint(this.restDecoder)}},UpdateDecoderV1=class extends DSDecoderV1{readLeftID(){return createID(readVarUint(this.restDecoder),readVarUint(this.restDecoder))}readRightID(){return createID(readVarUint(this.restDecoder),readVarUint(this.restDecoder))}readClient(){return readVarUint(this.restDecoder)}readInfo(){return readUint8(this.restDecoder)}readString(){return readVarString(this.restDecoder)}readParentInfo(){return readVarUint(this.restDecoder)===1}readTypeRef(){return readVarUint(this.restDecoder)}readLen(){return readVarUint(this.restDecoder)}readAny(){return readAny(this.restDecoder)}readBuf(){return copyUint8Array(readVarUint8Array(this.restDecoder))}readJSON(){return JSON.parse(readVarString(this.restDecoder))}readKey(){return readVarString(this.restDecoder)}},DSDecoderV2=class{constructor(decoder){this.dsCurrVal=0,this.restDecoder=decoder}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=readVarUint(this.restDecoder),this.dsCurrVal}readDsLen(){let diff=readVarUint(this.restDecoder)+1;return this.dsCurrVal+=diff,diff}},UpdateDecoderV2=class extends DSDecoderV2{constructor(decoder){super(decoder),this.keys=[],readVarUint(decoder),this.keyClockDecoder=new IntDiffOptRleDecoder(readVarUint8Array(decoder)),this.clientDecoder=new UintOptRleDecoder(readVarUint8Array(decoder)),this.leftClockDecoder=new IntDiffOptRleDecoder(readVarUint8Array(decoder)),this.rightClockDecoder=new IntDiffOptRleDecoder(readVarUint8Array(decoder)),this.infoDecoder=new RleDecoder(readVarUint8Array(decoder),readUint8),this.stringDecoder=new StringDecoder(readVarUint8Array(decoder)),this.parentInfoDecoder=new RleDecoder(readVarUint8Array(decoder),readUint8),this.typeRefDecoder=new UintOptRleDecoder(readVarUint8Array(decoder)),this.lenDecoder=new UintOptRleDecoder(readVarUint8Array(decoder))}readLeftID(){return new ID(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new ID(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return readAny(this.restDecoder)}readBuf(){return readVarUint8Array(this.restDecoder)}readJSON(){return readAny(this.restDecoder)}readKey(){let keyClock=this.keyClockDecoder.read();if(keyClock<this.keys.length)return this.keys[keyClock];{let key=this.stringDecoder.read();return this.keys.push(key),key}}},DSEncoderV1=class{constructor(){this.restEncoder=createEncoder()}toUint8Array(){return toUint8Array(this.restEncoder)}resetDsCurVal(){}writeDsClock(clock){writeVarUint(this.restEncoder,clock)}writeDsLen(len){writeVarUint(this.restEncoder,len)}},UpdateEncoderV1=class extends DSEncoderV1{writeLeftID(id2){writeVarUint(this.restEncoder,id2.client),writeVarUint(this.restEncoder,id2.clock)}writeRightID(id2){writeVarUint(this.restEncoder,id2.client),writeVarUint(this.restEncoder,id2.clock)}writeClient(client){writeVarUint(this.restEncoder,client)}writeInfo(info){writeUint8(this.restEncoder,info)}writeString(s){writeVarString(this.restEncoder,s)}writeParentInfo(isYKey){writeVarUint(this.restEncoder,isYKey?1:0)}writeTypeRef(info){writeVarUint(this.restEncoder,info)}writeLen(len){writeVarUint(this.restEncoder,len)}writeAny(any2){writeAny(this.restEncoder,any2)}writeBuf(buf){writeVarUint8Array(this.restEncoder,buf)}writeJSON(embed){writeVarString(this.restEncoder,JSON.stringify(embed))}writeKey(key){writeVarString(this.restEncoder,key)}},DSEncoderV2=class{constructor(){this.restEncoder=createEncoder(),this.dsCurrVal=0}toUint8Array(){return toUint8Array(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(clock){let diff=clock-this.dsCurrVal;this.dsCurrVal=clock,writeVarUint(this.restEncoder,diff)}writeDsLen(len){len===0&&unexpectedCase(),writeVarUint(this.restEncoder,len-1),this.dsCurrVal+=len}},UpdateEncoderV2=class extends DSEncoderV2{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new IntDiffOptRleEncoder,this.clientEncoder=new UintOptRleEncoder,this.leftClockEncoder=new IntDiffOptRleEncoder,this.rightClockEncoder=new IntDiffOptRleEncoder,this.infoEncoder=new RleEncoder(writeUint8),this.stringEncoder=new StringEncoder,this.parentInfoEncoder=new RleEncoder(writeUint8),this.typeRefEncoder=new UintOptRleEncoder,this.lenEncoder=new UintOptRleEncoder}toUint8Array(){let encoder=createEncoder();return writeVarUint(encoder,0),writeVarUint8Array(encoder,this.keyClockEncoder.toUint8Array()),writeVarUint8Array(encoder,this.clientEncoder.toUint8Array()),writeVarUint8Array(encoder,this.leftClockEncoder.toUint8Array()),writeVarUint8Array(encoder,this.rightClockEncoder.toUint8Array()),writeVarUint8Array(encoder,toUint8Array(this.infoEncoder)),writeVarUint8Array(encoder,this.stringEncoder.toUint8Array()),writeVarUint8Array(encoder,toUint8Array(this.parentInfoEncoder)),writeVarUint8Array(encoder,this.typeRefEncoder.toUint8Array()),writeVarUint8Array(encoder,this.lenEncoder.toUint8Array()),writeUint8Array(encoder,toUint8Array(this.restEncoder)),toUint8Array(encoder)}writeLeftID(id2){this.clientEncoder.write(id2.client),this.leftClockEncoder.write(id2.clock)}writeRightID(id2){this.clientEncoder.write(id2.client),this.rightClockEncoder.write(id2.clock)}writeClient(client){this.clientEncoder.write(client)}writeInfo(info){this.infoEncoder.write(info)}writeString(s){this.stringEncoder.write(s)}writeParentInfo(isYKey){this.parentInfoEncoder.write(isYKey?1:0)}writeTypeRef(info){this.typeRefEncoder.write(info)}writeLen(len){this.lenEncoder.write(len)}writeAny(any2){writeAny(this.restEncoder,any2)}writeBuf(buf){writeVarUint8Array(this.restEncoder,buf)}writeJSON(embed){writeAny(this.restEncoder,embed)}writeKey(key){let clock=this.keyMap.get(key);clock===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(key)):this.keyClockEncoder.write(clock)}},writeStructs=(encoder,structs,client,clock)=>{clock=max(clock,structs[0].id.clock);let startNewStructs=findIndexSS(structs,clock);writeVarUint(encoder.restEncoder,structs.length-startNewStructs),encoder.writeClient(client),writeVarUint(encoder.restEncoder,clock);let firstStruct=structs[startNewStructs];firstStruct.write(encoder,clock-firstStruct.id.clock);for(let i=startNewStructs+1;i<structs.length;i++)structs[i].write(encoder,0)},writeClientsStructs=(encoder,store,_sm)=>{let sm=new Map;_sm.forEach((clock,client)=>{getState(store,client)>clock&&sm.set(client,clock)}),getStateVector(store).forEach((_clock,client)=>{_sm.has(client)||sm.set(client,0)}),writeVarUint(encoder.restEncoder,sm.size),from(sm.entries()).sort((a,b)=>b[0]-a[0]).forEach(([client,clock])=>{writeStructs(encoder,store.clients.get(client),client,clock)})},readClientsStructRefs=(decoder,doc2)=>{let clientRefs=create3(),numOfStateUpdates=readVarUint(decoder.restDecoder);for(let i=0;i<numOfStateUpdates;i++){let numberOfStructs=readVarUint(decoder.restDecoder),refs=new Array(numberOfStructs),client=decoder.readClient(),clock=readVarUint(decoder.restDecoder);clientRefs.set(client,{i:0,refs});for(let i2=0;i2<numberOfStructs;i2++){let info=decoder.readInfo();switch(31&info){case 0:{let len=decoder.readLen();refs[i2]=new GC(createID(client,clock),len),clock+=len;break}case 10:{let len=readVarUint(decoder.restDecoder);refs[i2]=new Skip(createID(client,clock),len),clock+=len;break}default:{let cantCopyParentInfo=(info&192)===0,struct=new Item(createID(client,clock),null,(info&128)===128?decoder.readLeftID():null,null,(info&64)===64?decoder.readRightID():null,cantCopyParentInfo?decoder.readParentInfo()?doc2.get(decoder.readString()):decoder.readLeftID():null,cantCopyParentInfo&&(info&32)===32?decoder.readString():null,readItemContent(decoder,info));refs[i2]=struct,clock+=struct.length}}}}return clientRefs},integrateStructs=(transaction,store,clientsStructRefs)=>{let stack=[],clientsStructRefsIds=from(clientsStructRefs.keys()).sort((a,b)=>a-b);if(clientsStructRefsIds.length===0)return null;let getNextStructTarget=()=>{if(clientsStructRefsIds.length===0)return null;let nextStructsTarget=clientsStructRefs.get(clientsStructRefsIds[clientsStructRefsIds.length-1]);for(;nextStructsTarget.refs.length===nextStructsTarget.i;)if(clientsStructRefsIds.pop(),clientsStructRefsIds.length>0)nextStructsTarget=clientsStructRefs.get(clientsStructRefsIds[clientsStructRefsIds.length-1]);else return null;return nextStructsTarget},curStructsTarget=getNextStructTarget();if(curStructsTarget===null)return null;let restStructs=new StructStore,missingSV=new Map,updateMissingSv=(client,clock)=>{let mclock=missingSV.get(client);(mclock==null||mclock>clock)&&missingSV.set(client,clock)},stackHead=curStructsTarget.refs[curStructsTarget.i++],state=new Map,addStackToRestSS=()=>{for(let item of stack){let client=item.id.client,unapplicableItems=clientsStructRefs.get(client);unapplicableItems?(unapplicableItems.i--,restStructs.clients.set(client,unapplicableItems.refs.slice(unapplicableItems.i)),clientsStructRefs.delete(client),unapplicableItems.i=0,unapplicableItems.refs=[]):restStructs.clients.set(client,[item]),clientsStructRefsIds=clientsStructRefsIds.filter(c=>c!==client)}stack.length=0};for(;;){if(stackHead.constructor!==Skip){let offset=setIfUndefined(state,stackHead.id.client,()=>getState(store,stackHead.id.client))-stackHead.id.clock;if(offset<0)stack.push(stackHead),updateMissingSv(stackHead.id.client,stackHead.id.clock-1),addStackToRestSS();else{let missing=stackHead.getMissing(transaction,store);if(missing!==null){stack.push(stackHead);let structRefs=clientsStructRefs.get(missing)||{refs:[],i:0};if(structRefs.refs.length===structRefs.i)updateMissingSv(missing,getState(store,missing)),addStackToRestSS();else{stackHead=structRefs.refs[structRefs.i++];continue}}else(offset===0||offset<stackHead.length)&&(stackHead.integrate(transaction,offset),state.set(stackHead.id.client,stackHead.id.clock+stackHead.length))}}if(stack.length>0)stackHead=stack.pop();else if(curStructsTarget!==null&&curStructsTarget.i<curStructsTarget.refs.length)stackHead=curStructsTarget.refs[curStructsTarget.i++];else{if(curStructsTarget=getNextStructTarget(),curStructsTarget===null)break;stackHead=curStructsTarget.refs[curStructsTarget.i++]}}if(restStructs.clients.size>0){let encoder=new UpdateEncoderV2;return writeClientsStructs(encoder,restStructs,new Map),writeVarUint(encoder.restEncoder,0),{missing:missingSV,update:encoder.toUint8Array()}}return null},writeStructsFromTransaction=(encoder,transaction)=>writeClientsStructs(encoder,transaction.doc.store,transaction.beforeState),readUpdateV2=(decoder,ydoc,transactionOrigin,structDecoder=new UpdateDecoderV2(decoder))=>transact(ydoc,transaction=>{transaction.local=!1;let retry=!1,doc2=transaction.doc,store=doc2.store,ss=readClientsStructRefs(structDecoder,doc2),restStructs=integrateStructs(transaction,store,ss),pending=store.pendingStructs;if(pending){for(let[client,clock]of pending.missing)if(clock<getState(store,client)){retry=!0;break}if(restStructs){for(let[client,clock]of restStructs.missing){let mclock=pending.missing.get(client);(mclock==null||mclock>clock)&&pending.missing.set(client,clock)}pending.update=mergeUpdatesV2([pending.update,restStructs.update])}}else store.pendingStructs=restStructs;let dsRest=readAndApplyDeleteSet(structDecoder,transaction,store);if(store.pendingDs){let pendingDSUpdate=new UpdateDecoderV2(createDecoder(store.pendingDs));readVarUint(pendingDSUpdate.restDecoder);let dsRest2=readAndApplyDeleteSet(pendingDSUpdate,transaction,store);dsRest&&dsRest2?store.pendingDs=mergeUpdatesV2([dsRest,dsRest2]):store.pendingDs=dsRest||dsRest2}else store.pendingDs=dsRest;if(retry){let update=store.pendingStructs.update;store.pendingStructs=null,applyUpdateV2(transaction.doc,update)}},transactionOrigin,!1),readUpdate=(decoder,ydoc,transactionOrigin)=>readUpdateV2(decoder,ydoc,transactionOrigin,new UpdateDecoderV1(decoder)),applyUpdateV2=(ydoc,update,transactionOrigin,YDecoder=UpdateDecoderV2)=>{let decoder=createDecoder(update);readUpdateV2(decoder,ydoc,transactionOrigin,new YDecoder(decoder))},applyUpdate=(ydoc,update,transactionOrigin)=>applyUpdateV2(ydoc,update,transactionOrigin,UpdateDecoderV1),writeStateAsUpdate=(encoder,doc2,targetStateVector=new Map)=>{writeClientsStructs(encoder,doc2.store,targetStateVector),writeDeleteSet(encoder,createDeleteSetFromStructStore(doc2.store))},encodeStateAsUpdateV2=(doc2,encodedTargetStateVector=new Uint8Array([0]),encoder=new UpdateEncoderV2)=>{let targetStateVector=decodeStateVector(encodedTargetStateVector);writeStateAsUpdate(encoder,doc2,targetStateVector);let updates=[encoder.toUint8Array()];if(doc2.store.pendingDs&&updates.push(doc2.store.pendingDs),doc2.store.pendingStructs&&updates.push(diffUpdateV2(doc2.store.pendingStructs.update,encodedTargetStateVector)),updates.length>1){if(encoder.constructor===UpdateEncoderV1)return mergeUpdates(updates.map((update,i)=>i===0?update:convertUpdateFormatV2ToV1(update)));if(encoder.constructor===UpdateEncoderV2)return mergeUpdatesV2(updates)}return updates[0]},encodeStateAsUpdate=(doc2,encodedTargetStateVector)=>encodeStateAsUpdateV2(doc2,encodedTargetStateVector,new UpdateEncoderV1),readStateVector=decoder=>{let ss=new Map,ssLength=readVarUint(decoder.restDecoder);for(let i=0;i<ssLength;i++){let client=readVarUint(decoder.restDecoder),clock=readVarUint(decoder.restDecoder);ss.set(client,clock)}return ss},decodeStateVector=decodedState=>readStateVector(new DSDecoderV1(createDecoder(decodedState))),writeStateVector=(encoder,sv)=>(writeVarUint(encoder.restEncoder,sv.size),from(sv.entries()).sort((a,b)=>b[0]-a[0]).forEach(([client,clock])=>{writeVarUint(encoder.restEncoder,client),writeVarUint(encoder.restEncoder,clock)}),encoder),writeDocumentStateVector=(encoder,doc2)=>writeStateVector(encoder,getStateVector(doc2.store)),encodeStateVectorV2=(doc2,encoder=new DSEncoderV2)=>(doc2 instanceof Map?writeStateVector(encoder,doc2):writeDocumentStateVector(encoder,doc2),encoder.toUint8Array()),encodeStateVector=doc2=>encodeStateVectorV2(doc2,new DSEncoderV1),EventHandler=class{constructor(){this.l=[]}},createEventHandler=()=>new EventHandler,addEventHandlerListener=(eventHandler,f)=>eventHandler.l.push(f),removeEventHandlerListener=(eventHandler,f)=>{let l=eventHandler.l,len=l.length;eventHandler.l=l.filter(g=>f!==g),len===eventHandler.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},callEventHandlerListeners=(eventHandler,arg0,arg1)=>callAll(eventHandler.l,[arg0,arg1]),ID=class{constructor(client,clock){this.client=client,this.clock=clock}},compareIDs=(a,b)=>a===b||a!==null&&b!==null&&a.client===b.client&&a.clock===b.clock,createID=(client,clock)=>new ID(client,clock),writeID=(encoder,id2)=>{writeVarUint(encoder,id2.client),writeVarUint(encoder,id2.clock)},readID=decoder=>createID(readVarUint(decoder),readVarUint(decoder)),findRootTypeKey=type=>{for(let[key,value]of type.doc.share.entries())if(value===type)return key;throw unexpectedCase()},isParentOf=(parent,child)=>{for(;child!==null;){if(child.parent===parent)return!0;child=child.parent._item}return!1},logType=type=>{let res=[],n=type._start;for(;n;)res.push(n),n=n.right;console.log("Children: ",res),console.log("Children content: ",res.filter(m=>!m.deleted).map(m=>m.content))},PermanentUserData=class{constructor(doc2,storeType=doc2.getMap("users")){let dss=new Map;this.yusers=storeType,this.doc=doc2,this.clients=new Map,this.dss=dss;let initUser=(user,userDescription)=>{let ds=user.get("ds"),ids=user.get("ids"),addClientId=clientid=>this.clients.set(clientid,userDescription);ds.observe(event=>{event.changes.added.forEach(item=>{item.content.getContent().forEach(encodedDs=>{encodedDs instanceof Uint8Array&&this.dss.set(userDescription,mergeDeleteSets([this.dss.get(userDescription)||createDeleteSet(),readDeleteSet(new DSDecoderV1(createDecoder(encodedDs)))]))})})}),this.dss.set(userDescription,mergeDeleteSets(ds.map(encodedDs=>readDeleteSet(new DSDecoderV1(createDecoder(encodedDs)))))),ids.observe(event=>event.changes.added.forEach(item=>item.content.getContent().forEach(addClientId))),ids.forEach(addClientId)};storeType.observe(event=>{event.keysChanged.forEach(userDescription=>initUser(storeType.get(userDescription),userDescription))}),storeType.forEach(initUser)}setUserMapping(doc2,clientid,userDescription,{filter=()=>!0}={}){let users=this.yusers,user=users.get(userDescription);user||(user=new YMap,user.set("ids",new YArray),user.set("ds",new YArray),users.set(userDescription,user)),user.get("ids").push([clientid]),users.observe(_event=>{setTimeout(()=>{let userOverwrite=users.get(userDescription);if(userOverwrite!==user){user=userOverwrite,this.clients.forEach((_userDescription,clientid2)=>{userDescription===_userDescription&&user.get("ids").push([clientid2])});let encoder=new DSEncoderV1,ds=this.dss.get(userDescription);ds&&(writeDeleteSet(encoder,ds),user.get("ds").push([encoder.toUint8Array()]))}},0)}),doc2.on("afterTransaction",transaction=>{setTimeout(()=>{let yds=user.get("ds"),ds=transaction.deleteSet;if(transaction.local&&ds.clients.size>0&&filter(transaction,ds)){let encoder=new DSEncoderV1;writeDeleteSet(encoder,ds),yds.push([encoder.toUint8Array()])}})})}getUserByClientId(clientid){return this.clients.get(clientid)||null}getUserByDeletedId(id2){for(let[userDescription,ds]of this.dss.entries())if(isDeleted(ds,id2))return userDescription;return null}},RelativePosition=class{constructor(type,tname,item,assoc=0){this.type=type,this.tname=tname,this.item=item,this.assoc=assoc}},relativePositionToJSON=rpos=>{let json={};return rpos.type&&(json.type=rpos.type),rpos.tname&&(json.tname=rpos.tname),rpos.item&&(json.item=rpos.item),rpos.assoc!=null&&(json.assoc=rpos.assoc),json},createRelativePositionFromJSON=json=>new RelativePosition(json.type==null?null:createID(json.type.client,json.type.clock),json.tname??null,json.item==null?null:createID(json.item.client,json.item.clock),json.assoc==null?0:json.assoc),AbsolutePosition=class{constructor(type,index,assoc=0){this.type=type,this.index=index,this.assoc=assoc}},createAbsolutePosition=(type,index,assoc=0)=>new AbsolutePosition(type,index,assoc),createRelativePosition=(type,item,assoc)=>{let typeid=null,tname=null;return type._item===null?tname=findRootTypeKey(type):typeid=createID(type._item.id.client,type._item.id.clock),new RelativePosition(typeid,tname,item,assoc)},createRelativePositionFromTypeIndex=(type,index,assoc=0)=>{let t=type._start;if(assoc<0){if(index===0)return createRelativePosition(type,null,assoc);index--}for(;t!==null;){if(!t.deleted&&t.countable){if(t.length>index)return createRelativePosition(type,createID(t.id.client,t.id.clock+index),assoc);index-=t.length}if(t.right===null&&assoc<0)return createRelativePosition(type,t.lastId,assoc);t=t.right}return createRelativePosition(type,null,assoc)},writeRelativePosition=(encoder,rpos)=>{let{type,tname,item,assoc}=rpos;if(item!==null)writeVarUint(encoder,0),writeID(encoder,item);else if(tname!==null)writeUint8(encoder,1),writeVarString(encoder,tname);else if(type!==null)writeUint8(encoder,2),writeID(encoder,type);else throw unexpectedCase();return writeVarInt(encoder,assoc),encoder},encodeRelativePosition=rpos=>{let encoder=createEncoder();return writeRelativePosition(encoder,rpos),toUint8Array(encoder)},readRelativePosition=decoder=>{let type=null,tname=null,itemID=null;switch(readVarUint(decoder)){case 0:itemID=readID(decoder);break;case 1:tname=readVarString(decoder);break;case 2:type=readID(decoder)}let assoc=hasContent(decoder)?readVarInt(decoder):0;return new RelativePosition(type,tname,itemID,assoc)},decodeRelativePosition=uint8Array=>readRelativePosition(createDecoder(uint8Array)),createAbsolutePositionFromRelativePosition=(rpos,doc2,followUndoneDeletions=!0)=>{let store=doc2.store,rightID=rpos.item,typeID=rpos.type,tname=rpos.tname,assoc=rpos.assoc,type=null,index=0;if(rightID!==null){if(getState(store,rightID.client)<=rightID.clock)return null;let res=followUndoneDeletions?followRedone(store,rightID):{item:getItem(store,rightID),diff:0},right=res.item;if(!(right instanceof Item))return null;if(type=right.parent,type._item===null||!type._item.deleted){index=right.deleted||!right.countable?0:res.diff+(assoc>=0?0:1);let n=right.left;for(;n!==null;)!n.deleted&&n.countable&&(index+=n.length),n=n.left}}else{if(tname!==null)type=doc2.get(tname);else if(typeID!==null){if(getState(store,typeID.client)<=typeID.clock)return null;let{item}=followUndoneDeletions?followRedone(store,typeID):{item:getItem(store,typeID)};if(item instanceof Item&&item.content instanceof ContentType)type=item.content.type;else return null}else throw unexpectedCase();assoc>=0?index=type._length:index=0}return createAbsolutePosition(type,index,rpos.assoc)},compareRelativePositions=(a,b)=>a===b||a!==null&&b!==null&&a.tname===b.tname&&compareIDs(a.item,b.item)&&compareIDs(a.type,b.type)&&a.assoc===b.assoc,Snapshot=class{constructor(ds,sv){this.ds=ds,this.sv=sv}},equalSnapshots=(snap1,snap2)=>{let ds1=snap1.ds.clients,ds2=snap2.ds.clients,sv1=snap1.sv,sv2=snap2.sv;if(sv1.size!==sv2.size||ds1.size!==ds2.size)return!1;for(let[key,value]of sv1.entries())if(sv2.get(key)!==value)return!1;for(let[client,dsitems1]of ds1.entries()){let dsitems2=ds2.get(client)||[];if(dsitems1.length!==dsitems2.length)return!1;for(let i=0;i<dsitems1.length;i++){let dsitem1=dsitems1[i],dsitem2=dsitems2[i];if(dsitem1.clock!==dsitem2.clock||dsitem1.len!==dsitem2.len)return!1}}return!0},encodeSnapshotV2=(snapshot2,encoder=new DSEncoderV2)=>(writeDeleteSet(encoder,snapshot2.ds),writeStateVector(encoder,snapshot2.sv),encoder.toUint8Array()),encodeSnapshot=snapshot2=>encodeSnapshotV2(snapshot2,new DSEncoderV1),decodeSnapshotV2=(buf,decoder=new DSDecoderV2(createDecoder(buf)))=>new Snapshot(readDeleteSet(decoder),readStateVector(decoder)),decodeSnapshot=buf=>decodeSnapshotV2(buf,new DSDecoderV1(createDecoder(buf))),createSnapshot=(ds,sm)=>new Snapshot(ds,sm),emptySnapshot=createSnapshot(createDeleteSet(),new Map),snapshot=doc2=>createSnapshot(createDeleteSetFromStructStore(doc2.store),getStateVector(doc2.store)),isVisible=(item,snapshot2)=>snapshot2===void 0?!item.deleted:snapshot2.sv.has(item.id.client)&&(snapshot2.sv.get(item.id.client)||0)>item.id.clock&&!isDeleted(snapshot2.ds,item.id),splitSnapshotAffectedStructs=(transaction,snapshot2)=>{let meta=setIfUndefined(transaction.meta,splitSnapshotAffectedStructs,create),store=transaction.doc.store;meta.has(snapshot2)||(snapshot2.sv.forEach((clock,client)=>{clock<getState(store,client)&&getItemCleanStart(transaction,createID(client,clock))}),iterateDeletedStructs(transaction,snapshot2.ds,_item=>{}),meta.add(snapshot2))},createDocFromSnapshot=(originDoc,snapshot2,newDoc=new Doc)=>{if(originDoc.gc)throw new Error("Garbage-collection must be disabled in `originDoc`!");let{sv,ds}=snapshot2,encoder=new UpdateEncoderV2;return originDoc.transact(transaction=>{let size2=0;sv.forEach(clock=>{clock>0&&size2++}),writeVarUint(encoder.restEncoder,size2);for(let[client,clock]of sv){if(clock===0)continue;clock<getState(originDoc.store,client)&&getItemCleanStart(transaction,createID(client,clock));let structs=originDoc.store.clients.get(client)||[],lastStructIndex=findIndexSS(structs,clock-1);writeVarUint(encoder.restEncoder,lastStructIndex+1),encoder.writeClient(client),writeVarUint(encoder.restEncoder,0);for(let i=0;i<=lastStructIndex;i++)structs[i].write(encoder,0)}writeDeleteSet(encoder,ds)}),applyUpdateV2(newDoc,encoder.toUint8Array(),"snapshot"),newDoc},snapshotContainsUpdateV2=(snapshot2,update,YDecoder=UpdateDecoderV2)=>{let updateDecoder=new YDecoder(createDecoder(update)),lazyDecoder=new LazyStructReader(updateDecoder,!1);for(let curr=lazyDecoder.curr;curr!==null;curr=lazyDecoder.next())if((snapshot2.sv.get(curr.id.client)||0)<curr.id.clock+curr.length)return!1;let mergedDS=mergeDeleteSets([snapshot2.ds,readDeleteSet(updateDecoder)]);return equalDeleteSets(snapshot2.ds,mergedDS)},snapshotContainsUpdate=(snapshot2,update)=>snapshotContainsUpdateV2(snapshot2,update,UpdateDecoderV1),StructStore=class{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}},getStateVector=store=>{let sm=new Map;return store.clients.forEach((structs,client)=>{let struct=structs[structs.length-1];sm.set(client,struct.id.clock+struct.length)}),sm},getState=(store,client)=>{let structs=store.clients.get(client);if(structs===void 0)return 0;let lastStruct=structs[structs.length-1];return lastStruct.id.clock+lastStruct.length},addStruct=(store,struct)=>{let structs=store.clients.get(struct.id.client);if(structs===void 0)structs=[],store.clients.set(struct.id.client,structs);else{let lastStruct=structs[structs.length-1];if(lastStruct.id.clock+lastStruct.length!==struct.id.clock)throw unexpectedCase()}structs.push(struct)},findIndexSS=(structs,clock)=>{let left=0,right=structs.length-1,mid=structs[right],midclock=mid.id.clock;if(midclock===clock)return right;let midindex=floor(clock/(midclock+mid.length-1)*right);for(;left<=right;){if(mid=structs[midindex],midclock=mid.id.clock,midclock<=clock){if(clock<midclock+mid.length)return midindex;left=midindex+1}else right=midindex-1;midindex=floor((left+right)/2)}throw unexpectedCase()},find=(store,id2)=>{let structs=store.clients.get(id2.client);return structs[findIndexSS(structs,id2.clock)]},getItem=find,findIndexCleanStart=(transaction,structs,clock)=>{let index=findIndexSS(structs,clock),struct=structs[index];return struct.id.clock<clock&&struct instanceof Item?(structs.splice(index+1,0,splitItem(transaction,struct,clock-struct.id.clock)),index+1):index},getItemCleanStart=(transaction,id2)=>{let structs=transaction.doc.store.clients.get(id2.client);return structs[findIndexCleanStart(transaction,structs,id2.clock)]},getItemCleanEnd=(transaction,store,id2)=>{let structs=store.clients.get(id2.client),index=findIndexSS(structs,id2.clock),struct=structs[index];return id2.clock!==struct.id.clock+struct.length-1&&struct.constructor!==GC&&structs.splice(index+1,0,splitItem(transaction,struct,id2.clock-struct.id.clock+1)),struct},replaceStruct=(store,struct,newStruct)=>{let structs=store.clients.get(struct.id.client);structs[findIndexSS(structs,struct.id.clock)]=newStruct},iterateStructs=(transaction,structs,clockStart,len,f)=>{if(len===0)return;let clockEnd=clockStart+len,index=findIndexCleanStart(transaction,structs,clockStart),struct;do struct=structs[index++],clockEnd<struct.id.clock+struct.length&&findIndexCleanStart(transaction,structs,clockEnd),f(struct);while(index<structs.length&&structs[index].id.clock<clockEnd)},Transaction=class{constructor(doc2,origin,local){this.doc=doc2,this.deleteSet=new DeleteSet,this.beforeState=getStateVector(doc2.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=origin,this.meta=new Map,this.local=local,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}},writeUpdateMessageFromTransaction=(encoder,transaction)=>transaction.deleteSet.clients.size===0&&!any(transaction.afterState,(clock,client)=>transaction.beforeState.get(client)!==clock)?!1:(sortAndMergeDeleteSet(transaction.deleteSet),writeStructsFromTransaction(encoder,transaction),writeDeleteSet(encoder,transaction.deleteSet),!0),addChangedTypeToTransaction=(transaction,type,parentSub)=>{let item=type._item;(item===null||item.id.clock<(transaction.beforeState.get(item.id.client)||0)&&!item.deleted)&&setIfUndefined(transaction.changed,type,create).add(parentSub)},tryToMergeWithLefts=(structs,pos)=>{let right=structs[pos],left=structs[pos-1],i=pos;for(;i>0;right=left,left=structs[--i-1]){if(left.deleted===right.deleted&&left.constructor===right.constructor&&left.mergeWith(right)){right instanceof Item&&right.parentSub!==null&&right.parent._map.get(right.parentSub)===right&&right.parent._map.set(right.parentSub,left);continue}break}let merged=pos-i;return merged&&structs.splice(pos+1-merged,merged),merged},tryGcDeleteSet=(ds,store,gcFilter)=>{for(let[client,deleteItems]of ds.clients.entries()){let structs=store.clients.get(client);for(let di=deleteItems.length-1;di>=0;di--){let deleteItem=deleteItems[di],endDeleteItemClock=deleteItem.clock+deleteItem.len;for(let si=findIndexSS(structs,deleteItem.clock),struct=structs[si];si<structs.length&&struct.id.clock<endDeleteItemClock;struct=structs[++si]){let struct2=structs[si];if(deleteItem.clock+deleteItem.len<=struct2.id.clock)break;struct2 instanceof Item&&struct2.deleted&&!struct2.keep&&gcFilter(struct2)&&struct2.gc(store,!1)}}}},tryMergeDeleteSet=(ds,store)=>{ds.clients.forEach((deleteItems,client)=>{let structs=store.clients.get(client);for(let di=deleteItems.length-1;di>=0;di--){let deleteItem=deleteItems[di],mostRightIndexToCheck=min(structs.length-1,1+findIndexSS(structs,deleteItem.clock+deleteItem.len-1));for(let si=mostRightIndexToCheck,struct=structs[si];si>0&&struct.id.clock>=deleteItem.clock;struct=structs[si])si-=1+tryToMergeWithLefts(structs,si)}})},tryGc=(ds,store,gcFilter)=>{tryGcDeleteSet(ds,store,gcFilter),tryMergeDeleteSet(ds,store)},cleanupTransactions=(transactionCleanups,i)=>{if(i<transactionCleanups.length){let transaction=transactionCleanups[i],doc2=transaction.doc,store=doc2.store,ds=transaction.deleteSet,mergeStructs=transaction._mergeStructs;try{sortAndMergeDeleteSet(ds),transaction.afterState=getStateVector(transaction.doc.store),doc2.emit("beforeObserverCalls",[transaction,doc2]);let fs=[];transaction.changed.forEach((subs,itemtype)=>fs.push(()=>{(itemtype._item===null||!itemtype._item.deleted)&&itemtype._callObserver(transaction,subs)})),fs.push(()=>{transaction.changedParentTypes.forEach((events,type)=>{type._dEH.l.length>0&&(type._item===null||!type._item.deleted)&&(events=events.filter(event=>event.target._item===null||!event.target._item.deleted),events.forEach(event=>{event.currentTarget=type,event._path=null}),events.sort((event1,event2)=>event1.path.length-event2.path.length),callEventHandlerListeners(type._dEH,events,transaction))})}),fs.push(()=>doc2.emit("afterTransaction",[transaction,doc2])),callAll(fs,[]),transaction._needFormattingCleanup&&cleanupYTextAfterTransaction(transaction)}finally{doc2.gc&&tryGcDeleteSet(ds,store,doc2.gcFilter),tryMergeDeleteSet(ds,store),transaction.afterState.forEach((clock,client)=>{let beforeClock=transaction.beforeState.get(client)||0;if(beforeClock!==clock){let structs=store.clients.get(client),firstChangePos=max(findIndexSS(structs,beforeClock),1);for(let i2=structs.length-1;i2>=firstChangePos;)i2-=1+tryToMergeWithLefts(structs,i2)}});for(let i2=mergeStructs.length-1;i2>=0;i2--){let{client,clock}=mergeStructs[i2].id,structs=store.clients.get(client),replacedStructPos=findIndexSS(structs,clock);replacedStructPos+1<structs.length&&tryToMergeWithLefts(structs,replacedStructPos+1)>1||replacedStructPos>0&&tryToMergeWithLefts(structs,replacedStructPos)}if(!transaction.local&&transaction.afterState.get(doc2.clientID)!==transaction.beforeState.get(doc2.clientID)&&(print(ORANGE,BOLD,"[yjs] ",UNBOLD,RED,"Changed the client-id because another client seems to be using it."),doc2.clientID=generateNewClientId()),doc2.emit("afterTransactionCleanup",[transaction,doc2]),doc2._observers.has("update")){let encoder=new UpdateEncoderV1;writeUpdateMessageFromTransaction(encoder,transaction)&&doc2.emit("update",[encoder.toUint8Array(),transaction.origin,doc2,transaction])}if(doc2._observers.has("updateV2")){let encoder=new UpdateEncoderV2;writeUpdateMessageFromTransaction(encoder,transaction)&&doc2.emit("updateV2",[encoder.toUint8Array(),transaction.origin,doc2,transaction])}let{subdocsAdded,subdocsLoaded,subdocsRemoved}=transaction;(subdocsAdded.size>0||subdocsRemoved.size>0||subdocsLoaded.size>0)&&(subdocsAdded.forEach(subdoc=>{subdoc.clientID=doc2.clientID,subdoc.collectionid==null&&(subdoc.collectionid=doc2.collectionid),doc2.subdocs.add(subdoc)}),subdocsRemoved.forEach(subdoc=>doc2.subdocs.delete(subdoc)),doc2.emit("subdocs",[{loaded:subdocsLoaded,added:subdocsAdded,removed:subdocsRemoved},doc2,transaction]),subdocsRemoved.forEach(subdoc=>subdoc.destroy())),transactionCleanups.length<=i+1?(doc2._transactionCleanups=[],doc2.emit("afterAllTransactions",[doc2,transactionCleanups])):cleanupTransactions(transactionCleanups,i+1)}}},transact=(doc2,f,origin=null,local=!0)=>{let transactionCleanups=doc2._transactionCleanups,initialCall=!1,result=null;doc2._transaction===null&&(initialCall=!0,doc2._transaction=new Transaction(doc2,origin,local),transactionCleanups.push(doc2._transaction),transactionCleanups.length===1&&doc2.emit("beforeAllTransactions",[doc2]),doc2.emit("beforeTransaction",[doc2._transaction,doc2]));try{result=f(doc2._transaction)}finally{if(initialCall){let finishCleanup=doc2._transaction===transactionCleanups[0];doc2._transaction=null,finishCleanup&&cleanupTransactions(transactionCleanups,0)}}return result},StackItem=class{constructor(deletions,insertions){this.insertions=insertions,this.deletions=deletions,this.meta=new Map}},clearUndoManagerStackItem=(tr,um,stackItem)=>{iterateDeletedStructs(tr,stackItem.deletions,item=>{item instanceof Item&&um.scope.some(type=>isParentOf(type,item))&&keepItem(item,!1)})},popStackItem=(undoManager,stack,eventType)=>{let _tr=null,doc2=undoManager.doc,scope=undoManager.scope;transact(doc2,transaction=>{for(;stack.length>0&&undoManager.currStackItem===null;){let store=doc2.store,stackItem=stack.pop(),itemsToRedo=new Set,itemsToDelete=[],performedChange=!1;iterateDeletedStructs(transaction,stackItem.insertions,struct=>{if(struct instanceof Item){if(struct.redone!==null){let{item,diff}=followRedone(store,struct.id);diff>0&&(item=getItemCleanStart(transaction,createID(item.id.client,item.id.clock+diff))),struct=item}!struct.deleted&&scope.some(type=>isParentOf(type,struct))&&itemsToDelete.push(struct)}}),iterateDeletedStructs(transaction,stackItem.deletions,struct=>{struct instanceof Item&&scope.some(type=>isParentOf(type,struct))&&!isDeleted(stackItem.insertions,struct.id)&&itemsToRedo.add(struct)}),itemsToRedo.forEach(struct=>{performedChange=redoItem(transaction,struct,itemsToRedo,stackItem.insertions,undoManager.ignoreRemoteMapChanges,undoManager)!==null||performedChange});for(let i=itemsToDelete.length-1;i>=0;i--){let item=itemsToDelete[i];undoManager.deleteFilter(item)&&(item.delete(transaction),performedChange=!0)}undoManager.currStackItem=performedChange?stackItem:null}transaction.changed.forEach((subProps,type)=>{subProps.has(null)&&type._searchMarker&&(type._searchMarker.length=0)}),_tr=transaction},undoManager);let res=undoManager.currStackItem;if(res!=null){let changedParentTypes=_tr.changedParentTypes;undoManager.emit("stack-item-popped",[{stackItem:res,type:eventType,changedParentTypes,origin:undoManager},undoManager]),undoManager.currStackItem=null}return res},UndoManager=class extends ObservableV2{constructor(typeScope,{captureTimeout=500,captureTransaction=_tr=>!0,deleteFilter=()=>!0,trackedOrigins=new Set([null]),ignoreRemoteMapChanges=!1,doc:doc2=isArray(typeScope)?typeScope[0].doc:typeScope.doc}={}){super(),this.scope=[],this.doc=doc2,this.addToScope(typeScope),this.deleteFilter=deleteFilter,trackedOrigins.add(this),this.trackedOrigins=trackedOrigins,this.captureTransaction=captureTransaction,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=ignoreRemoteMapChanges,this.captureTimeout=captureTimeout,this.afterTransactionHandler=transaction=>{if(!this.captureTransaction(transaction)||!this.scope.some(type=>transaction.changedParentTypes.has(type))||!this.trackedOrigins.has(transaction.origin)&&(!transaction.origin||!this.trackedOrigins.has(transaction.origin.constructor)))return;let undoing=this.undoing,redoing=this.redoing,stack=undoing?this.redoStack:this.undoStack;undoing?this.stopCapturing():redoing||this.clear(!1,!0);let insertions=new DeleteSet;transaction.afterState.forEach((endClock,client)=>{let startClock=transaction.beforeState.get(client)||0,len=endClock-startClock;len>0&&addToDeleteSet(insertions,client,startClock,len)});let now=getUnixTime(),didAdd=!1;if(this.lastChange>0&&now-this.lastChange<this.captureTimeout&&stack.length>0&&!undoing&&!redoing){let lastOp=stack[stack.length-1];lastOp.deletions=mergeDeleteSets([lastOp.deletions,transaction.deleteSet]),lastOp.insertions=mergeDeleteSets([lastOp.insertions,insertions])}else stack.push(new StackItem(transaction.deleteSet,insertions)),didAdd=!0;!undoing&&!redoing&&(this.lastChange=now),iterateDeletedStructs(transaction,transaction.deleteSet,item=>{item instanceof Item&&this.scope.some(type=>isParentOf(type,item))&&keepItem(item,!0)});let changeEvent=[{stackItem:stack[stack.length-1],origin:transaction.origin,type:undoing?"redo":"undo",changedParentTypes:transaction.changedParentTypes},this];didAdd?this.emit("stack-item-added",changeEvent):this.emit("stack-item-updated",changeEvent)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(ytypes){ytypes=isArray(ytypes)?ytypes:[ytypes],ytypes.forEach(ytype=>{this.scope.every(yt=>yt!==ytype)&&(ytype.doc!==this.doc&&warn("[yjs#509] Not same Y.Doc"),this.scope.push(ytype))})}addTrackedOrigin(origin){this.trackedOrigins.add(origin)}removeTrackedOrigin(origin){this.trackedOrigins.delete(origin)}clear(clearUndoStack=!0,clearRedoStack=!0){(clearUndoStack&&this.canUndo()||clearRedoStack&&this.canRedo())&&this.doc.transact(tr=>{clearUndoStack&&(this.undoStack.forEach(item=>clearUndoManagerStackItem(tr,this,item)),this.undoStack=[]),clearRedoStack&&(this.redoStack.forEach(item=>clearUndoManagerStackItem(tr,this,item)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:clearUndoStack,redoStackCleared:clearRedoStack}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let res;try{res=popStackItem(this,this.undoStack,"undo")}finally{this.undoing=!1}return res}redo(){this.redoing=!0;let res;try{res=popStackItem(this,this.redoStack,"redo")}finally{this.redoing=!1}return res}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}};LazyStructReader=class{constructor(decoder,filterSkips){this.gen=lazyStructReaderGenerator(decoder),this.curr=null,this.done=!1,this.filterSkips=filterSkips,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Skip);return this.curr}},logUpdate=update=>logUpdateV2(update,UpdateDecoderV1),logUpdateV2=(update,YDecoder=UpdateDecoderV2)=>{let structs=[],updateDecoder=new YDecoder(createDecoder(update)),lazyDecoder=new LazyStructReader(updateDecoder,!1);for(let curr=lazyDecoder.curr;curr!==null;curr=lazyDecoder.next())structs.push(curr);print("Structs: ",structs);let ds=readDeleteSet(updateDecoder);print("DeleteSet: ",ds)},decodeUpdate=update=>decodeUpdateV2(update,UpdateDecoderV1),decodeUpdateV2=(update,YDecoder=UpdateDecoderV2)=>{let structs=[],updateDecoder=new YDecoder(createDecoder(update)),lazyDecoder=new LazyStructReader(updateDecoder,!1);for(let curr=lazyDecoder.curr;curr!==null;curr=lazyDecoder.next())structs.push(curr);return{structs,ds:readDeleteSet(updateDecoder)}},LazyStructWriter=class{constructor(encoder){this.currClient=0,this.startClock=0,this.written=0,this.encoder=encoder,this.clientStructs=[]}},mergeUpdates=updates=>mergeUpdatesV2(updates,UpdateDecoderV1,UpdateEncoderV1),encodeStateVectorFromUpdateV2=(update,YEncoder=DSEncoderV2,YDecoder=UpdateDecoderV2)=>{let encoder=new YEncoder,updateDecoder=new LazyStructReader(new YDecoder(createDecoder(update)),!1),curr=updateDecoder.curr;if(curr!==null){let size2=0,currClient=curr.id.client,stopCounting=curr.id.clock!==0,currClock=stopCounting?0:curr.id.clock+curr.length;for(;curr!==null;curr=updateDecoder.next())currClient!==curr.id.client&&(currClock!==0&&(size2++,writeVarUint(encoder.restEncoder,currClient),writeVarUint(encoder.restEncoder,currClock)),currClient=curr.id.client,currClock=0,stopCounting=curr.id.clock!==0),curr.constructor===Skip&&(stopCounting=!0),stopCounting||(currClock=curr.id.clock+curr.length);currClock!==0&&(size2++,writeVarUint(encoder.restEncoder,currClient),writeVarUint(encoder.restEncoder,currClock));let enc=createEncoder();return writeVarUint(enc,size2),writeBinaryEncoder(enc,encoder.restEncoder),encoder.restEncoder=enc,encoder.toUint8Array()}else return writeVarUint(encoder.restEncoder,0),encoder.toUint8Array()},encodeStateVectorFromUpdate=update=>encodeStateVectorFromUpdateV2(update,DSEncoderV1,UpdateDecoderV1),parseUpdateMetaV2=(update,YDecoder=UpdateDecoderV2)=>{let from2=new Map,to=new Map,updateDecoder=new LazyStructReader(new YDecoder(createDecoder(update)),!1),curr=updateDecoder.curr;if(curr!==null){let currClient=curr.id.client,currClock=curr.id.clock;for(from2.set(currClient,currClock);curr!==null;curr=updateDecoder.next())currClient!==curr.id.client&&(to.set(currClient,currClock),from2.set(curr.id.client,curr.id.clock),currClient=curr.id.client),currClock=curr.id.clock+curr.length;to.set(currClient,currClock)}return{from:from2,to}},parseUpdateMeta=update=>parseUpdateMetaV2(update,UpdateDecoderV1),sliceStruct=(left,diff)=>{if(left.constructor===GC){let{client,clock}=left.id;return new GC(createID(client,clock+diff),left.length-diff)}else if(left.constructor===Skip){let{client,clock}=left.id;return new Skip(createID(client,clock+diff),left.length-diff)}else{let leftItem=left,{client,clock}=leftItem.id;return new Item(createID(client,clock+diff),null,createID(client,clock+diff-1),null,leftItem.rightOrigin,leftItem.parent,leftItem.parentSub,leftItem.content.splice(diff))}},mergeUpdatesV2=(updates,YDecoder=UpdateDecoderV2,YEncoder=UpdateEncoderV2)=>{if(updates.length===1)return updates[0];let updateDecoders=updates.map(update=>new YDecoder(createDecoder(update))),lazyStructDecoders=updateDecoders.map(decoder=>new LazyStructReader(decoder,!0)),currWrite=null,updateEncoder=new YEncoder,lazyStructEncoder=new LazyStructWriter(updateEncoder);for(;lazyStructDecoders=lazyStructDecoders.filter(dec=>dec.curr!==null),lazyStructDecoders.sort((dec1,dec2)=>{if(dec1.curr.id.client===dec2.curr.id.client){let clockDiff=dec1.curr.id.clock-dec2.curr.id.clock;return clockDiff===0?dec1.curr.constructor===dec2.curr.constructor?0:dec1.curr.constructor===Skip?1:-1:clockDiff}else return dec2.curr.id.client-dec1.curr.id.client}),lazyStructDecoders.length!==0;){let currDecoder=lazyStructDecoders[0],firstClient=currDecoder.curr.id.client;if(currWrite!==null){let curr=currDecoder.curr,iterated=!1;for(;curr!==null&&curr.id.clock+curr.length<=currWrite.struct.id.clock+currWrite.struct.length&&curr.id.client>=currWrite.struct.id.client;)curr=currDecoder.next(),iterated=!0;if(curr===null||curr.id.client!==firstClient||iterated&&curr.id.clock>currWrite.struct.id.clock+currWrite.struct.length)continue;if(firstClient!==currWrite.struct.id.client)writeStructToLazyStructWriter(lazyStructEncoder,currWrite.struct,currWrite.offset),currWrite={struct:curr,offset:0},currDecoder.next();else if(currWrite.struct.id.clock+currWrite.struct.length<curr.id.clock)if(currWrite.struct.constructor===Skip)currWrite.struct.length=curr.id.clock+curr.length-currWrite.struct.id.clock;else{writeStructToLazyStructWriter(lazyStructEncoder,currWrite.struct,currWrite.offset);let diff=curr.id.clock-currWrite.struct.id.clock-currWrite.struct.length;currWrite={struct:new Skip(createID(firstClient,currWrite.struct.id.clock+currWrite.struct.length),diff),offset:0}}else{let diff=currWrite.struct.id.clock+currWrite.struct.length-curr.id.clock;diff>0&&(currWrite.struct.constructor===Skip?currWrite.struct.length-=diff:curr=sliceStruct(curr,diff)),currWrite.struct.mergeWith(curr)||(writeStructToLazyStructWriter(lazyStructEncoder,currWrite.struct,currWrite.offset),currWrite={struct:curr,offset:0},currDecoder.next())}}else currWrite={struct:currDecoder.curr,offset:0},currDecoder.next();for(let next=currDecoder.curr;next!==null&&next.id.client===firstClient&&next.id.clock===currWrite.struct.id.clock+currWrite.struct.length&&next.constructor!==Skip;next=currDecoder.next())writeStructToLazyStructWriter(lazyStructEncoder,currWrite.struct,currWrite.offset),currWrite={struct:next,offset:0}}currWrite!==null&&(writeStructToLazyStructWriter(lazyStructEncoder,currWrite.struct,currWrite.offset),currWrite=null),finishLazyStructWriting(lazyStructEncoder);let dss=updateDecoders.map(decoder=>readDeleteSet(decoder)),ds=mergeDeleteSets(dss);return writeDeleteSet(updateEncoder,ds),updateEncoder.toUint8Array()},diffUpdateV2=(update,sv,YDecoder=UpdateDecoderV2,YEncoder=UpdateEncoderV2)=>{let state=decodeStateVector(sv),encoder=new YEncoder,lazyStructWriter=new LazyStructWriter(encoder),decoder=new YDecoder(createDecoder(update)),reader=new LazyStructReader(decoder,!1);for(;reader.curr;){let curr=reader.curr,currClient=curr.id.client,svClock=state.get(currClient)||0;if(reader.curr.constructor===Skip){reader.next();continue}if(curr.id.clock+curr.length>svClock)for(writeStructToLazyStructWriter(lazyStructWriter,curr,max(svClock-curr.id.clock,0)),reader.next();reader.curr&&reader.curr.id.client===currClient;)writeStructToLazyStructWriter(lazyStructWriter,reader.curr,0),reader.next();else for(;reader.curr&&reader.curr.id.client===currClient&&reader.curr.id.clock+reader.curr.length<=svClock;)reader.next()}finishLazyStructWriting(lazyStructWriter);let ds=readDeleteSet(decoder);return writeDeleteSet(encoder,ds),encoder.toUint8Array()},diffUpdate=(update,sv)=>diffUpdateV2(update,sv,UpdateDecoderV1,UpdateEncoderV1),flushLazyStructWriter=lazyWriter=>{lazyWriter.written>0&&(lazyWriter.clientStructs.push({written:lazyWriter.written,restEncoder:toUint8Array(lazyWriter.encoder.restEncoder)}),lazyWriter.encoder.restEncoder=createEncoder(),lazyWriter.written=0)},writeStructToLazyStructWriter=(lazyWriter,struct,offset)=>{lazyWriter.written>0&&lazyWriter.currClient!==struct.id.client&&flushLazyStructWriter(lazyWriter),lazyWriter.written===0&&(lazyWriter.currClient=struct.id.client,lazyWriter.encoder.writeClient(struct.id.client),writeVarUint(lazyWriter.encoder.restEncoder,struct.id.clock+offset)),struct.write(lazyWriter.encoder,offset),lazyWriter.written++},finishLazyStructWriting=lazyWriter=>{flushLazyStructWriter(lazyWriter);let restEncoder=lazyWriter.encoder.restEncoder;writeVarUint(restEncoder,lazyWriter.clientStructs.length);for(let i=0;i<lazyWriter.clientStructs.length;i++){let partStructs=lazyWriter.clientStructs[i];writeVarUint(restEncoder,partStructs.written),writeUint8Array(restEncoder,partStructs.restEncoder)}},convertUpdateFormat=(update,blockTransformer,YDecoder,YEncoder)=>{let updateDecoder=new YDecoder(createDecoder(update)),lazyDecoder=new LazyStructReader(updateDecoder,!1),updateEncoder=new YEncoder,lazyWriter=new LazyStructWriter(updateEncoder);for(let curr=lazyDecoder.curr;curr!==null;curr=lazyDecoder.next())writeStructToLazyStructWriter(lazyWriter,blockTransformer(curr),0);finishLazyStructWriting(lazyWriter);let ds=readDeleteSet(updateDecoder);return writeDeleteSet(updateEncoder,ds),updateEncoder.toUint8Array()},createObfuscator=({formatting=!0,subdocs=!0,yxml=!0}={})=>{let i=0,mapKeyCache=create3(),nodeNameCache=create3(),formattingKeyCache=create3(),formattingValueCache=create3();return formattingValueCache.set(null,null),block=>{switch(block.constructor){case GC:case Skip:return block;case Item:{let item=block,content=item.content;switch(content.constructor){case ContentDeleted:break;case ContentType:{if(yxml){let type=content.type;type instanceof YXmlElement&&(type.nodeName=setIfUndefined(nodeNameCache,type.nodeName,()=>"node-"+i)),type instanceof YXmlHook&&(type.hookName=setIfUndefined(nodeNameCache,type.hookName,()=>"hook-"+i))}break}case ContentAny:{let c=content;c.arr=c.arr.map(()=>i);break}case ContentBinary:{let c=content;c.content=new Uint8Array([i]);break}case ContentDoc:{let c=content;subdocs&&(c.opts={},c.doc.guid=i+"");break}case ContentEmbed:{let c=content;c.embed={};break}case ContentFormat:{let c=content;formatting&&(c.key=setIfUndefined(formattingKeyCache,c.key,()=>i+""),c.value=setIfUndefined(formattingValueCache,c.value,()=>({i})));break}case ContentJSON:{let c=content;c.arr=c.arr.map(()=>i);break}case ContentString:{let c=content;c.str=repeat(i%10+"",c.str.length);break}default:unexpectedCase()}return item.parentSub&&(item.parentSub=setIfUndefined(mapKeyCache,item.parentSub,()=>i+"")),i++,block}default:unexpectedCase()}}},obfuscateUpdate=(update,opts)=>convertUpdateFormat(update,createObfuscator(opts),UpdateDecoderV1,UpdateEncoderV1),obfuscateUpdateV2=(update,opts)=>convertUpdateFormat(update,createObfuscator(opts),UpdateDecoderV2,UpdateEncoderV2),convertUpdateFormatV1ToV2=update=>convertUpdateFormat(update,id,UpdateDecoderV1,UpdateEncoderV2),convertUpdateFormatV2ToV1=update=>convertUpdateFormat(update,id,UpdateDecoderV2,UpdateEncoderV1),errorComputeChanges="You must not compute changes after the event-handler fired.",YEvent=class{constructor(target,transaction){this.target=target,this.currentTarget=target,this.transaction=transaction,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=getPathTo(this.currentTarget,this.target))}deletes(struct){return isDeleted(this.transaction.deleteSet,struct.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw create2(errorComputeChanges);let keys3=new Map,target=this.target;this.transaction.changed.get(target).forEach(key=>{if(key!==null){let item=target._map.get(key),action,oldValue;if(this.adds(item)){let prev=item.left;for(;prev!==null&&this.adds(prev);)prev=prev.left;if(this.deletes(item))if(prev!==null&&this.deletes(prev))action="delete",oldValue=last(prev.content.getContent());else return;else prev!==null&&this.deletes(prev)?(action="update",oldValue=last(prev.content.getContent())):(action="add",oldValue=void 0)}else if(this.deletes(item))action="delete",oldValue=last(item.content.getContent());else return;keys3.set(key,{action,oldValue})}}),this._keys=keys3}return this._keys}get delta(){return this.changes.delta}adds(struct){return struct.id.clock>=(this.transaction.beforeState.get(struct.id.client)||0)}get changes(){let changes=this._changes;if(changes===null){if(this.transaction.doc._transactionCleanups.length===0)throw create2(errorComputeChanges);let target=this.target,added=create(),deleted=create(),delta=[];if(changes={added,deleted,delta,keys:this.keys},this.transaction.changed.get(target).has(null)){let lastOp=null,packOp=()=>{lastOp&&delta.push(lastOp)};for(let item=target._start;item!==null;item=item.right)item.deleted?this.deletes(item)&&!this.adds(item)&&((lastOp===null||lastOp.delete===void 0)&&(packOp(),lastOp={delete:0}),lastOp.delete+=item.length,deleted.add(item)):this.adds(item)?((lastOp===null||lastOp.insert===void 0)&&(packOp(),lastOp={insert:[]}),lastOp.insert=lastOp.insert.concat(item.content.getContent()),added.add(item)):((lastOp===null||lastOp.retain===void 0)&&(packOp(),lastOp={retain:0}),lastOp.retain+=item.length);lastOp!==null&&lastOp.retain===void 0&&packOp()}this._changes=changes}return changes}},getPathTo=(parent,child)=>{let path=[];for(;child._item!==null&&child!==parent;){if(child._item.parentSub!==null)path.unshift(child._item.parentSub);else{let i=0,c=child._item.parent._start;for(;c!==child._item&&c!==null;)!c.deleted&&c.countable&&(i+=c.length),c=c.right;path.unshift(i)}child=child._item.parent}return path},warnPrematureAccess=()=>{warn("Invalid access: Add Yjs type to a document before reading data.")},maxSearchMarker=80,globalSearchMarkerTimestamp=0,ArraySearchMarker=class{constructor(p,index){p.marker=!0,this.p=p,this.index=index,this.timestamp=globalSearchMarkerTimestamp++}},refreshMarkerTimestamp=marker=>{marker.timestamp=globalSearchMarkerTimestamp++},overwriteMarker=(marker,p,index)=>{marker.p.marker=!1,marker.p=p,p.marker=!0,marker.index=index,marker.timestamp=globalSearchMarkerTimestamp++},markPosition=(searchMarker,p,index)=>{if(searchMarker.length>=maxSearchMarker){let marker=searchMarker.reduce((a,b)=>a.timestamp<b.timestamp?a:b);return overwriteMarker(marker,p,index),marker}else{let pm=new ArraySearchMarker(p,index);return searchMarker.push(pm),pm}},findMarker=(yarray,index)=>{if(yarray._start===null||index===0||yarray._searchMarker===null)return null;let marker=yarray._searchMarker.length===0?null:yarray._searchMarker.reduce((a,b)=>abs(index-a.index)<abs(index-b.index)?a:b),p=yarray._start,pindex=0;for(marker!==null&&(p=marker.p,pindex=marker.index,refreshMarkerTimestamp(marker));p.right!==null&&pindex<index;){if(!p.deleted&&p.countable){if(index<pindex+p.length)break;pindex+=p.length}p=p.right}for(;p.left!==null&&pindex>index;)p=p.left,!p.deleted&&p.countable&&(pindex-=p.length);for(;p.left!==null&&p.left.id.client===p.id.client&&p.left.id.clock+p.left.length===p.id.clock;)p=p.left,!p.deleted&&p.countable&&(pindex-=p.length);return marker!==null&&abs(marker.index-pindex)<p.parent.length/maxSearchMarker?(overwriteMarker(marker,p,pindex),marker):markPosition(yarray._searchMarker,p,pindex)},updateMarkerChanges=(searchMarker,index,len)=>{for(let i=searchMarker.length-1;i>=0;i--){let m=searchMarker[i];if(len>0){let p=m.p;for(p.marker=!1;p&&(p.deleted||!p.countable);)p=p.left,p&&!p.deleted&&p.countable&&(m.index-=p.length);if(p===null||p.marker===!0){searchMarker.splice(i,1);continue}m.p=p,p.marker=!0}(index<m.index||len>0&&index===m.index)&&(m.index=max(index,m.index+len))}},getTypeChildren=t=>{t.doc??warnPrematureAccess();let s=t._start,arr=[];for(;s;)arr.push(s),s=s.right;return arr},callTypeObservers=(type,transaction,event)=>{let changedType=type,changedParentTypes=transaction.changedParentTypes;for(;setIfUndefined(changedParentTypes,type,()=>[]).push(event),type._item!==null;)type=type._item.parent;callEventHandlerListeners(changedType._eH,event,transaction)},AbstractType=class{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=createEventHandler(),this._dEH=createEventHandler(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(y,item){this.doc=y,this._item=item}_copy(){throw methodUnimplemented()}clone(){throw methodUnimplemented()}_write(_encoder){}get _first(){let n=this._start;for(;n!==null&&n.deleted;)n=n.right;return n}_callObserver(transaction,_parentSubs){!transaction.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(f){addEventHandlerListener(this._eH,f)}observeDeep(f){addEventHandlerListener(this._dEH,f)}unobserve(f){removeEventHandlerListener(this._eH,f)}unobserveDeep(f){removeEventHandlerListener(this._dEH,f)}toJSON(){}},typeListSlice=(type,start,end)=>{type.doc??warnPrematureAccess(),start<0&&(start=type._length+start),end<0&&(end=type._length+end);let len=end-start,cs=[],n=type._start;for(;n!==null&&len>0;){if(n.countable&&!n.deleted){let c=n.content.getContent();if(c.length<=start)start-=c.length;else{for(let i=start;i<c.length&&len>0;i++)cs.push(c[i]),len--;start=0}}n=n.right}return cs},typeListToArray=type=>{type.doc??warnPrematureAccess();let cs=[],n=type._start;for(;n!==null;){if(n.countable&&!n.deleted){let c=n.content.getContent();for(let i=0;i<c.length;i++)cs.push(c[i])}n=n.right}return cs},typeListToArraySnapshot=(type,snapshot2)=>{let cs=[],n=type._start;for(;n!==null;){if(n.countable&&isVisible(n,snapshot2)){let c=n.content.getContent();for(let i=0;i<c.length;i++)cs.push(c[i])}n=n.right}return cs},typeListForEach=(type,f)=>{let index=0,n=type._start;for(type.doc??warnPrematureAccess();n!==null;){if(n.countable&&!n.deleted){let c=n.content.getContent();for(let i=0;i<c.length;i++)f(c[i],index++,type)}n=n.right}},typeListMap=(type,f)=>{let result=[];return typeListForEach(type,(c,i)=>{result.push(f(c,i,type))}),result},typeListCreateIterator=type=>{let n=type._start,currentContent=null,currentContentIndex=0;return{[Symbol.iterator](){return this},next:()=>{if(currentContent===null){for(;n!==null&&n.deleted;)n=n.right;if(n===null)return{done:!0,value:void 0};currentContent=n.content.getContent(),currentContentIndex=0,n=n.right}let value=currentContent[currentContentIndex++];return currentContent.length<=currentContentIndex&&(currentContent=null),{done:!1,value}}}},typeListGet=(type,index)=>{type.doc??warnPrematureAccess();let marker=findMarker(type,index),n=type._start;for(marker!==null&&(n=marker.p,index-=marker.index);n!==null;n=n.right)if(!n.deleted&&n.countable){if(index<n.length)return n.content.getContent()[index];index-=n.length}},typeListInsertGenericsAfter=(transaction,parent,referenceItem,content)=>{let left=referenceItem,doc2=transaction.doc,ownClientId=doc2.clientID,store=doc2.store,right=referenceItem===null?parent._start:referenceItem.right,jsonContent=[],packJsonContent=()=>{jsonContent.length>0&&(left=new Item(createID(ownClientId,getState(store,ownClientId)),left,left&&left.lastId,right,right&&right.id,parent,null,new ContentAny(jsonContent)),left.integrate(transaction,0),jsonContent=[])};content.forEach(c=>{if(c===null)jsonContent.push(c);else switch(c.constructor){case Number:case Object:case Boolean:case Array:case String:jsonContent.push(c);break;default:switch(packJsonContent(),c.constructor){case Uint8Array:case ArrayBuffer:left=new Item(createID(ownClientId,getState(store,ownClientId)),left,left&&left.lastId,right,right&&right.id,parent,null,new ContentBinary(new Uint8Array(c))),left.integrate(transaction,0);break;case Doc:left=new Item(createID(ownClientId,getState(store,ownClientId)),left,left&&left.lastId,right,right&&right.id,parent,null,new ContentDoc(c)),left.integrate(transaction,0);break;default:if(c instanceof AbstractType)left=new Item(createID(ownClientId,getState(store,ownClientId)),left,left&&left.lastId,right,right&&right.id,parent,null,new ContentType(c)),left.integrate(transaction,0);else throw new Error("Unexpected content type in insert operation")}}}),packJsonContent()},lengthExceeded=()=>create2("Length exceeded!"),typeListInsertGenerics=(transaction,parent,index,content)=>{if(index>parent._length)throw lengthExceeded();if(index===0)return parent._searchMarker&&updateMarkerChanges(parent._searchMarker,index,content.length),typeListInsertGenericsAfter(transaction,parent,null,content);let startIndex=index,marker=findMarker(parent,index),n=parent._start;for(marker!==null&&(n=marker.p,index-=marker.index,index===0&&(n=n.prev,index+=n&&n.countable&&!n.deleted?n.length:0));n!==null;n=n.right)if(!n.deleted&&n.countable){if(index<=n.length){index<n.length&&getItemCleanStart(transaction,createID(n.id.client,n.id.clock+index));break}index-=n.length}return parent._searchMarker&&updateMarkerChanges(parent._searchMarker,startIndex,content.length),typeListInsertGenericsAfter(transaction,parent,n,content)},typeListPushGenerics=(transaction,parent,content)=>{let n=(parent._searchMarker||[]).reduce((maxMarker,currMarker)=>currMarker.index>maxMarker.index?currMarker:maxMarker,{index:0,p:parent._start}).p;if(n)for(;n.right;)n=n.right;return typeListInsertGenericsAfter(transaction,parent,n,content)},typeListDelete=(transaction,parent,index,length3)=>{if(length3===0)return;let startIndex=index,startLength=length3,marker=findMarker(parent,index),n=parent._start;for(marker!==null&&(n=marker.p,index-=marker.index);n!==null&&index>0;n=n.right)!n.deleted&&n.countable&&(index<n.length&&getItemCleanStart(transaction,createID(n.id.client,n.id.clock+index)),index-=n.length);for(;length3>0&&n!==null;)n.deleted||(length3<n.length&&getItemCleanStart(transaction,createID(n.id.client,n.id.clock+length3)),n.delete(transaction),length3-=n.length),n=n.right;if(length3>0)throw lengthExceeded();parent._searchMarker&&updateMarkerChanges(parent._searchMarker,startIndex,-startLength+length3)},typeMapDelete=(transaction,parent,key)=>{let c=parent._map.get(key);c!==void 0&&c.delete(transaction)},typeMapSet=(transaction,parent,key,value)=>{let left=parent._map.get(key)||null,doc2=transaction.doc,ownClientId=doc2.clientID,content;if(value==null)content=new ContentAny([value]);else switch(value.constructor){case Number:case Object:case Boolean:case Array:case String:content=new ContentAny([value]);break;case Uint8Array:content=new ContentBinary(value);break;case Doc:content=new ContentDoc(value);break;default:if(value instanceof AbstractType)content=new ContentType(value);else throw new Error("Unexpected content type")}new Item(createID(ownClientId,getState(doc2.store,ownClientId)),left,left&&left.lastId,null,null,parent,key,content).integrate(transaction,0)},typeMapGet=(parent,key)=>{parent.doc??warnPrematureAccess();let val=parent._map.get(key);return val!==void 0&&!val.deleted?val.content.getContent()[val.length-1]:void 0},typeMapGetAll=parent=>{let res={};return parent.doc??warnPrematureAccess(),parent._map.forEach((value,key)=>{value.deleted||(res[key]=value.content.getContent()[value.length-1])}),res},typeMapHas=(parent,key)=>{parent.doc??warnPrematureAccess();let val=parent._map.get(key);return val!==void 0&&!val.deleted},typeMapGetSnapshot=(parent,key,snapshot2)=>{let v=parent._map.get(key)||null;for(;v!==null&&(!snapshot2.sv.has(v.id.client)||v.id.clock>=(snapshot2.sv.get(v.id.client)||0));)v=v.left;return v!==null&&isVisible(v,snapshot2)?v.content.getContent()[v.length-1]:void 0},typeMapGetAllSnapshot=(parent,snapshot2)=>{let res={};return parent._map.forEach((value,key)=>{let v=value;for(;v!==null&&(!snapshot2.sv.has(v.id.client)||v.id.clock>=(snapshot2.sv.get(v.id.client)||0));)v=v.left;v!==null&&isVisible(v,snapshot2)&&(res[key]=v.content.getContent()[v.length-1])}),res},createMapIterator=type=>(type.doc??warnPrematureAccess(),iteratorFilter(type._map.entries(),entry=>!entry[1].deleted)),YArrayEvent=class extends YEvent{},YArray=class _YArray extends AbstractType{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(items){let a=new _YArray;return a.push(items),a}_integrate(y,item){super._integrate(y,item),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new _YArray}clone(){let arr=new _YArray;return arr.insert(0,this.toArray().map(el=>el instanceof AbstractType?el.clone():el)),arr}get length(){return this.doc??warnPrematureAccess(),this._length}_callObserver(transaction,parentSubs){super._callObserver(transaction,parentSubs),callTypeObservers(this,transaction,new YArrayEvent(this,transaction))}insert(index,content){this.doc!==null?transact(this.doc,transaction=>{typeListInsertGenerics(transaction,this,index,content)}):this._prelimContent.splice(index,0,...content)}push(content){this.doc!==null?transact(this.doc,transaction=>{typeListPushGenerics(transaction,this,content)}):this._prelimContent.push(...content)}unshift(content){this.insert(0,content)}delete(index,length3=1){this.doc!==null?transact(this.doc,transaction=>{typeListDelete(transaction,this,index,length3)}):this._prelimContent.splice(index,length3)}get(index){return typeListGet(this,index)}toArray(){return typeListToArray(this)}slice(start=0,end=this.length){return typeListSlice(this,start,end)}toJSON(){return this.map(c=>c instanceof AbstractType?c.toJSON():c)}map(f){return typeListMap(this,f)}forEach(f){typeListForEach(this,f)}[Symbol.iterator](){return typeListCreateIterator(this)}_write(encoder){encoder.writeTypeRef(YArrayRefID)}},readYArray=_decoder=>new YArray,YMapEvent=class extends YEvent{constructor(ymap,transaction,subs){super(ymap,transaction),this.keysChanged=subs}},YMap=class _YMap extends AbstractType{constructor(entries){super(),this._prelimContent=null,entries===void 0?this._prelimContent=new Map:this._prelimContent=new Map(entries)}_integrate(y,item){super._integrate(y,item),this._prelimContent.forEach((value,key)=>{this.set(key,value)}),this._prelimContent=null}_copy(){return new _YMap}clone(){let map2=new _YMap;return this.forEach((value,key)=>{map2.set(key,value instanceof AbstractType?value.clone():value)}),map2}_callObserver(transaction,parentSubs){callTypeObservers(this,transaction,new YMapEvent(this,transaction,parentSubs))}toJSON(){this.doc??warnPrematureAccess();let map2={};return this._map.forEach((item,key)=>{if(!item.deleted){let v=item.content.getContent()[item.length-1];map2[key]=v instanceof AbstractType?v.toJSON():v}}),map2}get size(){return[...createMapIterator(this)].length}keys(){return iteratorMap(createMapIterator(this),v=>v[0])}values(){return iteratorMap(createMapIterator(this),v=>v[1].content.getContent()[v[1].length-1])}entries(){return iteratorMap(createMapIterator(this),v=>[v[0],v[1].content.getContent()[v[1].length-1]])}forEach(f){this.doc??warnPrematureAccess(),this._map.forEach((item,key)=>{item.deleted||f(item.content.getContent()[item.length-1],key,this)})}[Symbol.iterator](){return this.entries()}delete(key){this.doc!==null?transact(this.doc,transaction=>{typeMapDelete(transaction,this,key)}):this._prelimContent.delete(key)}set(key,value){return this.doc!==null?transact(this.doc,transaction=>{typeMapSet(transaction,this,key,value)}):this._prelimContent.set(key,value),value}get(key){return typeMapGet(this,key)}has(key){return typeMapHas(this,key)}clear(){this.doc!==null?transact(this.doc,transaction=>{this.forEach(function(_value,key,map2){typeMapDelete(transaction,map2,key)})}):this._prelimContent.clear()}_write(encoder){encoder.writeTypeRef(YMapRefID)}},readYMap=_decoder=>new YMap,equalAttrs=(a,b)=>a===b||typeof a=="object"&&typeof b=="object"&&a&&b&&equalFlat(a,b),ItemTextListPosition=class{constructor(left,right,index,currentAttributes){this.left=left,this.right=right,this.index=index,this.currentAttributes=currentAttributes}forward(){switch(this.right===null&&unexpectedCase(),this.right.content.constructor){case ContentFormat:this.right.deleted||updateCurrentAttributes(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}},findNextPosition=(transaction,pos,count2)=>{for(;pos.right!==null&&count2>0;){switch(pos.right.content.constructor){case ContentFormat:pos.right.deleted||updateCurrentAttributes(pos.currentAttributes,pos.right.content);break;default:pos.right.deleted||(count2<pos.right.length&&getItemCleanStart(transaction,createID(pos.right.id.client,pos.right.id.clock+count2)),pos.index+=pos.right.length,count2-=pos.right.length);break}pos.left=pos.right,pos.right=pos.right.right}return pos},findPosition=(transaction,parent,index,useSearchMarker)=>{let currentAttributes=new Map,marker=useSearchMarker?findMarker(parent,index):null;if(marker){let pos=new ItemTextListPosition(marker.p.left,marker.p,marker.index,currentAttributes);return findNextPosition(transaction,pos,index-marker.index)}else{let pos=new ItemTextListPosition(null,parent._start,0,currentAttributes);return findNextPosition(transaction,pos,index)}},insertNegatedAttributes=(transaction,parent,currPos,negatedAttributes)=>{for(;currPos.right!==null&&(currPos.right.deleted===!0||currPos.right.content.constructor===ContentFormat&&equalAttrs(negatedAttributes.get(currPos.right.content.key),currPos.right.content.value));)currPos.right.deleted||negatedAttributes.delete(currPos.right.content.key),currPos.forward();let doc2=transaction.doc,ownClientId=doc2.clientID;negatedAttributes.forEach((val,key)=>{let left=currPos.left,right=currPos.right,nextFormat=new Item(createID(ownClientId,getState(doc2.store,ownClientId)),left,left&&left.lastId,right,right&&right.id,parent,null,new ContentFormat(key,val));nextFormat.integrate(transaction,0),currPos.right=nextFormat,currPos.forward()})},updateCurrentAttributes=(currentAttributes,format)=>{let{key,value}=format;value===null?currentAttributes.delete(key):currentAttributes.set(key,value)},minimizeAttributeChanges=(currPos,attributes)=>{for(;currPos.right!==null;){if(!(currPos.right.deleted||currPos.right.content.constructor===ContentFormat&&equalAttrs(attributes[currPos.right.content.key]??null,currPos.right.content.value)))break;currPos.forward()}},insertAttributes=(transaction,parent,currPos,attributes)=>{let doc2=transaction.doc,ownClientId=doc2.clientID,negatedAttributes=new Map;for(let key in attributes){let val=attributes[key],currentVal=currPos.currentAttributes.get(key)??null;if(!equalAttrs(currentVal,val)){negatedAttributes.set(key,currentVal);let{left,right}=currPos;currPos.right=new Item(createID(ownClientId,getState(doc2.store,ownClientId)),left,left&&left.lastId,right,right&&right.id,parent,null,new ContentFormat(key,val)),currPos.right.integrate(transaction,0),currPos.forward()}}return negatedAttributes},insertText=(transaction,parent,currPos,text2,attributes)=>{currPos.currentAttributes.forEach((_val,key)=>{attributes[key]===void 0&&(attributes[key]=null)});let doc2=transaction.doc,ownClientId=doc2.clientID;minimizeAttributeChanges(currPos,attributes);let negatedAttributes=insertAttributes(transaction,parent,currPos,attributes),content=text2.constructor===String?new ContentString(text2):text2 instanceof AbstractType?new ContentType(text2):new ContentEmbed(text2),{left,right,index}=currPos;parent._searchMarker&&updateMarkerChanges(parent._searchMarker,currPos.index,content.getLength()),right=new Item(createID(ownClientId,getState(doc2.store,ownClientId)),left,left&&left.lastId,right,right&&right.id,parent,null,content),right.integrate(transaction,0),currPos.right=right,currPos.index=index,currPos.forward(),insertNegatedAttributes(transaction,parent,currPos,negatedAttributes)},formatText=(transaction,parent,currPos,length3,attributes)=>{let doc2=transaction.doc,ownClientId=doc2.clientID;minimizeAttributeChanges(currPos,attributes);let negatedAttributes=insertAttributes(transaction,parent,currPos,attributes);iterationLoop:for(;currPos.right!==null&&(length3>0||negatedAttributes.size>0&&(currPos.right.deleted||currPos.right.content.constructor===ContentFormat));){if(!currPos.right.deleted)switch(currPos.right.content.constructor){case ContentFormat:{let{key,value}=currPos.right.content,attr=attributes[key];if(attr!==void 0){if(equalAttrs(attr,value))negatedAttributes.delete(key);else{if(length3===0)break iterationLoop;negatedAttributes.set(key,value)}currPos.right.delete(transaction)}else currPos.currentAttributes.set(key,value);break}default:length3<currPos.right.length&&getItemCleanStart(transaction,createID(currPos.right.id.client,currPos.right.id.clock+length3)),length3-=currPos.right.length;break}currPos.forward()}if(length3>0){let newlines="";for(;length3>0;length3--)newlines+=`
`;currPos.right=new Item(createID(ownClientId,getState(doc2.store,ownClientId)),currPos.left,currPos.left&&currPos.left.lastId,currPos.right,currPos.right&&currPos.right.id,parent,null,new ContentString(newlines)),currPos.right.integrate(transaction,0),currPos.forward()}insertNegatedAttributes(transaction,parent,currPos,negatedAttributes)},cleanupFormattingGap=(transaction,start,curr,startAttributes,currAttributes)=>{let end=start,endFormats=create3();for(;end&&(!end.countable||end.deleted);){if(!end.deleted&&end.content.constructor===ContentFormat){let cf=end.content;endFormats.set(cf.key,cf)}end=end.right}let cleanups=0,reachedCurr=!1;for(;start!==end;){if(curr===start&&(reachedCurr=!0),!start.deleted){let content=start.content;switch(content.constructor){case ContentFormat:{let{key,value}=content,startAttrValue=startAttributes.get(key)??null;(endFormats.get(key)!==content||startAttrValue===value)&&(start.delete(transaction),cleanups++,!reachedCurr&&(currAttributes.get(key)??null)===value&&startAttrValue!==value&&(startAttrValue===null?currAttributes.delete(key):currAttributes.set(key,startAttrValue))),!reachedCurr&&!start.deleted&&updateCurrentAttributes(currAttributes,content);break}}}start=start.right}return cleanups},cleanupContextlessFormattingGap=(transaction,item)=>{for(;item&&item.right&&(item.right.deleted||!item.right.countable);)item=item.right;let attrs=new Set;for(;item&&(item.deleted||!item.countable);){if(!item.deleted&&item.content.constructor===ContentFormat){let key=item.content.key;attrs.has(key)?item.delete(transaction):attrs.add(key)}item=item.left}},cleanupYTextFormatting=type=>{let res=0;return transact(type.doc,transaction=>{let start=type._start,end=type._start,startAttributes=create3(),currentAttributes=copy(startAttributes);for(;end;){if(end.deleted===!1)switch(end.content.constructor){case ContentFormat:updateCurrentAttributes(currentAttributes,end.content);break;default:res+=cleanupFormattingGap(transaction,start,end,startAttributes,currentAttributes),startAttributes=copy(currentAttributes),start=end;break}end=end.right}}),res},cleanupYTextAfterTransaction=transaction=>{let needFullCleanup=new Set,doc2=transaction.doc;for(let[client,afterClock]of transaction.afterState.entries()){let clock=transaction.beforeState.get(client)||0;afterClock!==clock&&iterateStructs(transaction,doc2.store.clients.get(client),clock,afterClock,item=>{!item.deleted&&item.content.constructor===ContentFormat&&item.constructor!==GC&&needFullCleanup.add(item.parent)})}transact(doc2,t=>{iterateDeletedStructs(transaction,transaction.deleteSet,item=>{if(item instanceof GC||!item.parent._hasFormatting||needFullCleanup.has(item.parent))return;let parent=item.parent;item.content.constructor===ContentFormat?needFullCleanup.add(parent):cleanupContextlessFormattingGap(t,item)});for(let yText of needFullCleanup)cleanupYTextFormatting(yText)})},deleteText=(transaction,currPos,length3)=>{let startLength=length3,startAttrs=copy(currPos.currentAttributes),start=currPos.right;for(;length3>0&&currPos.right!==null;){if(currPos.right.deleted===!1)switch(currPos.right.content.constructor){case ContentType:case ContentEmbed:case ContentString:length3<currPos.right.length&&getItemCleanStart(transaction,createID(currPos.right.id.client,currPos.right.id.clock+length3)),length3-=currPos.right.length,currPos.right.delete(transaction);break}currPos.forward()}start&&cleanupFormattingGap(transaction,start,currPos.right,startAttrs,currPos.currentAttributes);let parent=(currPos.left||currPos.right).parent;return parent._searchMarker&&updateMarkerChanges(parent._searchMarker,currPos.index,-startLength+length3),currPos},YTextEvent=class extends YEvent{constructor(ytext,transaction,subs){super(ytext,transaction),this.childListChanged=!1,this.keysChanged=new Set,subs.forEach(sub=>{sub===null?this.childListChanged=!0:this.keysChanged.add(sub)})}get changes(){if(this._changes===null){let changes={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=changes}return this._changes}get delta(){if(this._delta===null){let y=this.target.doc,delta=[];transact(y,transaction=>{let currentAttributes=new Map,oldAttributes=new Map,item=this.target._start,action=null,attributes={},insert="",retain=0,deleteLen=0,addOp=()=>{if(action!==null){let op=null;switch(action){case"delete":deleteLen>0&&(op={delete:deleteLen}),deleteLen=0;break;case"insert":(typeof insert=="object"||insert.length>0)&&(op={insert},currentAttributes.size>0&&(op.attributes={},currentAttributes.forEach((value,key)=>{value!==null&&(op.attributes[key]=value)}))),insert="";break;case"retain":retain>0&&(op={retain},isEmpty(attributes)||(op.attributes=assign({},attributes))),retain=0;break}op&&delta.push(op),action=null}};for(;item!==null;){switch(item.content.constructor){case ContentType:case ContentEmbed:this.adds(item)?this.deletes(item)||(addOp(),action="insert",insert=item.content.getContent()[0],addOp()):this.deletes(item)?(action!=="delete"&&(addOp(),action="delete"),deleteLen+=1):item.deleted||(action!=="retain"&&(addOp(),action="retain"),retain+=1);break;case ContentString:this.adds(item)?this.deletes(item)||(action!=="insert"&&(addOp(),action="insert"),insert+=item.content.str):this.deletes(item)?(action!=="delete"&&(addOp(),action="delete"),deleteLen+=item.length):item.deleted||(action!=="retain"&&(addOp(),action="retain"),retain+=item.length);break;case ContentFormat:{let{key,value}=item.content;if(this.adds(item)){if(!this.deletes(item)){let curVal=currentAttributes.get(key)??null;equalAttrs(curVal,value)?value!==null&&item.delete(transaction):(action==="retain"&&addOp(),equalAttrs(value,oldAttributes.get(key)??null)?delete attributes[key]:attributes[key]=value)}}else if(this.deletes(item)){oldAttributes.set(key,value);let curVal=currentAttributes.get(key)??null;equalAttrs(curVal,value)||(action==="retain"&&addOp(),attributes[key]=curVal)}else if(!item.deleted){oldAttributes.set(key,value);let attr=attributes[key];attr!==void 0&&(equalAttrs(attr,value)?attr!==null&&item.delete(transaction):(action==="retain"&&addOp(),value===null?delete attributes[key]:attributes[key]=value))}item.deleted||(action==="insert"&&addOp(),updateCurrentAttributes(currentAttributes,item.content));break}}item=item.right}for(addOp();delta.length>0;){let lastOp=delta[delta.length-1];if(lastOp.retain!==void 0&&lastOp.attributes===void 0)delta.pop();else break}}),this._delta=delta}return this._delta}},YText=class _YText extends AbstractType{constructor(string){super(),this._pending=string!==void 0?[()=>this.insert(0,string)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??warnPrematureAccess(),this._length}_integrate(y,item){super._integrate(y,item);try{this._pending.forEach(f=>f())}catch(e){console.error(e)}this._pending=null}_copy(){return new _YText}clone(){let text2=new _YText;return text2.applyDelta(this.toDelta()),text2}_callObserver(transaction,parentSubs){super._callObserver(transaction,parentSubs);let event=new YTextEvent(this,transaction,parentSubs);callTypeObservers(this,transaction,event),!transaction.local&&this._hasFormatting&&(transaction._needFormattingCleanup=!0)}toString(){this.doc??warnPrematureAccess();let str="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===ContentString&&(str+=n.content.str),n=n.right;return str}toJSON(){return this.toString()}applyDelta(delta,{sanitize:sanitize2=!0}={}){this.doc!==null?transact(this.doc,transaction=>{let currPos=new ItemTextListPosition(null,this._start,0,new Map);for(let i=0;i<delta.length;i++){let op=delta[i];if(op.insert!==void 0){let ins=!sanitize2&&typeof op.insert=="string"&&i===delta.length-1&&currPos.right===null&&op.insert.slice(-1)===`
`?op.insert.slice(0,-1):op.insert;(typeof ins!="string"||ins.length>0)&&insertText(transaction,this,currPos,ins,op.attributes||{})}else op.retain!==void 0?formatText(transaction,this,currPos,op.retain,op.attributes||{}):op.delete!==void 0&&deleteText(transaction,currPos,op.delete)}}):this._pending.push(()=>this.applyDelta(delta))}toDelta(snapshot2,prevSnapshot,computeYChange){this.doc??warnPrematureAccess();let ops=[],currentAttributes=new Map,doc2=this.doc,str="",n=this._start;function packStr(){if(str.length>0){let attributes={},addAttributes=!1;currentAttributes.forEach((value,key)=>{addAttributes=!0,attributes[key]=value});let op={insert:str};addAttributes&&(op.attributes=attributes),ops.push(op),str=""}}let computeDelta=()=>{for(;n!==null;){if(isVisible(n,snapshot2)||prevSnapshot!==void 0&&isVisible(n,prevSnapshot))switch(n.content.constructor){case ContentString:{let cur=currentAttributes.get("ychange");snapshot2!==void 0&&!isVisible(n,snapshot2)?(cur===void 0||cur.user!==n.id.client||cur.type!=="removed")&&(packStr(),currentAttributes.set("ychange",computeYChange?computeYChange("removed",n.id):{type:"removed"})):prevSnapshot!==void 0&&!isVisible(n,prevSnapshot)?(cur===void 0||cur.user!==n.id.client||cur.type!=="added")&&(packStr(),currentAttributes.set("ychange",computeYChange?computeYChange("added",n.id):{type:"added"})):cur!==void 0&&(packStr(),currentAttributes.delete("ychange")),str+=n.content.str;break}case ContentType:case ContentEmbed:{packStr();let op={insert:n.content.getContent()[0]};if(currentAttributes.size>0){let attrs={};op.attributes=attrs,currentAttributes.forEach((value,key)=>{attrs[key]=value})}ops.push(op);break}case ContentFormat:isVisible(n,snapshot2)&&(packStr(),updateCurrentAttributes(currentAttributes,n.content));break}n=n.right}packStr()};return snapshot2||prevSnapshot?transact(doc2,transaction=>{snapshot2&&splitSnapshotAffectedStructs(transaction,snapshot2),prevSnapshot&&splitSnapshotAffectedStructs(transaction,prevSnapshot),computeDelta()},"cleanup"):computeDelta(),ops}insert(index,text2,attributes){if(text2.length<=0)return;let y=this.doc;y!==null?transact(y,transaction=>{let pos=findPosition(transaction,this,index,!attributes);attributes||(attributes={},pos.currentAttributes.forEach((v,k)=>{attributes[k]=v})),insertText(transaction,this,pos,text2,attributes)}):this._pending.push(()=>this.insert(index,text2,attributes))}insertEmbed(index,embed,attributes){let y=this.doc;y!==null?transact(y,transaction=>{let pos=findPosition(transaction,this,index,!attributes);insertText(transaction,this,pos,embed,attributes||{})}):this._pending.push(()=>this.insertEmbed(index,embed,attributes||{}))}delete(index,length3){if(length3===0)return;let y=this.doc;y!==null?transact(y,transaction=>{deleteText(transaction,findPosition(transaction,this,index,!0),length3)}):this._pending.push(()=>this.delete(index,length3))}format(index,length3,attributes){if(length3===0)return;let y=this.doc;y!==null?transact(y,transaction=>{let pos=findPosition(transaction,this,index,!1);pos.right!==null&&formatText(transaction,this,pos,length3,attributes)}):this._pending.push(()=>this.format(index,length3,attributes))}removeAttribute(attributeName){this.doc!==null?transact(this.doc,transaction=>{typeMapDelete(transaction,this,attributeName)}):this._pending.push(()=>this.removeAttribute(attributeName))}setAttribute(attributeName,attributeValue){this.doc!==null?transact(this.doc,transaction=>{typeMapSet(transaction,this,attributeName,attributeValue)}):this._pending.push(()=>this.setAttribute(attributeName,attributeValue))}getAttribute(attributeName){return typeMapGet(this,attributeName)}getAttributes(){return typeMapGetAll(this)}_write(encoder){encoder.writeTypeRef(YTextRefID)}},readYText=_decoder=>new YText,YXmlTreeWalker=class{constructor(root2,f=()=>!0){this._filter=f,this._root=root2,this._currentNode=root2._start,this._firstCall=!0,root2.doc??warnPrematureAccess()}[Symbol.iterator](){return this}next(){let n=this._currentNode,type=n&&n.content&&n.content.type;if(n!==null&&(!this._firstCall||n.deleted||!this._filter(type)))do if(type=n.content.type,!n.deleted&&(type.constructor===YXmlElement||type.constructor===YXmlFragment)&&type._start!==null)n=type._start;else for(;n!==null;)if(n.right!==null){n=n.right;break}else n.parent===this._root?n=null:n=n.parent._item;while(n!==null&&(n.deleted||!this._filter(n.content.type)));return this._firstCall=!1,n===null?{value:void 0,done:!0}:(this._currentNode=n,{value:n.content.type,done:!1})}},YXmlFragment=class _YXmlFragment extends AbstractType{constructor(){super(),this._prelimContent=[]}get firstChild(){let first=this._first;return first?first.content.getContent()[0]:null}_integrate(y,item){super._integrate(y,item),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new _YXmlFragment}clone(){let el=new _YXmlFragment;return el.insert(0,this.toArray().map(item=>item instanceof AbstractType?item.clone():item)),el}get length(){return this.doc??warnPrematureAccess(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(filter){return new YXmlTreeWalker(this,filter)}querySelector(query){query=query.toUpperCase();let next=new YXmlTreeWalker(this,element2=>element2.nodeName&&element2.nodeName.toUpperCase()===query).next();return next.done?null:next.value}querySelectorAll(query){return query=query.toUpperCase(),from(new YXmlTreeWalker(this,element2=>element2.nodeName&&element2.nodeName.toUpperCase()===query))}_callObserver(transaction,parentSubs){callTypeObservers(this,transaction,new YXmlEvent(this,parentSubs,transaction))}toString(){return typeListMap(this,xml=>xml.toString()).join("")}toJSON(){return this.toString()}toDOM(_document=document,hooks={},binding){let fragment=_document.createDocumentFragment();return binding!==void 0&&binding._createAssociation(fragment,this),typeListForEach(this,xmlType=>{fragment.insertBefore(xmlType.toDOM(_document,hooks,binding),null)}),fragment}insert(index,content){this.doc!==null?transact(this.doc,transaction=>{typeListInsertGenerics(transaction,this,index,content)}):this._prelimContent.splice(index,0,...content)}insertAfter(ref,content){if(this.doc!==null)transact(this.doc,transaction=>{let refItem=ref&&ref instanceof AbstractType?ref._item:ref;typeListInsertGenericsAfter(transaction,this,refItem,content)});else{let pc=this._prelimContent,index=ref===null?0:pc.findIndex(el=>el===ref)+1;if(index===0&&ref!==null)throw create2("Reference item not found");pc.splice(index,0,...content)}}delete(index,length3=1){this.doc!==null?transact(this.doc,transaction=>{typeListDelete(transaction,this,index,length3)}):this._prelimContent.splice(index,length3)}toArray(){return typeListToArray(this)}push(content){this.insert(this.length,content)}unshift(content){this.insert(0,content)}get(index){return typeListGet(this,index)}slice(start=0,end=this.length){return typeListSlice(this,start,end)}forEach(f){typeListForEach(this,f)}_write(encoder){encoder.writeTypeRef(YXmlFragmentRefID)}},readYXmlFragment=_decoder=>new YXmlFragment,YXmlElement=class _YXmlElement extends YXmlFragment{constructor(nodeName="UNDEFINED"){super(),this.nodeName=nodeName,this._prelimAttrs=new Map}get nextSibling(){let n=this._item?this._item.next:null;return n?n.content.type:null}get prevSibling(){let n=this._item?this._item.prev:null;return n?n.content.type:null}_integrate(y,item){super._integrate(y,item),this._prelimAttrs.forEach((value,key)=>{this.setAttribute(key,value)}),this._prelimAttrs=null}_copy(){return new _YXmlElement(this.nodeName)}clone(){let el=new _YXmlElement(this.nodeName),attrs=this.getAttributes();return forEach(attrs,(value,key)=>{typeof value=="string"&&el.setAttribute(key,value)}),el.insert(0,this.toArray().map(item=>item instanceof AbstractType?item.clone():item)),el}toString(){let attrs=this.getAttributes(),stringBuilder=[],keys3=[];for(let key in attrs)keys3.push(key);keys3.sort();let keysLen=keys3.length;for(let i=0;i<keysLen;i++){let key=keys3[i];stringBuilder.push(key+'="'+attrs[key]+'"')}let nodeName=this.nodeName.toLocaleLowerCase(),attrsString=stringBuilder.length>0?" "+stringBuilder.join(" "):"";return`<${nodeName}${attrsString}>${super.toString()}</${nodeName}>`}removeAttribute(attributeName){this.doc!==null?transact(this.doc,transaction=>{typeMapDelete(transaction,this,attributeName)}):this._prelimAttrs.delete(attributeName)}setAttribute(attributeName,attributeValue){this.doc!==null?transact(this.doc,transaction=>{typeMapSet(transaction,this,attributeName,attributeValue)}):this._prelimAttrs.set(attributeName,attributeValue)}getAttribute(attributeName){return typeMapGet(this,attributeName)}hasAttribute(attributeName){return typeMapHas(this,attributeName)}getAttributes(snapshot2){return snapshot2?typeMapGetAllSnapshot(this,snapshot2):typeMapGetAll(this)}toDOM(_document=document,hooks={},binding){let dom=_document.createElement(this.nodeName),attrs=this.getAttributes();for(let key in attrs){let value=attrs[key];typeof value=="string"&&dom.setAttribute(key,value)}return typeListForEach(this,yxml=>{dom.appendChild(yxml.toDOM(_document,hooks,binding))}),binding!==void 0&&binding._createAssociation(dom,this),dom}_write(encoder){encoder.writeTypeRef(YXmlElementRefID),encoder.writeKey(this.nodeName)}},readYXmlElement=decoder=>new YXmlElement(decoder.readKey()),YXmlEvent=class extends YEvent{constructor(target,subs,transaction){super(target,transaction),this.childListChanged=!1,this.attributesChanged=new Set,subs.forEach(sub=>{sub===null?this.childListChanged=!0:this.attributesChanged.add(sub)})}},YXmlHook=class _YXmlHook extends YMap{constructor(hookName){super(),this.hookName=hookName}_copy(){return new _YXmlHook(this.hookName)}clone(){let el=new _YXmlHook(this.hookName);return this.forEach((value,key)=>{el.set(key,value)}),el}toDOM(_document=document,hooks={},binding){let hook=hooks[this.hookName],dom;return hook!==void 0?dom=hook.createDom(this):dom=document.createElement(this.hookName),dom.setAttribute("data-yjs-hook",this.hookName),binding!==void 0&&binding._createAssociation(dom,this),dom}_write(encoder){encoder.writeTypeRef(YXmlHookRefID),encoder.writeKey(this.hookName)}},readYXmlHook=decoder=>new YXmlHook(decoder.readKey()),YXmlText=class _YXmlText extends YText{get nextSibling(){let n=this._item?this._item.next:null;return n?n.content.type:null}get prevSibling(){let n=this._item?this._item.prev:null;return n?n.content.type:null}_copy(){return new _YXmlText}clone(){let text2=new _YXmlText;return text2.applyDelta(this.toDelta()),text2}toDOM(_document=document,hooks,binding){let dom=_document.createTextNode(this.toString());return binding!==void 0&&binding._createAssociation(dom,this),dom}toString(){return this.toDelta().map(delta=>{let nestedNodes=[];for(let nodeName in delta.attributes){let attrs=[];for(let key in delta.attributes[nodeName])attrs.push({key,value:delta.attributes[nodeName][key]});attrs.sort((a,b)=>a.key<b.key?-1:1),nestedNodes.push({nodeName,attrs})}nestedNodes.sort((a,b)=>a.nodeName<b.nodeName?-1:1);let str="";for(let i=0;i<nestedNodes.length;i++){let node=nestedNodes[i];str+=`<${node.nodeName}`;for(let j=0;j<node.attrs.length;j++){let attr=node.attrs[j];str+=` ${attr.key}="${attr.value}"`}str+=">"}str+=delta.insert;for(let i=nestedNodes.length-1;i>=0;i--)str+=`</${nestedNodes[i].nodeName}>`;return str}).join("")}toJSON(){return this.toString()}_write(encoder){encoder.writeTypeRef(YXmlTextRefID)}},readYXmlText=decoder=>new YXmlText,AbstractStruct=class{constructor(id2,length3){this.id=id2,this.length=length3}get deleted(){throw methodUnimplemented()}mergeWith(right){return!1}write(encoder,offset,encodingRef){throw methodUnimplemented()}integrate(transaction,offset){throw methodUnimplemented()}},structGCRefNumber=0,GC=class extends AbstractStruct{get deleted(){return!0}delete(){}mergeWith(right){return this.constructor!==right.constructor?!1:(this.length+=right.length,!0)}integrate(transaction,offset){offset>0&&(this.id.clock+=offset,this.length-=offset),addStruct(transaction.doc.store,this)}write(encoder,offset){encoder.writeInfo(structGCRefNumber),encoder.writeLen(this.length-offset)}getMissing(transaction,store){return null}},ContentBinary=class _ContentBinary{constructor(content){this.content=content}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new _ContentBinary(this.content)}splice(offset){throw methodUnimplemented()}mergeWith(right){return!1}integrate(transaction,item){}delete(transaction){}gc(store){}write(encoder,offset){encoder.writeBuf(this.content)}getRef(){return 3}},readContentBinary=decoder=>new ContentBinary(decoder.readBuf()),ContentDeleted=class _ContentDeleted{constructor(len){this.len=len}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new _ContentDeleted(this.len)}splice(offset){let right=new _ContentDeleted(this.len-offset);return this.len=offset,right}mergeWith(right){return this.len+=right.len,!0}integrate(transaction,item){addToDeleteSet(transaction.deleteSet,item.id.client,item.id.clock,this.len),item.markDeleted()}delete(transaction){}gc(store){}write(encoder,offset){encoder.writeLen(this.len-offset)}getRef(){return 1}},readContentDeleted=decoder=>new ContentDeleted(decoder.readLen()),createDocFromOpts=(guid,opts)=>new Doc({guid,...opts,shouldLoad:opts.shouldLoad||opts.autoLoad||!1}),ContentDoc=class _ContentDoc{constructor(doc2){doc2._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=doc2;let opts={};this.opts=opts,doc2.gc||(opts.gc=!1),doc2.autoLoad&&(opts.autoLoad=!0),doc2.meta!==null&&(opts.meta=doc2.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new _ContentDoc(createDocFromOpts(this.doc.guid,this.opts))}splice(offset){throw methodUnimplemented()}mergeWith(right){return!1}integrate(transaction,item){this.doc._item=item,transaction.subdocsAdded.add(this.doc),this.doc.shouldLoad&&transaction.subdocsLoaded.add(this.doc)}delete(transaction){transaction.subdocsAdded.has(this.doc)?transaction.subdocsAdded.delete(this.doc):transaction.subdocsRemoved.add(this.doc)}gc(store){}write(encoder,offset){encoder.writeString(this.doc.guid),encoder.writeAny(this.opts)}getRef(){return 9}},readContentDoc=decoder=>new ContentDoc(createDocFromOpts(decoder.readString(),decoder.readAny())),ContentEmbed=class _ContentEmbed{constructor(embed){this.embed=embed}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new _ContentEmbed(this.embed)}splice(offset){throw methodUnimplemented()}mergeWith(right){return!1}integrate(transaction,item){}delete(transaction){}gc(store){}write(encoder,offset){encoder.writeJSON(this.embed)}getRef(){return 5}},readContentEmbed=decoder=>new ContentEmbed(decoder.readJSON()),ContentFormat=class _ContentFormat{constructor(key,value){this.key=key,this.value=value}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new _ContentFormat(this.key,this.value)}splice(_offset){throw methodUnimplemented()}mergeWith(_right){return!1}integrate(_transaction,item){let p=item.parent;p._searchMarker=null,p._hasFormatting=!0}delete(transaction){}gc(store){}write(encoder,offset){encoder.writeKey(this.key),encoder.writeJSON(this.value)}getRef(){return 6}},readContentFormat=decoder=>new ContentFormat(decoder.readKey(),decoder.readJSON()),ContentJSON=class _ContentJSON{constructor(arr){this.arr=arr}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new _ContentJSON(this.arr)}splice(offset){let right=new _ContentJSON(this.arr.slice(offset));return this.arr=this.arr.slice(0,offset),right}mergeWith(right){return this.arr=this.arr.concat(right.arr),!0}integrate(transaction,item){}delete(transaction){}gc(store){}write(encoder,offset){let len=this.arr.length;encoder.writeLen(len-offset);for(let i=offset;i<len;i++){let c=this.arr[i];encoder.writeString(c===void 0?"undefined":JSON.stringify(c))}}getRef(){return 2}},readContentJSON=decoder=>{let len=decoder.readLen(),cs=[];for(let i=0;i<len;i++){let c=decoder.readString();c==="undefined"?cs.push(void 0):cs.push(JSON.parse(c))}return new ContentJSON(cs)},isDevMode=getVariable("node_env")==="development",ContentAny=class _ContentAny{constructor(arr){this.arr=arr,isDevMode&&deepFreeze(arr)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new _ContentAny(this.arr)}splice(offset){let right=new _ContentAny(this.arr.slice(offset));return this.arr=this.arr.slice(0,offset),right}mergeWith(right){return this.arr=this.arr.concat(right.arr),!0}integrate(transaction,item){}delete(transaction){}gc(store){}write(encoder,offset){let len=this.arr.length;encoder.writeLen(len-offset);for(let i=offset;i<len;i++){let c=this.arr[i];encoder.writeAny(c)}}getRef(){return 8}},readContentAny=decoder=>{let len=decoder.readLen(),cs=[];for(let i=0;i<len;i++)cs.push(decoder.readAny());return new ContentAny(cs)},ContentString=class _ContentString{constructor(str){this.str=str}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new _ContentString(this.str)}splice(offset){let right=new _ContentString(this.str.slice(offset));this.str=this.str.slice(0,offset);let firstCharCode=this.str.charCodeAt(offset-1);return firstCharCode>=55296&&firstCharCode<=56319&&(this.str=this.str.slice(0,offset-1)+"\uFFFD",right.str="\uFFFD"+right.str.slice(1)),right}mergeWith(right){return this.str+=right.str,!0}integrate(transaction,item){}delete(transaction){}gc(store){}write(encoder,offset){encoder.writeString(offset===0?this.str:this.str.slice(offset))}getRef(){return 4}},readContentString=decoder=>new ContentString(decoder.readString()),typeRefs=[readYArray,readYMap,readYText,readYXmlElement,readYXmlFragment,readYXmlHook,readYXmlText],YArrayRefID=0,YMapRefID=1,YTextRefID=2,YXmlElementRefID=3,YXmlFragmentRefID=4,YXmlHookRefID=5,YXmlTextRefID=6,ContentType=class _ContentType{constructor(type){this.type=type}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new _ContentType(this.type._copy())}splice(offset){throw methodUnimplemented()}mergeWith(right){return!1}integrate(transaction,item){this.type._integrate(transaction.doc,item)}delete(transaction){let item=this.type._start;for(;item!==null;)item.deleted?item.id.clock<(transaction.beforeState.get(item.id.client)||0)&&transaction._mergeStructs.push(item):item.delete(transaction),item=item.right;this.type._map.forEach(item2=>{item2.deleted?item2.id.clock<(transaction.beforeState.get(item2.id.client)||0)&&transaction._mergeStructs.push(item2):item2.delete(transaction)}),transaction.changed.delete(this.type)}gc(store){let item=this.type._start;for(;item!==null;)item.gc(store,!0),item=item.right;this.type._start=null,this.type._map.forEach(item2=>{for(;item2!==null;)item2.gc(store,!0),item2=item2.left}),this.type._map=new Map}write(encoder,offset){this.type._write(encoder)}getRef(){return 7}},readContentType=decoder=>new ContentType(typeRefs[decoder.readTypeRef()](decoder)),followRedone=(store,id2)=>{let nextID=id2,diff=0,item;do diff>0&&(nextID=createID(nextID.client,nextID.clock+diff)),item=getItem(store,nextID),diff=nextID.clock-item.id.clock,nextID=item.redone;while(nextID!==null&&item instanceof Item);return{item,diff}},keepItem=(item,keep)=>{for(;item!==null&&item.keep!==keep;)item.keep=keep,item=item.parent._item},splitItem=(transaction,leftItem,diff)=>{let{client,clock}=leftItem.id,rightItem=new Item(createID(client,clock+diff),leftItem,createID(client,clock+diff-1),leftItem.right,leftItem.rightOrigin,leftItem.parent,leftItem.parentSub,leftItem.content.splice(diff));return leftItem.deleted&&rightItem.markDeleted(),leftItem.keep&&(rightItem.keep=!0),leftItem.redone!==null&&(rightItem.redone=createID(leftItem.redone.client,leftItem.redone.clock+diff)),leftItem.right=rightItem,rightItem.right!==null&&(rightItem.right.left=rightItem),transaction._mergeStructs.push(rightItem),rightItem.parentSub!==null&&rightItem.right===null&&rightItem.parent._map.set(rightItem.parentSub,rightItem),leftItem.length=diff,rightItem},isDeletedByUndoStack=(stack,id2)=>some(stack,s=>isDeleted(s.deletions,id2)),redoItem=(transaction,item,redoitems,itemsToDelete,ignoreRemoteMapChanges,um)=>{let doc2=transaction.doc,store=doc2.store,ownClientID=doc2.clientID,redone=item.redone;if(redone!==null)return getItemCleanStart(transaction,redone);let parentItem=item.parent._item,left=null,right;if(parentItem!==null&&parentItem.deleted===!0){if(parentItem.redone===null&&(!redoitems.has(parentItem)||redoItem(transaction,parentItem,redoitems,itemsToDelete,ignoreRemoteMapChanges,um)===null))return null;for(;parentItem.redone!==null;)parentItem=getItemCleanStart(transaction,parentItem.redone)}let parentType=parentItem===null?item.parent:parentItem.content.type;if(item.parentSub===null){for(left=item.left,right=item;left!==null;){let leftTrace=left;for(;leftTrace!==null&&leftTrace.parent._item!==parentItem;)leftTrace=leftTrace.redone===null?null:getItemCleanStart(transaction,leftTrace.redone);if(leftTrace!==null&&leftTrace.parent._item===parentItem){left=leftTrace;break}left=left.left}for(;right!==null;){let rightTrace=right;for(;rightTrace!==null&&rightTrace.parent._item!==parentItem;)rightTrace=rightTrace.redone===null?null:getItemCleanStart(transaction,rightTrace.redone);if(rightTrace!==null&&rightTrace.parent._item===parentItem){right=rightTrace;break}right=right.right}}else if(right=null,item.right&&!ignoreRemoteMapChanges){for(left=item;left!==null&&left.right!==null&&(left.right.redone||isDeleted(itemsToDelete,left.right.id)||isDeletedByUndoStack(um.undoStack,left.right.id)||isDeletedByUndoStack(um.redoStack,left.right.id));)for(left=left.right;left.redone;)left=getItemCleanStart(transaction,left.redone);if(left&&left.right!==null)return null}else left=parentType._map.get(item.parentSub)||null;let nextClock=getState(store,ownClientID),nextId=createID(ownClientID,nextClock),redoneItem=new Item(nextId,left,left&&left.lastId,right,right&&right.id,parentType,item.parentSub,item.content.copy());return item.redone=nextId,keepItem(redoneItem,!0),redoneItem.integrate(transaction,0),redoneItem},Item=class _Item extends AbstractStruct{constructor(id2,left,origin,right,rightOrigin,parent,parentSub,content){super(id2,content.getLength()),this.origin=origin,this.left=left,this.right=right,this.rightOrigin=rightOrigin,this.parent=parent,this.parentSub=parentSub,this.redone=null,this.content=content,this.info=this.content.isCountable()?2:0}set marker(isMarked){(this.info&8)>0!==isMarked&&(this.info^=8)}get marker(){return(this.info&8)>0}get keep(){return(this.info&1)>0}set keep(doKeep){this.keep!==doKeep&&(this.info^=1)}get countable(){return(this.info&2)>0}get deleted(){return(this.info&4)>0}set deleted(doDelete){this.deleted!==doDelete&&(this.info^=4)}markDeleted(){this.info|=4}getMissing(transaction,store){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=getState(store,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=getState(store,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===ID&&this.id.client!==this.parent.client&&this.parent.clock>=getState(store,this.parent.client))return this.parent.client;if(this.origin&&(this.left=getItemCleanEnd(transaction,store,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=getItemCleanStart(transaction,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===GC||this.right&&this.right.constructor===GC)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===_Item&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===_Item&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===ID){let parentItem=getItem(store,this.parent);parentItem.constructor===GC?this.parent=null:this.parent=parentItem.content.type}return null}integrate(transaction,offset){if(offset>0&&(this.id.clock+=offset,this.left=getItemCleanEnd(transaction,transaction.doc.store,createID(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(offset),this.length-=offset),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let left=this.left,o;if(left!==null)o=left.right;else if(this.parentSub!==null)for(o=this.parent._map.get(this.parentSub)||null;o!==null&&o.left!==null;)o=o.left;else o=this.parent._start;let conflictingItems=new Set,itemsBeforeOrigin=new Set;for(;o!==null&&o!==this.right;){if(itemsBeforeOrigin.add(o),conflictingItems.add(o),compareIDs(this.origin,o.origin)){if(o.id.client<this.id.client)left=o,conflictingItems.clear();else if(compareIDs(this.rightOrigin,o.rightOrigin))break}else if(o.origin!==null&&itemsBeforeOrigin.has(getItem(transaction.doc.store,o.origin)))conflictingItems.has(getItem(transaction.doc.store,o.origin))||(left=o,conflictingItems.clear());else break;o=o.right}this.left=left}if(this.left!==null){let right=this.left.right;this.right=right,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(transaction)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),addStruct(transaction.doc.store,this),this.content.integrate(transaction,this),addChangedTypeToTransaction(transaction,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(transaction)}else new GC(this.id,this.length).integrate(transaction,0)}get next(){let n=this.right;for(;n!==null&&n.deleted;)n=n.right;return n}get prev(){let n=this.left;for(;n!==null&&n.deleted;)n=n.left;return n}get lastId(){return this.length===1?this.id:createID(this.id.client,this.id.clock+this.length-1)}mergeWith(right){if(this.constructor===right.constructor&&compareIDs(right.origin,this.lastId)&&this.right===right&&compareIDs(this.rightOrigin,right.rightOrigin)&&this.id.client===right.id.client&&this.id.clock+this.length===right.id.clock&&this.deleted===right.deleted&&this.redone===null&&right.redone===null&&this.content.constructor===right.content.constructor&&this.content.mergeWith(right.content)){let searchMarker=this.parent._searchMarker;return searchMarker&&searchMarker.forEach(marker=>{marker.p===right&&(marker.p=this,!this.deleted&&this.countable&&(marker.index-=this.length))}),right.keep&&(this.keep=!0),this.right=right.right,this.right!==null&&(this.right.left=this),this.length+=right.length,!0}return!1}delete(transaction){if(!this.deleted){let parent=this.parent;this.countable&&this.parentSub===null&&(parent._length-=this.length),this.markDeleted(),addToDeleteSet(transaction.deleteSet,this.id.client,this.id.clock,this.length),addChangedTypeToTransaction(transaction,parent,this.parentSub),this.content.delete(transaction)}}gc(store,parentGCd){if(!this.deleted)throw unexpectedCase();this.content.gc(store),parentGCd?replaceStruct(store,this,new GC(this.id,this.length)):this.content=new ContentDeleted(this.length)}write(encoder,offset){let origin=offset>0?createID(this.id.client,this.id.clock+offset-1):this.origin,rightOrigin=this.rightOrigin,parentSub=this.parentSub,info=this.content.getRef()&31|(origin===null?0:128)|(rightOrigin===null?0:64)|(parentSub===null?0:32);if(encoder.writeInfo(info),origin!==null&&encoder.writeLeftID(origin),rightOrigin!==null&&encoder.writeRightID(rightOrigin),origin===null&&rightOrigin===null){let parent=this.parent;if(parent._item!==void 0){let parentItem=parent._item;if(parentItem===null){let ykey=findRootTypeKey(parent);encoder.writeParentInfo(!0),encoder.writeString(ykey)}else encoder.writeParentInfo(!1),encoder.writeLeftID(parentItem.id)}else parent.constructor===String?(encoder.writeParentInfo(!0),encoder.writeString(parent)):parent.constructor===ID?(encoder.writeParentInfo(!1),encoder.writeLeftID(parent)):unexpectedCase();parentSub!==null&&encoder.writeString(parentSub)}this.content.write(encoder,offset)}},readItemContent=(decoder,info)=>contentRefs[info&31](decoder),contentRefs=[()=>{unexpectedCase()},readContentDeleted,readContentJSON,readContentBinary,readContentString,readContentEmbed,readContentFormat,readContentType,readContentAny,readContentDoc,()=>{unexpectedCase()}],structSkipRefNumber=10,Skip=class extends AbstractStruct{get deleted(){return!0}delete(){}mergeWith(right){return this.constructor!==right.constructor?!1:(this.length+=right.length,!0)}integrate(transaction,offset){unexpectedCase()}write(encoder,offset){encoder.writeInfo(structSkipRefNumber),writeVarUint(encoder.restEncoder,this.length-offset)}getMissing(transaction,store){return null}},glo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},importIdentifier="__ $YJS$ __";glo[importIdentifier]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");glo[importIdentifier]=!0}});var awareness_exports={};__export(awareness_exports,{Awareness:()=>Awareness,applyAwarenessUpdate:()=>applyAwarenessUpdate,encodeAwarenessUpdate:()=>encodeAwarenessUpdate,modifyAwarenessUpdate:()=>modifyAwarenessUpdate,outdatedTimeout:()=>outdatedTimeout,removeAwarenessStates:()=>removeAwarenessStates});var outdatedTimeout,Awareness,removeAwarenessStates,encodeAwarenessUpdate,modifyAwarenessUpdate,applyAwarenessUpdate,init_awareness=__esm({"node_modules/y-protocols/awareness.js"(){init_encoding();init_decoding();init_time();init_math();init_observable();init_function();outdatedTimeout=3e4,Awareness=class extends Observable{constructor(doc2){super(),this.doc=doc2,this.clientID=doc2.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{let now=getUnixTime();this.getLocalState()!==null&&outdatedTimeout/2<=now-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());let remove=[];this.meta.forEach((meta,clientid)=>{clientid!==this.clientID&&outdatedTimeout<=now-meta.lastUpdated&&this.states.has(clientid)&&remove.push(clientid)}),remove.length>0&&removeAwarenessStates(this,remove,"timeout")},floor(outdatedTimeout/10)),doc2.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(state){let clientID=this.clientID,currLocalMeta=this.meta.get(clientID),clock=currLocalMeta===void 0?0:currLocalMeta.clock+1,prevState=this.states.get(clientID);state===null?this.states.delete(clientID):this.states.set(clientID,state),this.meta.set(clientID,{clock,lastUpdated:getUnixTime()});let added=[],updated=[],filteredUpdated=[],removed=[];state===null?removed.push(clientID):prevState==null?state!=null&&added.push(clientID):(updated.push(clientID),equalityDeep(prevState,state)||filteredUpdated.push(clientID)),(added.length>0||filteredUpdated.length>0||removed.length>0)&&this.emit("change",[{added,updated:filteredUpdated,removed},"local"]),this.emit("update",[{added,updated,removed},"local"])}setLocalStateField(field,value){let state=this.getLocalState();state!==null&&this.setLocalState({...state,[field]:value})}getStates(){return this.states}},removeAwarenessStates=(awareness,clients,origin)=>{let removed=[];for(let i=0;i<clients.length;i++){let clientID=clients[i];if(awareness.states.has(clientID)){if(awareness.states.delete(clientID),clientID===awareness.clientID){let curMeta=awareness.meta.get(clientID);awareness.meta.set(clientID,{clock:curMeta.clock+1,lastUpdated:getUnixTime()})}removed.push(clientID)}}removed.length>0&&(awareness.emit("change",[{added:[],updated:[],removed},origin]),awareness.emit("update",[{added:[],updated:[],removed},origin]))},encodeAwarenessUpdate=(awareness,clients,states=awareness.states)=>{let len=clients.length,encoder=createEncoder();writeVarUint(encoder,len);for(let i=0;i<len;i++){let clientID=clients[i],state=states.get(clientID)||null,clock=awareness.meta.get(clientID).clock;writeVarUint(encoder,clientID),writeVarUint(encoder,clock),writeVarString(encoder,JSON.stringify(state))}return toUint8Array(encoder)},modifyAwarenessUpdate=(update,modify2)=>{let decoder=createDecoder(update),encoder=createEncoder(),len=readVarUint(decoder);writeVarUint(encoder,len);for(let i=0;i<len;i++){let clientID=readVarUint(decoder),clock=readVarUint(decoder),state=JSON.parse(readVarString(decoder)),modifiedState=modify2(state);writeVarUint(encoder,clientID),writeVarUint(encoder,clock),writeVarString(encoder,JSON.stringify(modifiedState))}return toUint8Array(encoder)},applyAwarenessUpdate=(awareness,update,origin)=>{let decoder=createDecoder(update),timestamp=getUnixTime(),added=[],updated=[],filteredUpdated=[],removed=[],len=readVarUint(decoder);for(let i=0;i<len;i++){let clientID=readVarUint(decoder),clock=readVarUint(decoder),state=JSON.parse(readVarString(decoder)),clientMeta=awareness.meta.get(clientID),prevState=awareness.states.get(clientID),currClock=clientMeta===void 0?0:clientMeta.clock;(currClock<clock||currClock===clock&&state===null&&awareness.states.has(clientID))&&(state===null?clientID===awareness.clientID&&awareness.getLocalState()!=null?clock++:awareness.states.delete(clientID):awareness.states.set(clientID,state),awareness.meta.set(clientID,{clock,lastUpdated:timestamp}),clientMeta===void 0&&state!==null?added.push(clientID):clientMeta!==void 0&&state===null?removed.push(clientID):state!==null&&(equalityDeep(state,prevState)||filteredUpdated.push(clientID),updated.push(clientID)))}(added.length>0||filteredUpdated.length>0||removed.length>0)&&awareness.emit("change",[{added,updated:filteredUpdated,removed},origin]),(added.length>0||updated.length>0||removed.length>0)&&awareness.emit("update",[{added,updated,removed},origin])}}});var rtop,openDB,deleteDB,createStores,transact2,count,get,del,put,addAutoKey,getAll,queryFirst,getLastKey,iterateOnRequest,iterateKeys,getStore,createIDBKeyRangeUpperBound,createIDBKeyRangeLowerBound,init_indexeddb=__esm({"node_modules/lib0/indexeddb.js"(){init_promise();init_error();rtop=request=>create4((resolve2,reject2)=>{request.onerror=event=>reject2(new Error(event.target.error)),request.onsuccess=event=>resolve2(event.target.result)}),openDB=(name,initDB)=>create4((resolve2,reject2)=>{let request=indexedDB.open(name);request.onupgradeneeded=event=>initDB(event.target.result),request.onerror=event=>reject2(create2(event.target.error)),request.onsuccess=event=>{let db=event.target.result;db.onversionchange=()=>{db.close()},resolve2(db)}}),deleteDB=name=>rtop(indexedDB.deleteDatabase(name)),createStores=(db,definitions)=>definitions.forEach(d=>db.createObjectStore.apply(db,d)),transact2=(db,stores,access="readwrite")=>{let transaction=db.transaction(stores,access);return stores.map(store=>getStore(transaction,store))},count=(store,range)=>rtop(store.count(range)),get=(store,key)=>rtop(store.get(key)),del=(store,key)=>rtop(store.delete(key)),put=(store,item,key)=>rtop(store.put(item,key)),addAutoKey=(store,item)=>rtop(store.add(item)),getAll=(store,range,limit)=>rtop(store.getAll(range,limit)),queryFirst=(store,query,direction)=>{let first=null;return iterateKeys(store,query,key=>(first=key,!1),direction).then(()=>first)},getLastKey=(store,range=null)=>queryFirst(store,range,"prev"),iterateOnRequest=(request,f)=>create4((resolve2,reject2)=>{request.onerror=reject2,request.onsuccess=async event=>{let cursor=event.target.result;if(cursor===null||await f(cursor)===!1)return resolve2();cursor.continue()}}),iterateKeys=(store,keyrange,f,direction="next")=>iterateOnRequest(store.openKeyCursor(keyrange,direction),cursor=>f(cursor.key)),getStore=(t,store)=>t.objectStore(store),createIDBKeyRangeUpperBound=(upper,upperOpen)=>IDBKeyRange.upperBound(upper,upperOpen),createIDBKeyRangeLowerBound=(lower,lowerOpen)=>IDBKeyRange.lowerBound(lower,lowerOpen)}});var y_indexeddb_exports={};__export(y_indexeddb_exports,{IndexeddbPersistence:()=>IndexeddbPersistence,PREFERRED_TRIM_SIZE:()=>PREFERRED_TRIM_SIZE,clearDocument:()=>clearDocument,fetchUpdates:()=>fetchUpdates,storeState:()=>storeState});var customStoreName,updatesStoreName,PREFERRED_TRIM_SIZE,fetchUpdates,storeState,clearDocument,IndexeddbPersistence,init_y_indexeddb=__esm({"node_modules/y-indexeddb/src/y-indexeddb.js"(){init_yjs();init_indexeddb();init_promise();init_observable();customStoreName="custom",updatesStoreName="updates",PREFERRED_TRIM_SIZE=500,fetchUpdates=(idbPersistence,beforeApplyUpdatesCallback=()=>{},afterApplyUpdatesCallback=()=>{})=>{let[updatesStore]=transact2(idbPersistence.db,[updatesStoreName]);return getAll(updatesStore,createIDBKeyRangeLowerBound(idbPersistence._dbref,!1)).then(updates=>{idbPersistence._destroyed||(beforeApplyUpdatesCallback(updatesStore),transact(idbPersistence.doc,()=>{updates.forEach(val=>applyUpdate(idbPersistence.doc,val))},idbPersistence,!1),afterApplyUpdatesCallback(updatesStore))}).then(()=>getLastKey(updatesStore).then(lastKey=>{idbPersistence._dbref=lastKey+1})).then(()=>count(updatesStore).then(cnt=>{idbPersistence._dbsize=cnt})).then(()=>updatesStore)},storeState=(idbPersistence,forceStore=!0)=>fetchUpdates(idbPersistence).then(updatesStore=>{(forceStore||idbPersistence._dbsize>=PREFERRED_TRIM_SIZE)&&addAutoKey(updatesStore,encodeStateAsUpdate(idbPersistence.doc)).then(()=>del(updatesStore,createIDBKeyRangeUpperBound(idbPersistence._dbref,!0))).then(()=>count(updatesStore).then(cnt=>{idbPersistence._dbsize=cnt}))}),clearDocument=name=>deleteDB(name),IndexeddbPersistence=class extends Observable{constructor(name,doc2){super(),this.doc=doc2,this.name=name,this._dbref=0,this._dbsize=0,this._destroyed=!1,this.db=null,this.synced=!1,this._db=openDB(name,db=>createStores(db,[["updates",{autoIncrement:!0}],["custom"]])),this.whenSynced=create4(resolve2=>this.on("synced",()=>resolve2(this))),this._db.then(db=>{this.db=db,fetchUpdates(this,updatesStore=>addAutoKey(updatesStore,encodeStateAsUpdate(doc2)),()=>{if(this._destroyed)return this;this.synced=!0,this.emit("synced",[this])})}),this._storeTimeout=1e3,this._storeTimeoutId=null,this._storeUpdate=(update,origin)=>{if(this.db&&origin!==this){let[updatesStore]=transact2(this.db,[updatesStoreName]);addAutoKey(updatesStore,update),++this._dbsize>=PREFERRED_TRIM_SIZE&&(this._storeTimeoutId!==null&&clearTimeout(this._storeTimeoutId),this._storeTimeoutId=setTimeout(()=>{storeState(this,!1),this._storeTimeoutId=null},this._storeTimeout))}},doc2.on("update",this._storeUpdate),this.destroy=this.destroy.bind(this),doc2.on("destroy",this.destroy)}destroy(){return this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this.doc.off("update",this._storeUpdate),this.doc.off("destroy",this.destroy),this._destroyed=!0,this._db.then(db=>{db.close()})}clearData(){return this.destroy().then(()=>{deleteDB(this.name)})}get(key){return this._db.then(db=>{let[custom]=transact2(db,[customStoreName],"readonly");return get(custom,key)})}set(key,value){return this._db.then(db=>{let[custom]=transact2(db,[customStoreName]);return put(custom,value,key)})}del(key){return this._db.then(db=>{let[custom]=transact2(db,[customStoreName]);return del(custom,key)})}}}});var freeGlobal,freeGlobal_default,init_freeGlobal=__esm({"node_modules/lodash-es/_freeGlobal.js"(){freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeGlobal_default=freeGlobal}});var freeSelf,root,root_default,init_root=__esm({"node_modules/lodash-es/_root.js"(){init_freeGlobal();freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal_default||freeSelf||Function("return this")(),root_default=root}});var Symbol2,Symbol_default,init_Symbol=__esm({"node_modules/lodash-es/_Symbol.js"(){init_root();Symbol2=root_default.Symbol,Symbol_default=Symbol2}});function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch{}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}var objectProto,hasOwnProperty,nativeObjectToString,symToStringTag,getRawTag_default,init_getRawTag=__esm({"node_modules/lodash-es/_getRawTag.js"(){init_Symbol();objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol_default?Symbol_default.toStringTag:void 0;getRawTag_default=getRawTag}});function objectToString(value){return nativeObjectToString2.call(value)}var objectProto2,nativeObjectToString2,objectToString_default,init_objectToString=__esm({"node_modules/lodash-es/_objectToString.js"(){objectProto2=Object.prototype,nativeObjectToString2=objectProto2.toString;objectToString_default=objectToString}});function baseGetTag(value){return value==null?value===void 0?undefinedTag:nullTag:symToStringTag2&&symToStringTag2 in Object(value)?getRawTag_default(value):objectToString_default(value)}var nullTag,undefinedTag,symToStringTag2,baseGetTag_default,init_baseGetTag=__esm({"node_modules/lodash-es/_baseGetTag.js"(){init_Symbol();init_getRawTag();init_objectToString();nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag2=Symbol_default?Symbol_default.toStringTag:void 0;baseGetTag_default=baseGetTag}});function isObjectLike(value){return value!=null&&typeof value=="object"}var isObjectLike_default,init_isObjectLike=__esm({"node_modules/lodash-es/isObjectLike.js"(){isObjectLike_default=isObjectLike}});var isArray2,isArray_default,init_isArray=__esm({"node_modules/lodash-es/isArray.js"(){isArray2=Array.isArray,isArray_default=isArray2}});function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}var isObject_default,init_isObject=__esm({"node_modules/lodash-es/isObject.js"(){isObject_default=isObject}});function identity(value){return value}var identity_default,init_identity=__esm({"node_modules/lodash-es/identity.js"(){identity_default=identity}});function isFunction(value){if(!isObject_default(value))return!1;var tag=baseGetTag_default(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}var asyncTag,funcTag,genTag,proxyTag,isFunction_default,init_isFunction=__esm({"node_modules/lodash-es/isFunction.js"(){init_baseGetTag();init_isObject();asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";isFunction_default=isFunction}});var coreJsData,coreJsData_default,init_coreJsData=__esm({"node_modules/lodash-es/_coreJsData.js"(){init_root();coreJsData=root_default["__core-js_shared__"],coreJsData_default=coreJsData}});function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}var maskSrcKey,isMasked_default,init_isMasked=__esm({"node_modules/lodash-es/_isMasked.js"(){init_coreJsData();maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData_default&&coreJsData_default.keys&&coreJsData_default.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();isMasked_default=isMasked}});function toSource(func){if(func!=null){try{return funcToString.call(func)}catch{}try{return func+""}catch{}}return""}var funcProto,funcToString,toSource_default,init_toSource=__esm({"node_modules/lodash-es/_toSource.js"(){funcProto=Function.prototype,funcToString=funcProto.toString;toSource_default=toSource}});function baseIsNative(value){if(!isObject_default(value)||isMasked_default(value))return!1;var pattern=isFunction_default(value)?reIsNative:reIsHostCtor;return pattern.test(toSource_default(value))}var reRegExpChar,reIsHostCtor,funcProto2,objectProto3,funcToString2,hasOwnProperty2,reIsNative,baseIsNative_default,init_baseIsNative=__esm({"node_modules/lodash-es/_baseIsNative.js"(){init_isFunction();init_isMasked();init_isObject();init_toSource();reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto2=Function.prototype,objectProto3=Object.prototype,funcToString2=funcProto2.toString,hasOwnProperty2=objectProto3.hasOwnProperty,reIsNative=RegExp("^"+funcToString2.call(hasOwnProperty2).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");baseIsNative_default=baseIsNative}});function getValue(object,key){return object?.[key]}var getValue_default,init_getValue=__esm({"node_modules/lodash-es/_getValue.js"(){getValue_default=getValue}});function getNative(object,key){var value=getValue_default(object,key);return baseIsNative_default(value)?value:void 0}var getNative_default,init_getNative=__esm({"node_modules/lodash-es/_getNative.js"(){init_baseIsNative();init_getValue();getNative_default=getNative}});var WeakMap2,WeakMap_default,init_WeakMap=__esm({"node_modules/lodash-es/_WeakMap.js"(){init_getNative();init_root();WeakMap2=getNative_default(root_default,"WeakMap"),WeakMap_default=WeakMap2}});var objectCreate,baseCreate,baseCreate_default,init_baseCreate=__esm({"node_modules/lodash-es/_baseCreate.js"(){init_isObject();objectCreate=Object.create,baseCreate=function(){function object(){}return function(proto){if(!isObject_default(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}(),baseCreate_default=baseCreate}});function apply(func,thisArg,args2){switch(args2.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args2[0]);case 2:return func.call(thisArg,args2[0],args2[1]);case 3:return func.call(thisArg,args2[0],args2[1],args2[2])}return func.apply(thisArg,args2)}var apply_default,init_apply=__esm({"node_modules/lodash-es/_apply.js"(){apply_default=apply}});function copyArray(source,array){var index=-1,length3=source.length;for(array||(array=Array(length3));++index<length3;)array[index]=source[index];return array}var copyArray_default,init_copyArray=__esm({"node_modules/lodash-es/_copyArray.js"(){copyArray_default=copyArray}});function shortOut(func){var count2=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count2>=HOT_COUNT)return arguments[0]}else count2=0;return func.apply(void 0,arguments)}}var HOT_COUNT,HOT_SPAN,nativeNow,shortOut_default,init_shortOut=__esm({"node_modules/lodash-es/_shortOut.js"(){HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;shortOut_default=shortOut}});function constant(value){return function(){return value}}var constant_default,init_constant=__esm({"node_modules/lodash-es/constant.js"(){constant_default=constant}});var defineProperty,defineProperty_default,init_defineProperty=__esm({"node_modules/lodash-es/_defineProperty.js"(){init_getNative();defineProperty=function(){try{var func=getNative_default(Object,"defineProperty");return func({},"",{}),func}catch{}}(),defineProperty_default=defineProperty}});var baseSetToString,baseSetToString_default,init_baseSetToString=__esm({"node_modules/lodash-es/_baseSetToString.js"(){init_constant();init_defineProperty();init_identity();baseSetToString=defineProperty_default?function(func,string){return defineProperty_default(func,"toString",{configurable:!0,enumerable:!1,value:constant_default(string),writable:!0})}:identity_default,baseSetToString_default=baseSetToString}});var setToString,setToString_default,init_setToString=__esm({"node_modules/lodash-es/_setToString.js"(){init_baseSetToString();init_shortOut();setToString=shortOut_default(baseSetToString_default),setToString_default=setToString}});function arrayEach(array,iteratee){for(var index=-1,length3=array==null?0:array.length;++index<length3&&iteratee(array[index],index,array)!==!1;);return array}var arrayEach_default,init_arrayEach=__esm({"node_modules/lodash-es/_arrayEach.js"(){arrayEach_default=arrayEach}});function isIndex(value,length3){var type=typeof value;return length3=length3??MAX_SAFE_INTEGER2,!!length3&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length3}var MAX_SAFE_INTEGER2,reIsUint,isIndex_default,init_isIndex=__esm({"node_modules/lodash-es/_isIndex.js"(){MAX_SAFE_INTEGER2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;isIndex_default=isIndex}});function baseAssignValue(object,key,value){key=="__proto__"&&defineProperty_default?defineProperty_default(object,key,{configurable:!0,enumerable:!0,value,writable:!0}):object[key]=value}var baseAssignValue_default,init_baseAssignValue=__esm({"node_modules/lodash-es/_baseAssignValue.js"(){init_defineProperty();baseAssignValue_default=baseAssignValue}});function eq(value,other){return value===other||value!==value&&other!==other}var eq_default,init_eq=__esm({"node_modules/lodash-es/eq.js"(){eq_default=eq}});function assignValue(object,key,value){var objValue=object[key];(!(hasOwnProperty3.call(object,key)&&eq_default(objValue,value))||value===void 0&&!(key in object))&&baseAssignValue_default(object,key,value)}var objectProto4,hasOwnProperty3,assignValue_default,init_assignValue=__esm({"node_modules/lodash-es/_assignValue.js"(){init_baseAssignValue();init_eq();objectProto4=Object.prototype,hasOwnProperty3=objectProto4.hasOwnProperty;assignValue_default=assignValue}});function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length3=props.length;++index<length3;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;newValue===void 0&&(newValue=source[key]),isNew?baseAssignValue_default(object,key,newValue):assignValue_default(object,key,newValue)}return object}var copyObject_default,init_copyObject=__esm({"node_modules/lodash-es/_copyObject.js"(){init_assignValue();init_baseAssignValue();copyObject_default=copyObject}});function overRest(func,start,transform){return start=nativeMax(start===void 0?func.length-1:start,0),function(){for(var args2=arguments,index=-1,length3=nativeMax(args2.length-start,0),array=Array(length3);++index<length3;)array[index]=args2[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args2[index];return otherArgs[start]=transform(array),apply_default(func,this,otherArgs)}}var nativeMax,overRest_default,init_overRest=__esm({"node_modules/lodash-es/_overRest.js"(){init_apply();nativeMax=Math.max;overRest_default=overRest}});function baseRest(func,start){return setToString_default(overRest_default(func,start,identity_default),func+"")}var baseRest_default,init_baseRest=__esm({"node_modules/lodash-es/_baseRest.js"(){init_identity();init_overRest();init_setToString();baseRest_default=baseRest}});function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER3}var MAX_SAFE_INTEGER3,isLength_default,init_isLength=__esm({"node_modules/lodash-es/isLength.js"(){MAX_SAFE_INTEGER3=9007199254740991;isLength_default=isLength}});function isArrayLike(value){return value!=null&&isLength_default(value.length)&&!isFunction_default(value)}var isArrayLike_default,init_isArrayLike=__esm({"node_modules/lodash-es/isArrayLike.js"(){init_isFunction();init_isLength();isArrayLike_default=isArrayLike}});function isIterateeCall(value,index,object){if(!isObject_default(object))return!1;var type=typeof index;return(type=="number"?isArrayLike_default(object)&&isIndex_default(index,object.length):type=="string"&&index in object)?eq_default(object[index],value):!1}var isIterateeCall_default,init_isIterateeCall=__esm({"node_modules/lodash-es/_isIterateeCall.js"(){init_eq();init_isArrayLike();init_isIndex();init_isObject();isIterateeCall_default=isIterateeCall}});function createAssigner(assigner){return baseRest_default(function(object,sources){var index=-1,length3=sources.length,customizer=length3>1?sources[length3-1]:void 0,guard=length3>2?sources[2]:void 0;for(customizer=assigner.length>3&&typeof customizer=="function"?(length3--,customizer):void 0,guard&&isIterateeCall_default(sources[0],sources[1],guard)&&(customizer=length3<3?void 0:customizer,length3=1),object=Object(object);++index<length3;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}var createAssigner_default,init_createAssigner=__esm({"node_modules/lodash-es/_createAssigner.js"(){init_baseRest();init_isIterateeCall();createAssigner_default=createAssigner}});function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto5;return value===proto}var objectProto5,isPrototype_default,init_isPrototype=__esm({"node_modules/lodash-es/_isPrototype.js"(){objectProto5=Object.prototype;isPrototype_default=isPrototype}});function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}var baseTimes_default,init_baseTimes=__esm({"node_modules/lodash-es/_baseTimes.js"(){baseTimes_default=baseTimes}});function baseIsArguments(value){return isObjectLike_default(value)&&baseGetTag_default(value)==argsTag}var argsTag,baseIsArguments_default,init_baseIsArguments=__esm({"node_modules/lodash-es/_baseIsArguments.js"(){init_baseGetTag();init_isObjectLike();argsTag="[object Arguments]";baseIsArguments_default=baseIsArguments}});var objectProto6,hasOwnProperty4,propertyIsEnumerable,isArguments,isArguments_default,init_isArguments=__esm({"node_modules/lodash-es/isArguments.js"(){init_baseIsArguments();init_isObjectLike();objectProto6=Object.prototype,hasOwnProperty4=objectProto6.hasOwnProperty,propertyIsEnumerable=objectProto6.propertyIsEnumerable,isArguments=baseIsArguments_default(function(){return arguments}())?baseIsArguments_default:function(value){return isObjectLike_default(value)&&hasOwnProperty4.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArguments_default=isArguments}});function stubFalse(){return!1}var stubFalse_default,init_stubFalse=__esm({"node_modules/lodash-es/stubFalse.js"(){stubFalse_default=stubFalse}});var freeExports,freeModule,moduleExports,Buffer2,nativeIsBuffer,isBuffer,isBuffer_default,init_isBuffer=__esm({"node_modules/lodash-es/isBuffer.js"(){init_root();init_stubFalse();freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer2=moduleExports?root_default.Buffer:void 0,nativeIsBuffer=Buffer2?Buffer2.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse_default,isBuffer_default=isBuffer}});function baseIsTypedArray(value){return isObjectLike_default(value)&&isLength_default(value.length)&&!!typedArrayTags[baseGetTag_default(value)]}var argsTag2,arrayTag,boolTag,dateTag,errorTag,funcTag2,mapTag,numberTag,objectTag,regexpTag,setTag,stringTag,weakMapTag,arrayBufferTag,dataViewTag,float32Tag,float64Tag,int8Tag,int16Tag,int32Tag,uint8Tag,uint8ClampedTag,uint16Tag,uint32Tag,typedArrayTags,baseIsTypedArray_default,init_baseIsTypedArray=__esm({"node_modules/lodash-es/_baseIsTypedArray.js"(){init_baseGetTag();init_isLength();init_isObjectLike();argsTag2="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag2="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag2]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag2]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;baseIsTypedArray_default=baseIsTypedArray}});function baseUnary(func){return function(value){return func(value)}}var baseUnary_default,init_baseUnary=__esm({"node_modules/lodash-es/_baseUnary.js"(){baseUnary_default=baseUnary}});var freeExports2,freeModule2,moduleExports2,freeProcess,nodeUtil,nodeUtil_default,init_nodeUtil=__esm({"node_modules/lodash-es/_nodeUtil.js"(){init_freeGlobal();freeExports2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule2=freeExports2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports2=freeModule2&&freeModule2.exports===freeExports2,freeProcess=moduleExports2&&freeGlobal_default.process,nodeUtil=function(){try{var types=freeModule2&&freeModule2.require&&freeModule2.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeUtil_default=nodeUtil}});var nodeIsTypedArray,isTypedArray,isTypedArray_default,init_isTypedArray=__esm({"node_modules/lodash-es/isTypedArray.js"(){init_baseIsTypedArray();init_baseUnary();init_nodeUtil();nodeIsTypedArray=nodeUtil_default&&nodeUtil_default.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary_default(nodeIsTypedArray):baseIsTypedArray_default,isTypedArray_default=isTypedArray}});function arrayLikeKeys(value,inherited){var isArr=isArray_default(value),isArg=!isArr&&isArguments_default(value),isBuff=!isArr&&!isArg&&isBuffer_default(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray_default(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes_default(value.length,String):[],length3=result.length;for(var key in value)(inherited||hasOwnProperty5.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex_default(key,length3)))&&result.push(key);return result}var objectProto7,hasOwnProperty5,arrayLikeKeys_default,init_arrayLikeKeys=__esm({"node_modules/lodash-es/_arrayLikeKeys.js"(){init_baseTimes();init_isArguments();init_isArray();init_isBuffer();init_isIndex();init_isTypedArray();objectProto7=Object.prototype,hasOwnProperty5=objectProto7.hasOwnProperty;arrayLikeKeys_default=arrayLikeKeys}});function overArg(func,transform){return function(arg){return func(transform(arg))}}var overArg_default,init_overArg=__esm({"node_modules/lodash-es/_overArg.js"(){overArg_default=overArg}});var nativeKeys,nativeKeys_default,init_nativeKeys=__esm({"node_modules/lodash-es/_nativeKeys.js"(){init_overArg();nativeKeys=overArg_default(Object.keys,Object),nativeKeys_default=nativeKeys}});function baseKeys(object){if(!isPrototype_default(object))return nativeKeys_default(object);var result=[];for(var key in Object(object))hasOwnProperty6.call(object,key)&&key!="constructor"&&result.push(key);return result}var objectProto8,hasOwnProperty6,baseKeys_default,init_baseKeys=__esm({"node_modules/lodash-es/_baseKeys.js"(){init_isPrototype();init_nativeKeys();objectProto8=Object.prototype,hasOwnProperty6=objectProto8.hasOwnProperty;baseKeys_default=baseKeys}});function keys2(object){return isArrayLike_default(object)?arrayLikeKeys_default(object):baseKeys_default(object)}var keys_default,init_keys=__esm({"node_modules/lodash-es/keys.js"(){init_arrayLikeKeys();init_baseKeys();init_isArrayLike();keys_default=keys2}});function nativeKeysIn(object){var result=[];if(object!=null)for(var key in Object(object))result.push(key);return result}var nativeKeysIn_default,init_nativeKeysIn=__esm({"node_modules/lodash-es/_nativeKeysIn.js"(){nativeKeysIn_default=nativeKeysIn}});function baseKeysIn(object){if(!isObject_default(object))return nativeKeysIn_default(object);var isProto=isPrototype_default(object),result=[];for(var key in object)key=="constructor"&&(isProto||!hasOwnProperty7.call(object,key))||result.push(key);return result}var objectProto9,hasOwnProperty7,baseKeysIn_default,init_baseKeysIn=__esm({"node_modules/lodash-es/_baseKeysIn.js"(){init_isObject();init_isPrototype();init_nativeKeysIn();objectProto9=Object.prototype,hasOwnProperty7=objectProto9.hasOwnProperty;baseKeysIn_default=baseKeysIn}});function keysIn(object){return isArrayLike_default(object)?arrayLikeKeys_default(object,!0):baseKeysIn_default(object)}var keysIn_default,init_keysIn=__esm({"node_modules/lodash-es/keysIn.js"(){init_arrayLikeKeys();init_baseKeysIn();init_isArrayLike();keysIn_default=keysIn}});var nativeCreate,nativeCreate_default,init_nativeCreate=__esm({"node_modules/lodash-es/_nativeCreate.js"(){init_getNative();nativeCreate=getNative_default(Object,"create"),nativeCreate_default=nativeCreate}});function hashClear(){this.__data__=nativeCreate_default?nativeCreate_default(null):{},this.size=0}var hashClear_default,init_hashClear=__esm({"node_modules/lodash-es/_hashClear.js"(){init_nativeCreate();hashClear_default=hashClear}});function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}var hashDelete_default,init_hashDelete=__esm({"node_modules/lodash-es/_hashDelete.js"(){hashDelete_default=hashDelete}});function hashGet(key){var data=this.__data__;if(nativeCreate_default){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty8.call(data,key)?data[key]:void 0}var HASH_UNDEFINED,objectProto10,hasOwnProperty8,hashGet_default,init_hashGet=__esm({"node_modules/lodash-es/_hashGet.js"(){init_nativeCreate();HASH_UNDEFINED="__lodash_hash_undefined__",objectProto10=Object.prototype,hasOwnProperty8=objectProto10.hasOwnProperty;hashGet_default=hashGet}});function hashHas(key){var data=this.__data__;return nativeCreate_default?data[key]!==void 0:hasOwnProperty9.call(data,key)}var objectProto11,hasOwnProperty9,hashHas_default,init_hashHas=__esm({"node_modules/lodash-es/_hashHas.js"(){init_nativeCreate();objectProto11=Object.prototype,hasOwnProperty9=objectProto11.hasOwnProperty;hashHas_default=hashHas}});function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate_default&&value===void 0?HASH_UNDEFINED2:value,this}var HASH_UNDEFINED2,hashSet_default,init_hashSet=__esm({"node_modules/lodash-es/_hashSet.js"(){init_nativeCreate();HASH_UNDEFINED2="__lodash_hash_undefined__";hashSet_default=hashSet}});function Hash(entries){var index=-1,length3=entries==null?0:entries.length;for(this.clear();++index<length3;){var entry=entries[index];this.set(entry[0],entry[1])}}var Hash_default,init_Hash=__esm({"node_modules/lodash-es/_Hash.js"(){init_hashClear();init_hashDelete();init_hashGet();init_hashHas();init_hashSet();Hash.prototype.clear=hashClear_default;Hash.prototype.delete=hashDelete_default;Hash.prototype.get=hashGet_default;Hash.prototype.has=hashHas_default;Hash.prototype.set=hashSet_default;Hash_default=Hash}});function listCacheClear(){this.__data__=[],this.size=0}var listCacheClear_default,init_listCacheClear=__esm({"node_modules/lodash-es/_listCacheClear.js"(){listCacheClear_default=listCacheClear}});function assocIndexOf(array,key){for(var length3=array.length;length3--;)if(eq_default(array[length3][0],key))return length3;return-1}var assocIndexOf_default,init_assocIndexOf=__esm({"node_modules/lodash-es/_assocIndexOf.js"(){init_eq();assocIndexOf_default=assocIndexOf}});function listCacheDelete(key){var data=this.__data__,index=assocIndexOf_default(data,key);if(index<0)return!1;var lastIndex=data.length-1;return index==lastIndex?data.pop():splice.call(data,index,1),--this.size,!0}var arrayProto,splice,listCacheDelete_default,init_listCacheDelete=__esm({"node_modules/lodash-es/_listCacheDelete.js"(){init_assocIndexOf();arrayProto=Array.prototype,splice=arrayProto.splice;listCacheDelete_default=listCacheDelete}});function listCacheGet(key){var data=this.__data__,index=assocIndexOf_default(data,key);return index<0?void 0:data[index][1]}var listCacheGet_default,init_listCacheGet=__esm({"node_modules/lodash-es/_listCacheGet.js"(){init_assocIndexOf();listCacheGet_default=listCacheGet}});function listCacheHas(key){return assocIndexOf_default(this.__data__,key)>-1}var listCacheHas_default,init_listCacheHas=__esm({"node_modules/lodash-es/_listCacheHas.js"(){init_assocIndexOf();listCacheHas_default=listCacheHas}});function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf_default(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}var listCacheSet_default,init_listCacheSet=__esm({"node_modules/lodash-es/_listCacheSet.js"(){init_assocIndexOf();listCacheSet_default=listCacheSet}});function ListCache(entries){var index=-1,length3=entries==null?0:entries.length;for(this.clear();++index<length3;){var entry=entries[index];this.set(entry[0],entry[1])}}var ListCache_default,init_ListCache=__esm({"node_modules/lodash-es/_ListCache.js"(){init_listCacheClear();init_listCacheDelete();init_listCacheGet();init_listCacheHas();init_listCacheSet();ListCache.prototype.clear=listCacheClear_default;ListCache.prototype.delete=listCacheDelete_default;ListCache.prototype.get=listCacheGet_default;ListCache.prototype.has=listCacheHas_default;ListCache.prototype.set=listCacheSet_default;ListCache_default=ListCache}});var Map2,Map_default,init_Map=__esm({"node_modules/lodash-es/_Map.js"(){init_getNative();init_root();Map2=getNative_default(root_default,"Map"),Map_default=Map2}});function mapCacheClear(){this.size=0,this.__data__={hash:new Hash_default,map:new(Map_default||ListCache_default),string:new Hash_default}}var mapCacheClear_default,init_mapCacheClear=__esm({"node_modules/lodash-es/_mapCacheClear.js"(){init_Hash();init_ListCache();init_Map();mapCacheClear_default=mapCacheClear}});function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}var isKeyable_default,init_isKeyable=__esm({"node_modules/lodash-es/_isKeyable.js"(){isKeyable_default=isKeyable}});function getMapData(map2,key){var data=map2.__data__;return isKeyable_default(key)?data[typeof key=="string"?"string":"hash"]:data.map}var getMapData_default,init_getMapData=__esm({"node_modules/lodash-es/_getMapData.js"(){init_isKeyable();getMapData_default=getMapData}});function mapCacheDelete(key){var result=getMapData_default(this,key).delete(key);return this.size-=result?1:0,result}var mapCacheDelete_default,init_mapCacheDelete=__esm({"node_modules/lodash-es/_mapCacheDelete.js"(){init_getMapData();mapCacheDelete_default=mapCacheDelete}});function mapCacheGet(key){return getMapData_default(this,key).get(key)}var mapCacheGet_default,init_mapCacheGet=__esm({"node_modules/lodash-es/_mapCacheGet.js"(){init_getMapData();mapCacheGet_default=mapCacheGet}});function mapCacheHas(key){return getMapData_default(this,key).has(key)}var mapCacheHas_default,init_mapCacheHas=__esm({"node_modules/lodash-es/_mapCacheHas.js"(){init_getMapData();mapCacheHas_default=mapCacheHas}});function mapCacheSet(key,value){var data=getMapData_default(this,key),size2=data.size;return data.set(key,value),this.size+=data.size==size2?0:1,this}var mapCacheSet_default,init_mapCacheSet=__esm({"node_modules/lodash-es/_mapCacheSet.js"(){init_getMapData();mapCacheSet_default=mapCacheSet}});function MapCache(entries){var index=-1,length3=entries==null?0:entries.length;for(this.clear();++index<length3;){var entry=entries[index];this.set(entry[0],entry[1])}}var MapCache_default,init_MapCache=__esm({"node_modules/lodash-es/_MapCache.js"(){init_mapCacheClear();init_mapCacheDelete();init_mapCacheGet();init_mapCacheHas();init_mapCacheSet();MapCache.prototype.clear=mapCacheClear_default;MapCache.prototype.delete=mapCacheDelete_default;MapCache.prototype.get=mapCacheGet_default;MapCache.prototype.has=mapCacheHas_default;MapCache.prototype.set=mapCacheSet_default;MapCache_default=MapCache}});function arrayPush(array,values){for(var index=-1,length3=values.length,offset=array.length;++index<length3;)array[offset+index]=values[index];return array}var arrayPush_default,init_arrayPush=__esm({"node_modules/lodash-es/_arrayPush.js"(){arrayPush_default=arrayPush}});var getPrototype,getPrototype_default,init_getPrototype=__esm({"node_modules/lodash-es/_getPrototype.js"(){init_overArg();getPrototype=overArg_default(Object.getPrototypeOf,Object),getPrototype_default=getPrototype}});function isPlainObject(value){if(!isObjectLike_default(value)||baseGetTag_default(value)!=objectTag2)return!1;var proto=getPrototype_default(value);if(proto===null)return!0;var Ctor=hasOwnProperty10.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString3.call(Ctor)==objectCtorString}var objectTag2,funcProto3,objectProto12,funcToString3,hasOwnProperty10,objectCtorString,isPlainObject_default,init_isPlainObject=__esm({"node_modules/lodash-es/isPlainObject.js"(){init_baseGetTag();init_getPrototype();init_isObjectLike();objectTag2="[object Object]",funcProto3=Function.prototype,objectProto12=Object.prototype,funcToString3=funcProto3.toString,hasOwnProperty10=objectProto12.hasOwnProperty,objectCtorString=funcToString3.call(Object);isPlainObject_default=isPlainObject}});function stackClear(){this.__data__=new ListCache_default,this.size=0}var stackClear_default,init_stackClear=__esm({"node_modules/lodash-es/_stackClear.js"(){init_ListCache();stackClear_default=stackClear}});function stackDelete(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}var stackDelete_default,init_stackDelete=__esm({"node_modules/lodash-es/_stackDelete.js"(){stackDelete_default=stackDelete}});function stackGet(key){return this.__data__.get(key)}var stackGet_default,init_stackGet=__esm({"node_modules/lodash-es/_stackGet.js"(){stackGet_default=stackGet}});function stackHas(key){return this.__data__.has(key)}var stackHas_default,init_stackHas=__esm({"node_modules/lodash-es/_stackHas.js"(){stackHas_default=stackHas}});function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache_default){var pairs=data.__data__;if(!Map_default||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache_default(pairs)}return data.set(key,value),this.size=data.size,this}var LARGE_ARRAY_SIZE,stackSet_default,init_stackSet=__esm({"node_modules/lodash-es/_stackSet.js"(){init_ListCache();init_Map();init_MapCache();LARGE_ARRAY_SIZE=200;stackSet_default=stackSet}});function Stack(entries){var data=this.__data__=new ListCache_default(entries);this.size=data.size}var Stack_default,init_Stack=__esm({"node_modules/lodash-es/_Stack.js"(){init_ListCache();init_stackClear();init_stackDelete();init_stackGet();init_stackHas();init_stackSet();Stack.prototype.clear=stackClear_default;Stack.prototype.delete=stackDelete_default;Stack.prototype.get=stackGet_default;Stack.prototype.has=stackHas_default;Stack.prototype.set=stackSet_default;Stack_default=Stack}});function baseAssign(object,source){return object&&copyObject_default(source,keys_default(source),object)}var baseAssign_default,init_baseAssign=__esm({"node_modules/lodash-es/_baseAssign.js"(){init_copyObject();init_keys();baseAssign_default=baseAssign}});function baseAssignIn(object,source){return object&&copyObject_default(source,keysIn_default(source),object)}var baseAssignIn_default,init_baseAssignIn=__esm({"node_modules/lodash-es/_baseAssignIn.js"(){init_copyObject();init_keysIn();baseAssignIn_default=baseAssignIn}});function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length3=buffer.length,result=allocUnsafe?allocUnsafe(length3):new buffer.constructor(length3);return buffer.copy(result),result}var freeExports3,freeModule3,moduleExports3,Buffer3,allocUnsafe,cloneBuffer_default,init_cloneBuffer=__esm({"node_modules/lodash-es/_cloneBuffer.js"(){init_root();freeExports3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule3=freeExports3&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports3=freeModule3&&freeModule3.exports===freeExports3,Buffer3=moduleExports3?root_default.Buffer:void 0,allocUnsafe=Buffer3?Buffer3.allocUnsafe:void 0;cloneBuffer_default=cloneBuffer}});function arrayFilter(array,predicate){for(var index=-1,length3=array==null?0:array.length,resIndex=0,result=[];++index<length3;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}var arrayFilter_default,init_arrayFilter=__esm({"node_modules/lodash-es/_arrayFilter.js"(){arrayFilter_default=arrayFilter}});function stubArray(){return[]}var stubArray_default,init_stubArray=__esm({"node_modules/lodash-es/stubArray.js"(){stubArray_default=stubArray}});var objectProto13,propertyIsEnumerable2,nativeGetSymbols,getSymbols,getSymbols_default,init_getSymbols=__esm({"node_modules/lodash-es/_getSymbols.js"(){init_arrayFilter();init_stubArray();objectProto13=Object.prototype,propertyIsEnumerable2=objectProto13.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return object==null?[]:(object=Object(object),arrayFilter_default(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable2.call(object,symbol)}))}:stubArray_default,getSymbols_default=getSymbols}});function copySymbols(source,object){return copyObject_default(source,getSymbols_default(source),object)}var copySymbols_default,init_copySymbols=__esm({"node_modules/lodash-es/_copySymbols.js"(){init_copyObject();init_getSymbols();copySymbols_default=copySymbols}});var nativeGetSymbols2,getSymbolsIn,getSymbolsIn_default,init_getSymbolsIn=__esm({"node_modules/lodash-es/_getSymbolsIn.js"(){init_arrayPush();init_getPrototype();init_getSymbols();init_stubArray();nativeGetSymbols2=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols2?function(object){for(var result=[];object;)arrayPush_default(result,getSymbols_default(object)),object=getPrototype_default(object);return result}:stubArray_default,getSymbolsIn_default=getSymbolsIn}});function copySymbolsIn(source,object){return copyObject_default(source,getSymbolsIn_default(source),object)}var copySymbolsIn_default,init_copySymbolsIn=__esm({"node_modules/lodash-es/_copySymbolsIn.js"(){init_copyObject();init_getSymbolsIn();copySymbolsIn_default=copySymbolsIn}});function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray_default(object)?result:arrayPush_default(result,symbolsFunc(object))}var baseGetAllKeys_default,init_baseGetAllKeys=__esm({"node_modules/lodash-es/_baseGetAllKeys.js"(){init_arrayPush();init_isArray();baseGetAllKeys_default=baseGetAllKeys}});function getAllKeys(object){return baseGetAllKeys_default(object,keys_default,getSymbols_default)}var getAllKeys_default,init_getAllKeys=__esm({"node_modules/lodash-es/_getAllKeys.js"(){init_baseGetAllKeys();init_getSymbols();init_keys();getAllKeys_default=getAllKeys}});function getAllKeysIn(object){return baseGetAllKeys_default(object,keysIn_default,getSymbolsIn_default)}var getAllKeysIn_default,init_getAllKeysIn=__esm({"node_modules/lodash-es/_getAllKeysIn.js"(){init_baseGetAllKeys();init_getSymbolsIn();init_keysIn();getAllKeysIn_default=getAllKeysIn}});var DataView2,DataView_default,init_DataView=__esm({"node_modules/lodash-es/_DataView.js"(){init_getNative();init_root();DataView2=getNative_default(root_default,"DataView"),DataView_default=DataView2}});var Promise2,Promise_default,init_Promise=__esm({"node_modules/lodash-es/_Promise.js"(){init_getNative();init_root();Promise2=getNative_default(root_default,"Promise"),Promise_default=Promise2}});var Set2,Set_default,init_Set=__esm({"node_modules/lodash-es/_Set.js"(){init_getNative();init_root();Set2=getNative_default(root_default,"Set"),Set_default=Set2}});var mapTag2,objectTag3,promiseTag,setTag2,weakMapTag2,dataViewTag2,dataViewCtorString,mapCtorString,promiseCtorString,setCtorString,weakMapCtorString,getTag,getTag_default,init_getTag=__esm({"node_modules/lodash-es/_getTag.js"(){init_DataView();init_Map();init_Promise();init_Set();init_WeakMap();init_baseGetTag();init_toSource();mapTag2="[object Map]",objectTag3="[object Object]",promiseTag="[object Promise]",setTag2="[object Set]",weakMapTag2="[object WeakMap]",dataViewTag2="[object DataView]",dataViewCtorString=toSource_default(DataView_default),mapCtorString=toSource_default(Map_default),promiseCtorString=toSource_default(Promise_default),setCtorString=toSource_default(Set_default),weakMapCtorString=toSource_default(WeakMap_default),getTag=baseGetTag_default;(DataView_default&&getTag(new DataView_default(new ArrayBuffer(1)))!=dataViewTag2||Map_default&&getTag(new Map_default)!=mapTag2||Promise_default&&getTag(Promise_default.resolve())!=promiseTag||Set_default&&getTag(new Set_default)!=setTag2||WeakMap_default&&getTag(new WeakMap_default)!=weakMapTag2)&&(getTag=function(value){var result=baseGetTag_default(value),Ctor=result==objectTag3?value.constructor:void 0,ctorString=Ctor?toSource_default(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag2;case mapCtorString:return mapTag2;case promiseCtorString:return promiseTag;case setCtorString:return setTag2;case weakMapCtorString:return weakMapTag2}return result});getTag_default=getTag}});function initCloneArray(array){var length3=array.length,result=new array.constructor(length3);return length3&&typeof array[0]=="string"&&hasOwnProperty11.call(array,"index")&&(result.index=array.index,result.input=array.input),result}var objectProto14,hasOwnProperty11,initCloneArray_default,init_initCloneArray=__esm({"node_modules/lodash-es/_initCloneArray.js"(){objectProto14=Object.prototype,hasOwnProperty11=objectProto14.hasOwnProperty;initCloneArray_default=initCloneArray}});var Uint8Array2,Uint8Array_default,init_Uint8Array=__esm({"node_modules/lodash-es/_Uint8Array.js"(){init_root();Uint8Array2=root_default.Uint8Array,Uint8Array_default=Uint8Array2}});function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array_default(result).set(new Uint8Array_default(arrayBuffer)),result}var cloneArrayBuffer_default,init_cloneArrayBuffer=__esm({"node_modules/lodash-es/_cloneArrayBuffer.js"(){init_Uint8Array();cloneArrayBuffer_default=cloneArrayBuffer}});function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer_default(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}var cloneDataView_default,init_cloneDataView=__esm({"node_modules/lodash-es/_cloneDataView.js"(){init_cloneArrayBuffer();cloneDataView_default=cloneDataView}});function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}var reFlags,cloneRegExp_default,init_cloneRegExp=__esm({"node_modules/lodash-es/_cloneRegExp.js"(){reFlags=/\w*$/;cloneRegExp_default=cloneRegExp}});function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}var symbolProto,symbolValueOf,cloneSymbol_default,init_cloneSymbol=__esm({"node_modules/lodash-es/_cloneSymbol.js"(){init_Symbol();symbolProto=Symbol_default?Symbol_default.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;cloneSymbol_default=cloneSymbol}});function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer_default(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}var cloneTypedArray_default,init_cloneTypedArray=__esm({"node_modules/lodash-es/_cloneTypedArray.js"(){init_cloneArrayBuffer();cloneTypedArray_default=cloneTypedArray}});function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag2:return cloneArrayBuffer_default(object);case boolTag2:case dateTag2:return new Ctor(+object);case dataViewTag3:return cloneDataView_default(object,isDeep);case float32Tag2:case float64Tag2:case int8Tag2:case int16Tag2:case int32Tag2:case uint8Tag2:case uint8ClampedTag2:case uint16Tag2:case uint32Tag2:return cloneTypedArray_default(object,isDeep);case mapTag3:return new Ctor;case numberTag2:case stringTag2:return new Ctor(object);case regexpTag2:return cloneRegExp_default(object);case setTag3:return new Ctor;case symbolTag:return cloneSymbol_default(object)}}var boolTag2,dateTag2,mapTag3,numberTag2,regexpTag2,setTag3,stringTag2,symbolTag,arrayBufferTag2,dataViewTag3,float32Tag2,float64Tag2,int8Tag2,int16Tag2,int32Tag2,uint8Tag2,uint8ClampedTag2,uint16Tag2,uint32Tag2,initCloneByTag_default,init_initCloneByTag=__esm({"node_modules/lodash-es/_initCloneByTag.js"(){init_cloneArrayBuffer();init_cloneDataView();init_cloneRegExp();init_cloneSymbol();init_cloneTypedArray();boolTag2="[object Boolean]",dateTag2="[object Date]",mapTag3="[object Map]",numberTag2="[object Number]",regexpTag2="[object RegExp]",setTag3="[object Set]",stringTag2="[object String]",symbolTag="[object Symbol]",arrayBufferTag2="[object ArrayBuffer]",dataViewTag3="[object DataView]",float32Tag2="[object Float32Array]",float64Tag2="[object Float64Array]",int8Tag2="[object Int8Array]",int16Tag2="[object Int16Array]",int32Tag2="[object Int32Array]",uint8Tag2="[object Uint8Array]",uint8ClampedTag2="[object Uint8ClampedArray]",uint16Tag2="[object Uint16Array]",uint32Tag2="[object Uint32Array]";initCloneByTag_default=initCloneByTag}});function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype_default(object)?baseCreate_default(getPrototype_default(object)):{}}var initCloneObject_default,init_initCloneObject=__esm({"node_modules/lodash-es/_initCloneObject.js"(){init_baseCreate();init_getPrototype();init_isPrototype();initCloneObject_default=initCloneObject}});function baseIsMap(value){return isObjectLike_default(value)&&getTag_default(value)==mapTag4}var mapTag4,baseIsMap_default,init_baseIsMap=__esm({"node_modules/lodash-es/_baseIsMap.js"(){init_getTag();init_isObjectLike();mapTag4="[object Map]";baseIsMap_default=baseIsMap}});var nodeIsMap,isMap,isMap_default,init_isMap=__esm({"node_modules/lodash-es/isMap.js"(){init_baseIsMap();init_baseUnary();init_nodeUtil();nodeIsMap=nodeUtil_default&&nodeUtil_default.isMap,isMap=nodeIsMap?baseUnary_default(nodeIsMap):baseIsMap_default,isMap_default=isMap}});function baseIsSet(value){return isObjectLike_default(value)&&getTag_default(value)==setTag4}var setTag4,baseIsSet_default,init_baseIsSet=__esm({"node_modules/lodash-es/_baseIsSet.js"(){init_getTag();init_isObjectLike();setTag4="[object Set]";baseIsSet_default=baseIsSet}});var nodeIsSet,isSet,isSet_default,init_isSet=__esm({"node_modules/lodash-es/isSet.js"(){init_baseIsSet();init_baseUnary();init_nodeUtil();nodeIsSet=nodeUtil_default&&nodeUtil_default.isSet,isSet=nodeIsSet?baseUnary_default(nodeIsSet):baseIsSet_default,isSet_default=isSet}});function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),result!==void 0)return result;if(!isObject_default(value))return value;var isArr=isArray_default(value);if(isArr){if(result=initCloneArray_default(value),!isDeep)return copyArray_default(value,result)}else{var tag=getTag_default(value),isFunc=tag==funcTag3||tag==genTag2;if(isBuffer_default(value))return cloneBuffer_default(value,isDeep);if(tag==objectTag4||tag==argsTag3||isFunc&&!object){if(result=isFlat||isFunc?{}:initCloneObject_default(value),!isDeep)return isFlat?copySymbolsIn_default(value,baseAssignIn_default(result,value)):copySymbols_default(value,baseAssign_default(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag_default(value,tag,isDeep)}}stack||(stack=new Stack_default);var stacked=stack.get(value);if(stacked)return stacked;stack.set(value,result),isSet_default(value)?value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))}):isMap_default(value)&&value.forEach(function(subValue,key2){result.set(key2,baseClone(subValue,bitmask,customizer,key2,value,stack))});var keysFunc=isFull?isFlat?getAllKeysIn_default:getAllKeys_default:isFlat?keysIn_default:keys_default,props=isArr?void 0:keysFunc(value);return arrayEach_default(props||value,function(subValue,key2){props&&(key2=subValue,subValue=value[key2]),assignValue_default(result,key2,baseClone(subValue,bitmask,customizer,key2,value,stack))}),result}var CLONE_DEEP_FLAG,CLONE_FLAT_FLAG,CLONE_SYMBOLS_FLAG,argsTag3,arrayTag2,boolTag3,dateTag3,errorTag2,funcTag3,genTag2,mapTag5,numberTag3,objectTag4,regexpTag3,setTag5,stringTag3,symbolTag2,weakMapTag3,arrayBufferTag3,dataViewTag4,float32Tag3,float64Tag3,int8Tag3,int16Tag3,int32Tag3,uint8Tag3,uint8ClampedTag3,uint16Tag3,uint32Tag3,cloneableTags,baseClone_default,init_baseClone=__esm({"node_modules/lodash-es/_baseClone.js"(){init_Stack();init_arrayEach();init_assignValue();init_baseAssign();init_baseAssignIn();init_cloneBuffer();init_copyArray();init_copySymbols();init_copySymbolsIn();init_getAllKeys();init_getAllKeysIn();init_getTag();init_initCloneArray();init_initCloneByTag();init_initCloneObject();init_isArray();init_isBuffer();init_isMap();init_isObject();init_isSet();init_keys();init_keysIn();CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,argsTag3="[object Arguments]",arrayTag2="[object Array]",boolTag3="[object Boolean]",dateTag3="[object Date]",errorTag2="[object Error]",funcTag3="[object Function]",genTag2="[object GeneratorFunction]",mapTag5="[object Map]",numberTag3="[object Number]",objectTag4="[object Object]",regexpTag3="[object RegExp]",setTag5="[object Set]",stringTag3="[object String]",symbolTag2="[object Symbol]",weakMapTag3="[object WeakMap]",arrayBufferTag3="[object ArrayBuffer]",dataViewTag4="[object DataView]",float32Tag3="[object Float32Array]",float64Tag3="[object Float64Array]",int8Tag3="[object Int8Array]",int16Tag3="[object Int16Array]",int32Tag3="[object Int32Array]",uint8Tag3="[object Uint8Array]",uint8ClampedTag3="[object Uint8ClampedArray]",uint16Tag3="[object Uint16Array]",uint32Tag3="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag3]=cloneableTags[arrayTag2]=cloneableTags[arrayBufferTag3]=cloneableTags[dataViewTag4]=cloneableTags[boolTag3]=cloneableTags[dateTag3]=cloneableTags[float32Tag3]=cloneableTags[float64Tag3]=cloneableTags[int8Tag3]=cloneableTags[int16Tag3]=cloneableTags[int32Tag3]=cloneableTags[mapTag5]=cloneableTags[numberTag3]=cloneableTags[objectTag4]=cloneableTags[regexpTag3]=cloneableTags[setTag5]=cloneableTags[stringTag3]=cloneableTags[symbolTag2]=cloneableTags[uint8Tag3]=cloneableTags[uint8ClampedTag3]=cloneableTags[uint16Tag3]=cloneableTags[uint32Tag3]=!0;cloneableTags[errorTag2]=cloneableTags[funcTag3]=cloneableTags[weakMapTag3]=!1;baseClone_default=baseClone}});function cloneDeep(value){return baseClone_default(value,CLONE_DEEP_FLAG2|CLONE_SYMBOLS_FLAG2)}var CLONE_DEEP_FLAG2,CLONE_SYMBOLS_FLAG2,cloneDeep_default,init_cloneDeep=__esm({"node_modules/lodash-es/cloneDeep.js"(){init_baseClone();CLONE_DEEP_FLAG2=1,CLONE_SYMBOLS_FLAG2=4;cloneDeep_default=cloneDeep}});function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED3),this}var HASH_UNDEFINED3,setCacheAdd_default,init_setCacheAdd=__esm({"node_modules/lodash-es/_setCacheAdd.js"(){HASH_UNDEFINED3="__lodash_hash_undefined__";setCacheAdd_default=setCacheAdd}});function setCacheHas(value){return this.__data__.has(value)}var setCacheHas_default,init_setCacheHas=__esm({"node_modules/lodash-es/_setCacheHas.js"(){setCacheHas_default=setCacheHas}});function SetCache(values){var index=-1,length3=values==null?0:values.length;for(this.__data__=new MapCache_default;++index<length3;)this.add(values[index])}var SetCache_default,init_SetCache=__esm({"node_modules/lodash-es/_SetCache.js"(){init_MapCache();init_setCacheAdd();init_setCacheHas();SetCache.prototype.add=SetCache.prototype.push=setCacheAdd_default;SetCache.prototype.has=setCacheHas_default;SetCache_default=SetCache}});function arraySome(array,predicate){for(var index=-1,length3=array==null?0:array.length;++index<length3;)if(predicate(array[index],index,array))return!0;return!1}var arraySome_default,init_arraySome=__esm({"node_modules/lodash-es/_arraySome.js"(){arraySome_default=arraySome}});function cacheHas(cache,key){return cache.has(key)}var cacheHas_default,init_cacheHas=__esm({"node_modules/lodash-es/_cacheHas.js"(){cacheHas_default=cacheHas}});function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var arrStacked=stack.get(array),othStacked=stack.get(other);if(arrStacked&&othStacked)return arrStacked==other&&othStacked==array;var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache_default:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(compared!==void 0){if(compared)continue;result=!1;break}if(seen){if(!arraySome_default(other,function(othValue2,othIndex){if(!cacheHas_default(seen,othIndex)&&(arrValue===othValue2||equalFunc(arrValue,othValue2,bitmask,customizer,stack)))return seen.push(othIndex)})){result=!1;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=!1;break}}return stack.delete(array),stack.delete(other),result}var COMPARE_PARTIAL_FLAG,COMPARE_UNORDERED_FLAG,equalArrays_default,init_equalArrays=__esm({"node_modules/lodash-es/_equalArrays.js"(){init_SetCache();init_arraySome();init_cacheHas();COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;equalArrays_default=equalArrays}});function mapToArray(map2){var index=-1,result=Array(map2.size);return map2.forEach(function(value,key){result[++index]=[key,value]}),result}var mapToArray_default,init_mapToArray=__esm({"node_modules/lodash-es/_mapToArray.js"(){mapToArray_default=mapToArray}});function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}var setToArray_default,init_setToArray=__esm({"node_modules/lodash-es/_setToArray.js"(){setToArray_default=setToArray}});function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag5:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag4:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array_default(object),new Uint8Array_default(other)));case boolTag4:case dateTag4:case numberTag4:return eq_default(+object,+other);case errorTag3:return object.name==other.name&&object.message==other.message;case regexpTag4:case stringTag4:return object==other+"";case mapTag6:var convert=mapToArray_default;case setTag6:var isPartial=bitmask&COMPARE_PARTIAL_FLAG2;if(convert||(convert=setToArray_default),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG2,stack.set(object,other);var result=equalArrays_default(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag3:if(symbolValueOf2)return symbolValueOf2.call(object)==symbolValueOf2.call(other)}return!1}var COMPARE_PARTIAL_FLAG2,COMPARE_UNORDERED_FLAG2,boolTag4,dateTag4,errorTag3,mapTag6,numberTag4,regexpTag4,setTag6,stringTag4,symbolTag3,arrayBufferTag4,dataViewTag5,symbolProto2,symbolValueOf2,equalByTag_default,init_equalByTag=__esm({"node_modules/lodash-es/_equalByTag.js"(){init_Symbol();init_Uint8Array();init_eq();init_equalArrays();init_mapToArray();init_setToArray();COMPARE_PARTIAL_FLAG2=1,COMPARE_UNORDERED_FLAG2=2,boolTag4="[object Boolean]",dateTag4="[object Date]",errorTag3="[object Error]",mapTag6="[object Map]",numberTag4="[object Number]",regexpTag4="[object RegExp]",setTag6="[object Set]",stringTag4="[object String]",symbolTag3="[object Symbol]",arrayBufferTag4="[object ArrayBuffer]",dataViewTag5="[object DataView]",symbolProto2=Symbol_default?Symbol_default.prototype:void 0,symbolValueOf2=symbolProto2?symbolProto2.valueOf:void 0;equalByTag_default=equalByTag}});function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG3,objProps=getAllKeys_default(object),objLength=objProps.length,othProps=getAllKeys_default(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty12.call(other,key)))return!1}var objStacked=stack.get(object),othStacked=stack.get(other);if(objStacked&&othStacked)return objStacked==other&&othStacked==object;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(compared===void 0?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)&&(result=!1)}return stack.delete(object),stack.delete(other),result}var COMPARE_PARTIAL_FLAG3,objectProto15,hasOwnProperty12,equalObjects_default,init_equalObjects=__esm({"node_modules/lodash-es/_equalObjects.js"(){init_getAllKeys();COMPARE_PARTIAL_FLAG3=1,objectProto15=Object.prototype,hasOwnProperty12=objectProto15.hasOwnProperty;equalObjects_default=equalObjects}});function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray_default(object),othIsArr=isArray_default(other),objTag=objIsArr?arrayTag3:getTag_default(object),othTag=othIsArr?arrayTag3:getTag_default(other);objTag=objTag==argsTag4?objectTag5:objTag,othTag=othTag==argsTag4?objectTag5:othTag;var objIsObj=objTag==objectTag5,othIsObj=othTag==objectTag5,isSameTag=objTag==othTag;if(isSameTag&&isBuffer_default(object)){if(!isBuffer_default(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack_default),objIsArr||isTypedArray_default(object)?equalArrays_default(object,other,bitmask,customizer,equalFunc,stack):equalByTag_default(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG4)){var objIsWrapped=objIsObj&&hasOwnProperty13.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty13.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack_default),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return isSameTag?(stack||(stack=new Stack_default),equalObjects_default(object,other,bitmask,customizer,equalFunc,stack)):!1}var COMPARE_PARTIAL_FLAG4,argsTag4,arrayTag3,objectTag5,objectProto16,hasOwnProperty13,baseIsEqualDeep_default,init_baseIsEqualDeep=__esm({"node_modules/lodash-es/_baseIsEqualDeep.js"(){init_Stack();init_equalArrays();init_equalByTag();init_equalObjects();init_getTag();init_isArray();init_isBuffer();init_isTypedArray();COMPARE_PARTIAL_FLAG4=1,argsTag4="[object Arguments]",arrayTag3="[object Array]",objectTag5="[object Object]",objectProto16=Object.prototype,hasOwnProperty13=objectProto16.hasOwnProperty;baseIsEqualDeep_default=baseIsEqualDeep}});function baseIsEqual(value,other,bitmask,customizer,stack){return value===other?!0:value==null||other==null||!isObjectLike_default(value)&&!isObjectLike_default(other)?value!==value&&other!==other:baseIsEqualDeep_default(value,other,bitmask,customizer,baseIsEqual,stack)}var baseIsEqual_default,init_baseIsEqual=__esm({"node_modules/lodash-es/_baseIsEqual.js"(){init_baseIsEqualDeep();init_isObjectLike();baseIsEqual_default=baseIsEqual}});function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length3=props.length;length3--;){var key=props[fromRight?length3:++index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}var createBaseFor_default,init_createBaseFor=__esm({"node_modules/lodash-es/_createBaseFor.js"(){createBaseFor_default=createBaseFor}});var baseFor,baseFor_default,init_baseFor=__esm({"node_modules/lodash-es/_baseFor.js"(){init_createBaseFor();baseFor=createBaseFor_default(),baseFor_default=baseFor}});function assignMergeValue(object,key,value){(value!==void 0&&!eq_default(object[key],value)||value===void 0&&!(key in object))&&baseAssignValue_default(object,key,value)}var assignMergeValue_default,init_assignMergeValue=__esm({"node_modules/lodash-es/_assignMergeValue.js"(){init_baseAssignValue();init_eq();assignMergeValue_default=assignMergeValue}});function isArrayLikeObject(value){return isObjectLike_default(value)&&isArrayLike_default(value)}var isArrayLikeObject_default,init_isArrayLikeObject=__esm({"node_modules/lodash-es/isArrayLikeObject.js"(){init_isArrayLike();init_isObjectLike();isArrayLikeObject_default=isArrayLikeObject}});function safeGet(object,key){if(!(key==="constructor"&&typeof object[key]=="function")&&key!="__proto__")return object[key]}var safeGet_default,init_safeGet=__esm({"node_modules/lodash-es/_safeGet.js"(){safeGet_default=safeGet}});function toPlainObject(value){return copyObject_default(value,keysIn_default(value))}var toPlainObject_default,init_toPlainObject=__esm({"node_modules/lodash-es/toPlainObject.js"(){init_copyObject();init_keysIn();toPlainObject_default=toPlainObject}});function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet_default(object,key),srcValue=safeGet_default(source,key),stacked=stack.get(srcValue);if(stacked){assignMergeValue_default(object,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):void 0,isCommon=newValue===void 0;if(isCommon){var isArr=isArray_default(srcValue),isBuff=!isArr&&isBuffer_default(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray_default(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray_default(objValue)?newValue=objValue:isArrayLikeObject_default(objValue)?newValue=copyArray_default(objValue):isBuff?(isCommon=!1,newValue=cloneBuffer_default(srcValue,!0)):isTyped?(isCommon=!1,newValue=cloneTypedArray_default(srcValue,!0)):newValue=[]:isPlainObject_default(srcValue)||isArguments_default(srcValue)?(newValue=objValue,isArguments_default(objValue)?newValue=toPlainObject_default(objValue):(!isObject_default(objValue)||isFunction_default(objValue))&&(newValue=initCloneObject_default(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue)),assignMergeValue_default(object,key,newValue)}var baseMergeDeep_default,init_baseMergeDeep=__esm({"node_modules/lodash-es/_baseMergeDeep.js"(){init_assignMergeValue();init_cloneBuffer();init_cloneTypedArray();init_copyArray();init_initCloneObject();init_isArguments();init_isArray();init_isArrayLikeObject();init_isBuffer();init_isFunction();init_isObject();init_isPlainObject();init_isTypedArray();init_safeGet();init_toPlainObject();baseMergeDeep_default=baseMergeDeep}});function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&baseFor_default(source,function(srcValue,key){if(stack||(stack=new Stack_default),isObject_default(srcValue))baseMergeDeep_default(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(safeGet_default(object,key),srcValue,key+"",object,source,stack):void 0;newValue===void 0&&(newValue=srcValue),assignMergeValue_default(object,key,newValue)}},keysIn_default)}var baseMerge_default,init_baseMerge=__esm({"node_modules/lodash-es/_baseMerge.js"(){init_Stack();init_assignMergeValue();init_baseFor();init_baseMergeDeep();init_isObject();init_keysIn();init_safeGet();baseMerge_default=baseMerge}});function isEqual(value,other){return baseIsEqual_default(value,other)}var isEqual_default,init_isEqual=__esm({"node_modules/lodash-es/isEqual.js"(){init_baseIsEqual();isEqual_default=isEqual}});var merge,merge_default,init_merge=__esm({"node_modules/lodash-es/merge.js"(){init_baseMerge();init_createAssigner();merge=createAssigner_default(function(object,source,srcIndex){baseMerge_default(object,source,srcIndex)}),merge_default=merge}});var init_lodash=__esm({"node_modules/lodash-es/lodash.js"(){init_cloneDeep();init_isEqual();init_merge();}});var parchment_exports={};__export(parchment_exports,{Attributor:()=>Attributor,AttributorStore:()=>AttributorStore$1,BlockBlot:()=>BlockBlot$1,ClassAttributor:()=>ClassAttributor$1,ContainerBlot:()=>ContainerBlot$1,EmbedBlot:()=>EmbedBlot$1,InlineBlot:()=>InlineBlot$1,LeafBlot:()=>LeafBlot$1,ParentBlot:()=>ParentBlot$1,Registry:()=>Registry,Scope:()=>Scope,ScrollBlot:()=>ScrollBlot$1,StyleAttributor:()=>StyleAttributor$1,TextBlot:()=>TextBlot$1});function match(node,prefix){return(node.getAttribute("class")||"").split(/\s+/).filter(name=>name.indexOf(`${prefix}-`)===0)}function camelize(name){let parts=name.split("-"),rest=parts.slice(1).map(part=>part[0].toUpperCase()+part.slice(1)).join("");return parts[0]+rest}function makeAttachedBlot(node,scroll){let found=scroll.find(node);if(found)return found;try{return scroll.create(node)}catch{let blot=scroll.create(Scope.INLINE);return Array.from(node.childNodes).forEach(child=>{blot.domNode.appendChild(child)}),node.parentNode&&node.parentNode.replaceChild(blot.domNode,node),blot.attach(),blot}}function isEqual2(obj1,obj2){if(Object.keys(obj1).length!==Object.keys(obj2).length)return!1;for(let prop in obj1)if(obj1[prop]!==obj2[prop])return!1;return!0}var Scope,Attributor,ParchmentError,_Registry,Registry,ClassAttributor,ClassAttributor$1,StyleAttributor,StyleAttributor$1,AttributorStore,AttributorStore$1,_ShadowBlot,ShadowBlot,_LeafBlot,LeafBlot,LeafBlot$1,LinkedList,_ParentBlot,ParentBlot,ParentBlot$1,_InlineBlot,InlineBlot,InlineBlot$1,_BlockBlot,BlockBlot,BlockBlot$1,_ContainerBlot,ContainerBlot,ContainerBlot$1,EmbedBlot,EmbedBlot$1,OBSERVER_CONFIG,MAX_OPTIMIZE_ITERATIONS,_ScrollBlot,ScrollBlot,ScrollBlot$1,_TextBlot,TextBlot,TextBlot$1,init_parchment=__esm({"node_modules/parchment/dist/parchment.js"(){Scope=(Scope2=>(Scope2[Scope2.TYPE=3]="TYPE",Scope2[Scope2.LEVEL=12]="LEVEL",Scope2[Scope2.ATTRIBUTE=13]="ATTRIBUTE",Scope2[Scope2.BLOT=14]="BLOT",Scope2[Scope2.INLINE=7]="INLINE",Scope2[Scope2.BLOCK=11]="BLOCK",Scope2[Scope2.BLOCK_BLOT=10]="BLOCK_BLOT",Scope2[Scope2.INLINE_BLOT=6]="INLINE_BLOT",Scope2[Scope2.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",Scope2[Scope2.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",Scope2[Scope2.ANY=15]="ANY",Scope2))(Scope||{}),Attributor=class{constructor(attrName,keyName,options={}){this.attrName=attrName,this.keyName=keyName;let attributeBit=Scope.TYPE&Scope.ATTRIBUTE;this.scope=options.scope!=null?options.scope&Scope.LEVEL|attributeBit:Scope.ATTRIBUTE,options.whitelist!=null&&(this.whitelist=options.whitelist)}static keys(node){return Array.from(node.attributes).map(item=>item.name)}add(node,value){return this.canAdd(node,value)?(node.setAttribute(this.keyName,value),!0):!1}canAdd(_node,value){return this.whitelist==null?!0:typeof value=="string"?this.whitelist.indexOf(value.replace(/["']/g,""))>-1:this.whitelist.indexOf(value)>-1}remove(node){node.removeAttribute(this.keyName)}value(node){let value=node.getAttribute(this.keyName);return this.canAdd(node,value)&&value?value:""}},ParchmentError=class extends Error{constructor(message){message="[Parchment] "+message,super(message),this.message=message,this.name=this.constructor.name}},_Registry=class _Registry2{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(node,bubble=!1){if(node==null)return null;if(this.blots.has(node))return this.blots.get(node)||null;if(bubble){let parentNode=null;try{parentNode=node.parentNode}catch{return null}return this.find(parentNode,bubble)}return null}create(scroll,input,value){let match2=this.query(input);if(match2==null)throw new ParchmentError(`Unable to create ${input} blot`);let blotClass=match2,node=input instanceof Node||input.nodeType===Node.TEXT_NODE?input:blotClass.create(value),blot=new blotClass(scroll,node,value);return _Registry2.blots.set(blot.domNode,blot),blot}find(node,bubble=!1){return _Registry2.find(node,bubble)}query(query,scope=Scope.ANY){let match2;return typeof query=="string"?match2=this.types[query]||this.attributes[query]:query instanceof Text||query.nodeType===Node.TEXT_NODE?match2=this.types.text:typeof query=="number"?query&Scope.LEVEL&Scope.BLOCK?match2=this.types.block:query&Scope.LEVEL&Scope.INLINE&&(match2=this.types.inline):query instanceof Element&&((query.getAttribute("class")||"").split(/\s+/).some(name=>(match2=this.classes[name],!!match2)),match2=match2||this.tags[query.tagName]),match2==null?null:"scope"in match2&&scope&Scope.LEVEL&match2.scope&&scope&Scope.TYPE&match2.scope?match2:null}register(...definitions){return definitions.map(definition=>{let isBlot="blotName"in definition,isAttr="attrName"in definition;if(!isBlot&&!isAttr)throw new ParchmentError("Invalid definition");if(isBlot&&definition.blotName==="abstract")throw new ParchmentError("Cannot register abstract class");let key=isBlot?definition.blotName:isAttr?definition.attrName:void 0;return this.types[key]=definition,isAttr?typeof definition.keyName=="string"&&(this.attributes[definition.keyName]=definition):isBlot&&(definition.className&&(this.classes[definition.className]=definition),definition.tagName&&(Array.isArray(definition.tagName)?definition.tagName=definition.tagName.map(tagName=>tagName.toUpperCase()):definition.tagName=definition.tagName.toUpperCase(),(Array.isArray(definition.tagName)?definition.tagName:[definition.tagName]).forEach(tag=>{(this.tags[tag]==null||definition.className==null)&&(this.tags[tag]=definition)}))),definition})}};_Registry.blots=new WeakMap;Registry=_Registry;ClassAttributor=class extends Attributor{static keys(node){return(node.getAttribute("class")||"").split(/\s+/).map(name=>name.split("-").slice(0,-1).join("-"))}add(node,value){return this.canAdd(node,value)?(this.remove(node),node.classList.add(`${this.keyName}-${value}`),!0):!1}remove(node){match(node,this.keyName).forEach(name=>{node.classList.remove(name)}),node.classList.length===0&&node.removeAttribute("class")}value(node){let value=(match(node,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(node,value)?value:""}},ClassAttributor$1=ClassAttributor;StyleAttributor=class extends Attributor{static keys(node){return(node.getAttribute("style")||"").split(";").map(value=>value.split(":")[0].trim())}add(node,value){return this.canAdd(node,value)?(node.style[camelize(this.keyName)]=value,!0):!1}remove(node){node.style[camelize(this.keyName)]="",node.getAttribute("style")||node.removeAttribute("style")}value(node){let value=node.style[camelize(this.keyName)];return this.canAdd(node,value)?value:""}},StyleAttributor$1=StyleAttributor,AttributorStore=class{constructor(domNode){this.attributes={},this.domNode=domNode,this.build()}attribute(attribute,value){value?attribute.add(this.domNode,value)&&(attribute.value(this.domNode)!=null?this.attributes[attribute.attrName]=attribute:delete this.attributes[attribute.attrName]):(attribute.remove(this.domNode),delete this.attributes[attribute.attrName])}build(){this.attributes={};let blot=Registry.find(this.domNode);if(blot==null)return;let attributes=Attributor.keys(this.domNode),classes=ClassAttributor$1.keys(this.domNode),styles=StyleAttributor$1.keys(this.domNode);attributes.concat(classes).concat(styles).forEach(name=>{let attr=blot.scroll.query(name,Scope.ATTRIBUTE);attr instanceof Attributor&&(this.attributes[attr.attrName]=attr)})}copy(target){Object.keys(this.attributes).forEach(key=>{let value=this.attributes[key].value(this.domNode);target.format(key,value)})}move(target){this.copy(target),Object.keys(this.attributes).forEach(key=>{this.attributes[key].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((attributes,name)=>(attributes[name]=this.attributes[name].value(this.domNode),attributes),{})}},AttributorStore$1=AttributorStore,_ShadowBlot=class{constructor(scroll,domNode){this.scroll=scroll,this.domNode=domNode,Registry.blots.set(domNode,this),this.prev=null,this.next=null}static create(rawValue){if(this.tagName==null)throw new ParchmentError("Blot definition missing tagName");let node,value;return Array.isArray(this.tagName)?(typeof rawValue=="string"?(value=rawValue.toUpperCase(),parseInt(value,10).toString()===value&&(value=parseInt(value,10))):typeof rawValue=="number"&&(value=rawValue),typeof value=="number"?node=document.createElement(this.tagName[value-1]):value&&this.tagName.indexOf(value)>-1?node=document.createElement(value):node=document.createElement(this.tagName[0])):node=document.createElement(this.tagName),this.className&&node.classList.add(this.className),node}get statics(){return this.constructor}attach(){}clone(){let domNode=this.domNode.cloneNode(!1);return this.scroll.create(domNode)}detach(){this.parent!=null&&this.parent.removeChild(this),Registry.blots.delete(this.domNode)}deleteAt(index,length3){this.isolate(index,length3).remove()}formatAt(index,length3,name,value){let blot=this.isolate(index,length3);if(this.scroll.query(name,Scope.BLOT)!=null&&value)blot.wrap(name,value);else if(this.scroll.query(name,Scope.ATTRIBUTE)!=null){let parent=this.scroll.create(this.statics.scope);blot.wrap(parent),parent.format(name,value)}}insertAt(index,value,def){let blot=def==null?this.scroll.create("text",value):this.scroll.create(value,def),ref=this.split(index);this.parent.insertBefore(blot,ref||void 0)}isolate(index,length3){let target=this.split(index);if(target==null)throw new Error("Attempt to isolate at end");return target.split(length3),target}length(){return 1}offset(root2=this.parent){return this.parent==null||this===root2?0:this.parent.children.offset(this)+this.parent.offset(root2)}optimize(_context){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(name,value){let replacement=typeof name=="string"?this.scroll.create(name,value):name;return this.parent!=null&&(this.parent.insertBefore(replacement,this.next||void 0),this.remove()),replacement}split(index,_force){return index===0?this:this.next}update(_mutations,_context){}wrap(name,value){let wrapper=typeof name=="string"?this.scroll.create(name,value):name;if(this.parent!=null&&this.parent.insertBefore(wrapper,this.next||void 0),typeof wrapper.appendChild!="function")throw new ParchmentError(`Cannot wrap ${name}`);return wrapper.appendChild(this),wrapper}};_ShadowBlot.blotName="abstract";ShadowBlot=_ShadowBlot,_LeafBlot=class extends ShadowBlot{static value(_domNode){return!0}index(node,offset){return this.domNode===node||this.domNode.compareDocumentPosition(node)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(offset,1):-1}position(index,_inclusive){let offset=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return index>0&&(offset+=1),[this.parent.domNode,offset]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};_LeafBlot.scope=Scope.INLINE_BLOT;LeafBlot=_LeafBlot,LeafBlot$1=LeafBlot,LinkedList=class{constructor(){this.head=null,this.tail=null,this.length=0}append(...nodes){if(this.insertBefore(nodes[0],null),nodes.length>1){let rest=nodes.slice(1);this.append(...rest)}}at(index){let next=this.iterator(),cur=next();for(;cur&&index>0;)index-=1,cur=next();return cur}contains(node){let next=this.iterator(),cur=next();for(;cur;){if(cur===node)return!0;cur=next()}return!1}indexOf(node){let next=this.iterator(),cur=next(),index=0;for(;cur;){if(cur===node)return index;index+=1,cur=next()}return-1}insertBefore(node,refNode){node!=null&&(this.remove(node),node.next=refNode,refNode!=null?(node.prev=refNode.prev,refNode.prev!=null&&(refNode.prev.next=node),refNode.prev=node,refNode===this.head&&(this.head=node)):this.tail!=null?(this.tail.next=node,node.prev=this.tail,this.tail=node):(node.prev=null,this.head=this.tail=node),this.length+=1)}offset(target){let index=0,cur=this.head;for(;cur!=null;){if(cur===target)return index;index+=cur.length(),cur=cur.next}return-1}remove(node){this.contains(node)&&(node.prev!=null&&(node.prev.next=node.next),node.next!=null&&(node.next.prev=node.prev),node===this.head&&(this.head=node.next),node===this.tail&&(this.tail=node.prev),this.length-=1)}iterator(curNode=this.head){return()=>{let ret=curNode;return curNode!=null&&(curNode=curNode.next),ret}}find(index,inclusive=!1){let next=this.iterator(),cur=next();for(;cur;){let length3=cur.length();if(index<length3||inclusive&&index===length3&&(cur.next==null||cur.next.length()!==0))return[cur,index];index-=length3,cur=next()}return[null,0]}forEach(callback){let next=this.iterator(),cur=next();for(;cur;)callback(cur),cur=next()}forEachAt(index,length3,callback){if(length3<=0)return;let[startNode,offset]=this.find(index),curIndex=index-offset,next=this.iterator(startNode),cur=next();for(;cur&&curIndex<index+length3;){let curLength=cur.length();index>curIndex?callback(cur,index-curIndex,Math.min(length3,curIndex+curLength-index)):callback(cur,0,Math.min(curLength,index+length3-curIndex)),curIndex+=curLength,cur=next()}}map(callback){return this.reduce((memo,cur)=>(memo.push(callback(cur)),memo),[])}reduce(callback,memo){let next=this.iterator(),cur=next();for(;cur;)memo=callback(memo,cur),cur=next();return memo}};_ParentBlot=class _ParentBlot2 extends ShadowBlot{constructor(scroll,domNode){super(scroll,domNode),this.uiNode=null,this.build()}appendChild(other){this.insertBefore(other)}attach(){super.attach(),this.children.forEach(child=>{child.attach()})}attachUI(node){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=node,_ParentBlot2.uiClass&&this.uiNode.classList.add(_ParentBlot2.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new LinkedList,Array.from(this.domNode.childNodes).filter(node=>node!==this.uiNode).reverse().forEach(node=>{try{let child=makeAttachedBlot(node,this.scroll);this.insertBefore(child,this.children.head||void 0)}catch(err){if(err instanceof ParchmentError)return;throw err}})}deleteAt(index,length3){if(index===0&&length3===this.length())return this.remove();this.children.forEachAt(index,length3,(child,offset,childLength)=>{child.deleteAt(offset,childLength)})}descendant(criteria,index=0){let[child,offset]=this.children.find(index);return criteria.blotName==null&&criteria(child)||criteria.blotName!=null&&child instanceof criteria?[child,offset]:child instanceof _ParentBlot2?child.descendant(criteria,offset):[null,-1]}descendants(criteria,index=0,length3=Number.MAX_VALUE){let descendants=[],lengthLeft=length3;return this.children.forEachAt(index,length3,(child,childIndex,childLength)=>{(criteria.blotName==null&&criteria(child)||criteria.blotName!=null&&child instanceof criteria)&&descendants.push(child),child instanceof _ParentBlot2&&(descendants=descendants.concat(child.descendants(criteria,childIndex,lengthLeft))),lengthLeft-=childLength}),descendants}detach(){this.children.forEach(child=>{child.detach()}),super.detach()}enforceAllowedChildren(){let done=!1;this.children.forEach(child=>{done||this.statics.allowedChildren.some(def=>child instanceof def)||(child.statics.scope===Scope.BLOCK_BLOT?(child.next!=null&&this.splitAfter(child),child.prev!=null&&this.splitAfter(child.prev),child.parent.unwrap(),done=!0):child instanceof _ParentBlot2?child.unwrap():child.remove())})}formatAt(index,length3,name,value){this.children.forEachAt(index,length3,(child,offset,childLength)=>{child.formatAt(offset,childLength,name,value)})}insertAt(index,value,def){let[child,offset]=this.children.find(index);if(child)child.insertAt(offset,value,def);else{let blot=def==null?this.scroll.create("text",value):this.scroll.create(value,def);this.appendChild(blot)}}insertBefore(childBlot,refBlot){childBlot.parent!=null&&childBlot.parent.children.remove(childBlot);let refDomNode=null;this.children.insertBefore(childBlot,refBlot||null),childBlot.parent=this,refBlot!=null&&(refDomNode=refBlot.domNode),(this.domNode.parentNode!==childBlot.domNode||this.domNode.nextSibling!==refDomNode)&&this.domNode.insertBefore(childBlot.domNode,refDomNode),childBlot.attach()}length(){return this.children.reduce((memo,child)=>memo+child.length(),0)}moveChildren(targetParent,refNode){this.children.forEach(child=>{targetParent.insertBefore(child,refNode)})}optimize(context){if(super.optimize(context),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){let child=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(child)}else this.remove()}path(index,inclusive=!1){let[child,offset]=this.children.find(index,inclusive),position=[[this,index]];return child instanceof _ParentBlot2?position.concat(child.path(offset,inclusive)):(child!=null&&position.push([child,offset]),position)}removeChild(child){this.children.remove(child)}replaceWith(name,value){let replacement=typeof name=="string"?this.scroll.create(name,value):name;return replacement instanceof _ParentBlot2&&this.moveChildren(replacement),super.replaceWith(replacement)}split(index,force=!1){if(!force){if(index===0)return this;if(index===this.length())return this.next}let after=this.clone();return this.parent&&this.parent.insertBefore(after,this.next||void 0),this.children.forEachAt(index,this.length(),(child,offset,_length)=>{let split=child.split(offset,force);split!=null&&after.appendChild(split)}),after}splitAfter(child){let after=this.clone();for(;child.next!=null;)after.appendChild(child.next);return this.parent&&this.parent.insertBefore(after,this.next||void 0),after}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(mutations,_context){let addedNodes=[],removedNodes=[];mutations.forEach(mutation=>{mutation.target===this.domNode&&mutation.type==="childList"&&(addedNodes.push(...mutation.addedNodes),removedNodes.push(...mutation.removedNodes))}),removedNodes.forEach(node=>{if(node.parentNode!=null&&node.tagName!=="IFRAME"&&document.body.compareDocumentPosition(node)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;let blot=this.scroll.find(node);blot!=null&&(blot.domNode.parentNode==null||blot.domNode.parentNode===this.domNode)&&blot.detach()}),addedNodes.filter(node=>node.parentNode===this.domNode&&node!==this.uiNode).sort((a,b)=>a===b?0:a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(node=>{let refBlot=null;node.nextSibling!=null&&(refBlot=this.scroll.find(node.nextSibling));let blot=makeAttachedBlot(node,this.scroll);(blot.next!==refBlot||blot.next==null)&&(blot.parent!=null&&blot.parent.removeChild(this),this.insertBefore(blot,refBlot||void 0))}),this.enforceAllowedChildren()}};_ParentBlot.uiClass="";ParentBlot=_ParentBlot,ParentBlot$1=ParentBlot;_InlineBlot=class _InlineBlot2 extends ParentBlot$1{static create(value){return super.create(value)}static formats(domNode,scroll){let match2=scroll.query(_InlineBlot2.blotName);if(!(match2!=null&&domNode.tagName===match2.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return domNode.tagName.toLowerCase()}}constructor(scroll,domNode){super(scroll,domNode),this.attributes=new AttributorStore$1(this.domNode)}format(name,value){if(name===this.statics.blotName&&!value)this.children.forEach(child=>{child instanceof _InlineBlot2||(child=child.wrap(_InlineBlot2.blotName,!0)),this.attributes.copy(child)}),this.unwrap();else{let format=this.scroll.query(name,Scope.INLINE);if(format==null)return;format instanceof Attributor?this.attributes.attribute(format,value):value&&(name!==this.statics.blotName||this.formats()[name]!==value)&&this.replaceWith(name,value)}}formats(){let formats=this.attributes.values(),format=this.statics.formats(this.domNode,this.scroll);return format!=null&&(formats[this.statics.blotName]=format),formats}formatAt(index,length3,name,value){this.formats()[name]!=null||this.scroll.query(name,Scope.ATTRIBUTE)?this.isolate(index,length3).format(name,value):super.formatAt(index,length3,name,value)}optimize(context){super.optimize(context);let formats=this.formats();if(Object.keys(formats).length===0)return this.unwrap();let next=this.next;next instanceof _InlineBlot2&&next.prev===this&&isEqual2(formats,next.formats())&&(next.moveChildren(this),next.remove())}replaceWith(name,value){let replacement=super.replaceWith(name,value);return this.attributes.copy(replacement),replacement}update(mutations,context){super.update(mutations,context),mutations.some(mutation=>mutation.target===this.domNode&&mutation.type==="attributes")&&this.attributes.build()}wrap(name,value){let wrapper=super.wrap(name,value);return wrapper instanceof _InlineBlot2&&this.attributes.move(wrapper),wrapper}};_InlineBlot.allowedChildren=[_InlineBlot,LeafBlot$1],_InlineBlot.blotName="inline",_InlineBlot.scope=Scope.INLINE_BLOT,_InlineBlot.tagName="SPAN";InlineBlot=_InlineBlot,InlineBlot$1=InlineBlot,_BlockBlot=class _BlockBlot2 extends ParentBlot$1{static create(value){return super.create(value)}static formats(domNode,scroll){let match2=scroll.query(_BlockBlot2.blotName);if(!(match2!=null&&domNode.tagName===match2.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return domNode.tagName.toLowerCase()}}constructor(scroll,domNode){super(scroll,domNode),this.attributes=new AttributorStore$1(this.domNode)}format(name,value){let format=this.scroll.query(name,Scope.BLOCK);format!=null&&(format instanceof Attributor?this.attributes.attribute(format,value):name===this.statics.blotName&&!value?this.replaceWith(_BlockBlot2.blotName):value&&(name!==this.statics.blotName||this.formats()[name]!==value)&&this.replaceWith(name,value))}formats(){let formats=this.attributes.values(),format=this.statics.formats(this.domNode,this.scroll);return format!=null&&(formats[this.statics.blotName]=format),formats}formatAt(index,length3,name,value){this.scroll.query(name,Scope.BLOCK)!=null?this.format(name,value):super.formatAt(index,length3,name,value)}insertAt(index,value,def){if(def==null||this.scroll.query(value,Scope.INLINE)!=null)super.insertAt(index,value,def);else{let after=this.split(index);if(after!=null){let blot=this.scroll.create(value,def);after.parent.insertBefore(blot,after)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(name,value){let replacement=super.replaceWith(name,value);return this.attributes.copy(replacement),replacement}update(mutations,context){super.update(mutations,context),mutations.some(mutation=>mutation.target===this.domNode&&mutation.type==="attributes")&&this.attributes.build()}};_BlockBlot.blotName="block",_BlockBlot.scope=Scope.BLOCK_BLOT,_BlockBlot.tagName="P",_BlockBlot.allowedChildren=[InlineBlot$1,_BlockBlot,LeafBlot$1];BlockBlot=_BlockBlot,BlockBlot$1=BlockBlot,_ContainerBlot=class extends ParentBlot$1{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(index,length3){super.deleteAt(index,length3),this.enforceAllowedChildren()}formatAt(index,length3,name,value){super.formatAt(index,length3,name,value),this.enforceAllowedChildren()}insertAt(index,value,def){super.insertAt(index,value,def),this.enforceAllowedChildren()}optimize(context){super.optimize(context),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};_ContainerBlot.blotName="container",_ContainerBlot.scope=Scope.BLOCK_BLOT;ContainerBlot=_ContainerBlot,ContainerBlot$1=ContainerBlot,EmbedBlot=class extends LeafBlot$1{static formats(_domNode,_scroll){}format(name,value){super.formatAt(0,this.length(),name,value)}formatAt(index,length3,name,value){index===0&&length3===this.length()?this.format(name,value):super.formatAt(index,length3,name,value)}formats(){return this.statics.formats(this.domNode,this.scroll)}},EmbedBlot$1=EmbedBlot,OBSERVER_CONFIG={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},MAX_OPTIMIZE_ITERATIONS=100,_ScrollBlot=class extends ParentBlot$1{constructor(registry,node){super(null,node),this.registry=registry,this.scroll=this,this.build(),this.observer=new MutationObserver(mutations=>{this.update(mutations)}),this.observer.observe(this.domNode,OBSERVER_CONFIG),this.attach()}create(input,value){return this.registry.create(this,input,value)}find(node,bubble=!1){let blot=this.registry.find(node,bubble);return blot?blot.scroll===this?blot:bubble?this.find(blot.scroll.domNode.parentNode,!0):null:null}query(query,scope=Scope.ANY){return this.registry.query(query,scope)}register(...definitions){return this.registry.register(...definitions)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(index,length3){this.update(),index===0&&length3===this.length()?this.children.forEach(child=>{child.remove()}):super.deleteAt(index,length3)}formatAt(index,length3,name,value){this.update(),super.formatAt(index,length3,name,value)}insertAt(index,value,def){this.update(),super.insertAt(index,value,def)}optimize(mutations=[],context={}){super.optimize(context);let mutationsMap=context.mutationsMap||new WeakMap,records=Array.from(this.observer.takeRecords());for(;records.length>0;)mutations.push(records.pop());let mark=(blot,markParent=!0)=>{blot==null||blot===this||blot.domNode.parentNode!=null&&(mutationsMap.has(blot.domNode)||mutationsMap.set(blot.domNode,[]),markParent&&mark(blot.parent))},optimize=blot=>{mutationsMap.has(blot.domNode)&&(blot instanceof ParentBlot$1&&blot.children.forEach(optimize),mutationsMap.delete(blot.domNode),blot.optimize(context))},remaining=mutations;for(let i=0;remaining.length>0;i+=1){if(i>=MAX_OPTIMIZE_ITERATIONS)throw new Error("[Parchment] Maximum optimize iterations reached");for(remaining.forEach(mutation=>{let blot=this.find(mutation.target,!0);blot!=null&&(blot.domNode===mutation.target&&(mutation.type==="childList"?(mark(this.find(mutation.previousSibling,!1)),Array.from(mutation.addedNodes).forEach(node=>{let child=this.find(node,!1);mark(child,!1),child instanceof ParentBlot$1&&child.children.forEach(grandChild=>{mark(grandChild,!1)})})):mutation.type==="attributes"&&mark(blot.prev)),mark(blot))}),this.children.forEach(optimize),remaining=Array.from(this.observer.takeRecords()),records=remaining.slice();records.length>0;)mutations.push(records.pop())}}update(mutations,context={}){mutations=mutations||this.observer.takeRecords();let mutationsMap=new WeakMap;mutations.map(mutation=>{let blot=this.find(mutation.target,!0);return blot==null?null:mutationsMap.has(blot.domNode)?(mutationsMap.get(blot.domNode).push(mutation),null):(mutationsMap.set(blot.domNode,[mutation]),blot)}).forEach(blot=>{blot!=null&&blot!==this&&mutationsMap.has(blot.domNode)&&blot.update(mutationsMap.get(blot.domNode)||[],context)}),context.mutationsMap=mutationsMap,mutationsMap.has(this.domNode)&&super.update(mutationsMap.get(this.domNode),context),this.optimize(mutations,context)}};_ScrollBlot.blotName="scroll",_ScrollBlot.defaultChild=BlockBlot$1,_ScrollBlot.allowedChildren=[BlockBlot$1,ContainerBlot$1],_ScrollBlot.scope=Scope.BLOCK_BLOT,_ScrollBlot.tagName="DIV";ScrollBlot=_ScrollBlot,ScrollBlot$1=ScrollBlot,_TextBlot=class _TextBlot2 extends LeafBlot$1{static create(value){return document.createTextNode(value)}static value(domNode){return domNode.data}constructor(scroll,node){super(scroll,node),this.text=this.statics.value(this.domNode)}deleteAt(index,length3){this.domNode.data=this.text=this.text.slice(0,index)+this.text.slice(index+length3)}index(node,offset){return this.domNode===node?offset:-1}insertAt(index,value,def){def==null?(this.text=this.text.slice(0,index)+value+this.text.slice(index),this.domNode.data=this.text):super.insertAt(index,value,def)}length(){return this.text.length}optimize(context){super.optimize(context),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof _TextBlot2&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(index,_inclusive=!1){return[this.domNode,index]}split(index,force=!1){if(!force){if(index===0)return this;if(index===this.length())return this.next}let after=this.scroll.create(this.domNode.splitText(index));return this.parent.insertBefore(after,this.next||void 0),this.text=this.statics.value(this.domNode),after}update(mutations,_context){mutations.some(mutation=>mutation.type==="characterData"&&mutation.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};_TextBlot.blotName="text",_TextBlot.scope=Scope.INLINE_BLOT;TextBlot=_TextBlot,TextBlot$1=TextBlot}});var require_diff=__commonJS({"node_modules/fast-diff/diff.js"(exports2,module2){var DIFF_DELETE=-1,DIFF_INSERT=1,DIFF_EQUAL=0;function diff_main(text1,text2,cursor_pos,cleanup,_fix_unicode){if(text1===text2)return text1?[[DIFF_EQUAL,text1]]:[];if(cursor_pos!=null){var editdiff=find_cursor_edit_diff(text1,text2,cursor_pos);if(editdiff)return editdiff}var commonlength=diff_commonPrefix(text1,text2),commonprefix=text1.substring(0,commonlength);text1=text1.substring(commonlength),text2=text2.substring(commonlength),commonlength=diff_commonSuffix(text1,text2);var commonsuffix=text1.substring(text1.length-commonlength);text1=text1.substring(0,text1.length-commonlength),text2=text2.substring(0,text2.length-commonlength);var diffs=diff_compute_(text1,text2);return commonprefix&&diffs.unshift([DIFF_EQUAL,commonprefix]),commonsuffix&&diffs.push([DIFF_EQUAL,commonsuffix]),diff_cleanupMerge(diffs,_fix_unicode),cleanup&&diff_cleanupSemantic(diffs),diffs}function diff_compute_(text1,text2){var diffs;if(!text1)return[[DIFF_INSERT,text2]];if(!text2)return[[DIFF_DELETE,text1]];var longtext=text1.length>text2.length?text1:text2,shorttext=text1.length>text2.length?text2:text1,i=longtext.indexOf(shorttext);if(i!==-1)return diffs=[[DIFF_INSERT,longtext.substring(0,i)],[DIFF_EQUAL,shorttext],[DIFF_INSERT,longtext.substring(i+shorttext.length)]],text1.length>text2.length&&(diffs[0][0]=diffs[2][0]=DIFF_DELETE),diffs;if(shorttext.length===1)return[[DIFF_DELETE,text1],[DIFF_INSERT,text2]];var hm=diff_halfMatch_(text1,text2);if(hm){var text1_a=hm[0],text1_b=hm[1],text2_a=hm[2],text2_b=hm[3],mid_common=hm[4],diffs_a=diff_main(text1_a,text2_a),diffs_b=diff_main(text1_b,text2_b);return diffs_a.concat([[DIFF_EQUAL,mid_common]],diffs_b)}return diff_bisect_(text1,text2)}function diff_bisect_(text1,text2){for(var text1_length=text1.length,text2_length=text2.length,max_d=Math.ceil((text1_length+text2_length)/2),v_offset=max_d,v_length=2*max_d,v1=new Array(v_length),v2=new Array(v_length),x=0;x<v_length;x++)v1[x]=-1,v2[x]=-1;v1[v_offset+1]=0,v2[v_offset+1]=0;for(var delta=text1_length-text2_length,front=delta%2!==0,k1start=0,k1end=0,k2start=0,k2end=0,d=0;d<max_d;d++){for(var k1=-d+k1start;k1<=d-k1end;k1+=2){var k1_offset=v_offset+k1,x1;k1===-d||k1!==d&&v1[k1_offset-1]<v1[k1_offset+1]?x1=v1[k1_offset+1]:x1=v1[k1_offset-1]+1;for(var y1=x1-k1;x1<text1_length&&y1<text2_length&&text1.charAt(x1)===text2.charAt(y1);)x1++,y1++;if(v1[k1_offset]=x1,x1>text1_length)k1end+=2;else if(y1>text2_length)k1start+=2;else if(front){var k2_offset=v_offset+delta-k1;if(k2_offset>=0&&k2_offset<v_length&&v2[k2_offset]!==-1){var x2=text1_length-v2[k2_offset];if(x1>=x2)return diff_bisectSplit_(text1,text2,x1,y1)}}}for(var k2=-d+k2start;k2<=d-k2end;k2+=2){var k2_offset=v_offset+k2,x2;k2===-d||k2!==d&&v2[k2_offset-1]<v2[k2_offset+1]?x2=v2[k2_offset+1]:x2=v2[k2_offset-1]+1;for(var y2=x2-k2;x2<text1_length&&y2<text2_length&&text1.charAt(text1_length-x2-1)===text2.charAt(text2_length-y2-1);)x2++,y2++;if(v2[k2_offset]=x2,x2>text1_length)k2end+=2;else if(y2>text2_length)k2start+=2;else if(!front){var k1_offset=v_offset+delta-k2;if(k1_offset>=0&&k1_offset<v_length&&v1[k1_offset]!==-1){var x1=v1[k1_offset],y1=v_offset+x1-k1_offset;if(x2=text1_length-x2,x1>=x2)return diff_bisectSplit_(text1,text2,x1,y1)}}}}return[[DIFF_DELETE,text1],[DIFF_INSERT,text2]]}function diff_bisectSplit_(text1,text2,x,y){var text1a=text1.substring(0,x),text2a=text2.substring(0,y),text1b=text1.substring(x),text2b=text2.substring(y),diffs=diff_main(text1a,text2a),diffsb=diff_main(text1b,text2b);return diffs.concat(diffsb)}function diff_commonPrefix(text1,text2){if(!text1||!text2||text1.charAt(0)!==text2.charAt(0))return 0;for(var pointermin=0,pointermax=Math.min(text1.length,text2.length),pointermid=pointermax,pointerstart=0;pointermin<pointermid;)text1.substring(pointerstart,pointermid)==text2.substring(pointerstart,pointermid)?(pointermin=pointermid,pointerstart=pointermin):pointermax=pointermid,pointermid=Math.floor((pointermax-pointermin)/2+pointermin);return is_surrogate_pair_start(text1.charCodeAt(pointermid-1))&&pointermid--,pointermid}function diff_commonOverlap_(text1,text2){var text1_length=text1.length,text2_length=text2.length;if(text1_length==0||text2_length==0)return 0;text1_length>text2_length?text1=text1.substring(text1_length-text2_length):text1_length<text2_length&&(text2=text2.substring(0,text1_length));var text_length=Math.min(text1_length,text2_length);if(text1==text2)return text_length;for(var best=0,length3=1;;){var pattern=text1.substring(text_length-length3),found=text2.indexOf(pattern);if(found==-1)return best;length3+=found,(found==0||text1.substring(text_length-length3)==text2.substring(0,length3))&&(best=length3,length3++)}}function diff_commonSuffix(text1,text2){if(!text1||!text2||text1.slice(-1)!==text2.slice(-1))return 0;for(var pointermin=0,pointermax=Math.min(text1.length,text2.length),pointermid=pointermax,pointerend=0;pointermin<pointermid;)text1.substring(text1.length-pointermid,text1.length-pointerend)==text2.substring(text2.length-pointermid,text2.length-pointerend)?(pointermin=pointermid,pointerend=pointermin):pointermax=pointermid,pointermid=Math.floor((pointermax-pointermin)/2+pointermin);return is_surrogate_pair_end(text1.charCodeAt(text1.length-pointermid))&&pointermid--,pointermid}function diff_halfMatch_(text1,text2){var longtext=text1.length>text2.length?text1:text2,shorttext=text1.length>text2.length?text2:text1;if(longtext.length<4||shorttext.length*2<longtext.length)return null;function diff_halfMatchI_(longtext2,shorttext2,i){for(var seed=longtext2.substring(i,i+Math.floor(longtext2.length/4)),j=-1,best_common="",best_longtext_a,best_longtext_b,best_shorttext_a,best_shorttext_b;(j=shorttext2.indexOf(seed,j+1))!==-1;){var prefixLength=diff_commonPrefix(longtext2.substring(i),shorttext2.substring(j)),suffixLength=diff_commonSuffix(longtext2.substring(0,i),shorttext2.substring(0,j));best_common.length<suffixLength+prefixLength&&(best_common=shorttext2.substring(j-suffixLength,j)+shorttext2.substring(j,j+prefixLength),best_longtext_a=longtext2.substring(0,i-suffixLength),best_longtext_b=longtext2.substring(i+prefixLength),best_shorttext_a=shorttext2.substring(0,j-suffixLength),best_shorttext_b=shorttext2.substring(j+prefixLength))}return best_common.length*2>=longtext2.length?[best_longtext_a,best_longtext_b,best_shorttext_a,best_shorttext_b,best_common]:null}var hm1=diff_halfMatchI_(longtext,shorttext,Math.ceil(longtext.length/4)),hm2=diff_halfMatchI_(longtext,shorttext,Math.ceil(longtext.length/2)),hm;if(!hm1&&!hm2)return null;hm2?hm1?hm=hm1[4].length>hm2[4].length?hm1:hm2:hm=hm2:hm=hm1;var text1_a,text1_b,text2_a,text2_b;text1.length>text2.length?(text1_a=hm[0],text1_b=hm[1],text2_a=hm[2],text2_b=hm[3]):(text2_a=hm[0],text2_b=hm[1],text1_a=hm[2],text1_b=hm[3]);var mid_common=hm[4];return[text1_a,text1_b,text2_a,text2_b,mid_common]}function diff_cleanupSemantic(diffs){for(var changes=!1,equalities=[],equalitiesLength=0,lastequality=null,pointer=0,length_insertions1=0,length_deletions1=0,length_insertions2=0,length_deletions2=0;pointer<diffs.length;)diffs[pointer][0]==DIFF_EQUAL?(equalities[equalitiesLength++]=pointer,length_insertions1=length_insertions2,length_deletions1=length_deletions2,length_insertions2=0,length_deletions2=0,lastequality=diffs[pointer][1]):(diffs[pointer][0]==DIFF_INSERT?length_insertions2+=diffs[pointer][1].length:length_deletions2+=diffs[pointer][1].length,lastequality&&lastequality.length<=Math.max(length_insertions1,length_deletions1)&&lastequality.length<=Math.max(length_insertions2,length_deletions2)&&(diffs.splice(equalities[equalitiesLength-1],0,[DIFF_DELETE,lastequality]),diffs[equalities[equalitiesLength-1]+1][0]=DIFF_INSERT,equalitiesLength--,equalitiesLength--,pointer=equalitiesLength>0?equalities[equalitiesLength-1]:-1,length_insertions1=0,length_deletions1=0,length_insertions2=0,length_deletions2=0,lastequality=null,changes=!0)),pointer++;for(changes&&diff_cleanupMerge(diffs),diff_cleanupSemanticLossless(diffs),pointer=1;pointer<diffs.length;){if(diffs[pointer-1][0]==DIFF_DELETE&&diffs[pointer][0]==DIFF_INSERT){var deletion=diffs[pointer-1][1],insertion=diffs[pointer][1],overlap_length1=diff_commonOverlap_(deletion,insertion),overlap_length2=diff_commonOverlap_(insertion,deletion);overlap_length1>=overlap_length2?(overlap_length1>=deletion.length/2||overlap_length1>=insertion.length/2)&&(diffs.splice(pointer,0,[DIFF_EQUAL,insertion.substring(0,overlap_length1)]),diffs[pointer-1][1]=deletion.substring(0,deletion.length-overlap_length1),diffs[pointer+1][1]=insertion.substring(overlap_length1),pointer++):(overlap_length2>=deletion.length/2||overlap_length2>=insertion.length/2)&&(diffs.splice(pointer,0,[DIFF_EQUAL,deletion.substring(0,overlap_length2)]),diffs[pointer-1][0]=DIFF_INSERT,diffs[pointer-1][1]=insertion.substring(0,insertion.length-overlap_length2),diffs[pointer+1][0]=DIFF_DELETE,diffs[pointer+1][1]=deletion.substring(overlap_length2),pointer++),pointer++}pointer++}}var nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,whitespaceRegex_=/\s/,linebreakRegex_=/[\r\n]/,blanklineEndRegex_=/\n\r?\n$/,blanklineStartRegex_=/^\r?\n\r?\n/;function diff_cleanupSemanticLossless(diffs){function diff_cleanupSemanticScore_(one,two){if(!one||!two)return 6;var char1=one.charAt(one.length-1),char2=two.charAt(0),nonAlphaNumeric1=char1.match(nonAlphaNumericRegex_),nonAlphaNumeric2=char2.match(nonAlphaNumericRegex_),whitespace1=nonAlphaNumeric1&&char1.match(whitespaceRegex_),whitespace2=nonAlphaNumeric2&&char2.match(whitespaceRegex_),lineBreak1=whitespace1&&char1.match(linebreakRegex_),lineBreak2=whitespace2&&char2.match(linebreakRegex_),blankLine1=lineBreak1&&one.match(blanklineEndRegex_),blankLine2=lineBreak2&&two.match(blanklineStartRegex_);return blankLine1||blankLine2?5:lineBreak1||lineBreak2?4:nonAlphaNumeric1&&!whitespace1&&whitespace2?3:whitespace1||whitespace2?2:nonAlphaNumeric1||nonAlphaNumeric2?1:0}for(var pointer=1;pointer<diffs.length-1;){if(diffs[pointer-1][0]==DIFF_EQUAL&&diffs[pointer+1][0]==DIFF_EQUAL){var equality1=diffs[pointer-1][1],edit=diffs[pointer][1],equality2=diffs[pointer+1][1],commonOffset=diff_commonSuffix(equality1,edit);if(commonOffset){var commonString=edit.substring(edit.length-commonOffset);equality1=equality1.substring(0,equality1.length-commonOffset),edit=commonString+edit.substring(0,edit.length-commonOffset),equality2=commonString+equality2}for(var bestEquality1=equality1,bestEdit=edit,bestEquality2=equality2,bestScore=diff_cleanupSemanticScore_(equality1,edit)+diff_cleanupSemanticScore_(edit,equality2);edit.charAt(0)===equality2.charAt(0);){equality1+=edit.charAt(0),edit=edit.substring(1)+equality2.charAt(0),equality2=equality2.substring(1);var score=diff_cleanupSemanticScore_(equality1,edit)+diff_cleanupSemanticScore_(edit,equality2);score>=bestScore&&(bestScore=score,bestEquality1=equality1,bestEdit=edit,bestEquality2=equality2)}diffs[pointer-1][1]!=bestEquality1&&(bestEquality1?diffs[pointer-1][1]=bestEquality1:(diffs.splice(pointer-1,1),pointer--),diffs[pointer][1]=bestEdit,bestEquality2?diffs[pointer+1][1]=bestEquality2:(diffs.splice(pointer+1,1),pointer--))}pointer++}}function diff_cleanupMerge(diffs,fix_unicode){diffs.push([DIFF_EQUAL,""]);for(var pointer=0,count_delete=0,count_insert=0,text_delete="",text_insert="",commonlength;pointer<diffs.length;){if(pointer<diffs.length-1&&!diffs[pointer][1]){diffs.splice(pointer,1);continue}switch(diffs[pointer][0]){case DIFF_INSERT:count_insert++,text_insert+=diffs[pointer][1],pointer++;break;case DIFF_DELETE:count_delete++,text_delete+=diffs[pointer][1],pointer++;break;case DIFF_EQUAL:var previous_equality=pointer-count_insert-count_delete-1;if(fix_unicode){if(previous_equality>=0&&ends_with_pair_start(diffs[previous_equality][1])){var stray=diffs[previous_equality][1].slice(-1);if(diffs[previous_equality][1]=diffs[previous_equality][1].slice(0,-1),text_delete=stray+text_delete,text_insert=stray+text_insert,!diffs[previous_equality][1]){diffs.splice(previous_equality,1),pointer--;var k=previous_equality-1;diffs[k]&&diffs[k][0]===DIFF_INSERT&&(count_insert++,text_insert=diffs[k][1]+text_insert,k--),diffs[k]&&diffs[k][0]===DIFF_DELETE&&(count_delete++,text_delete=diffs[k][1]+text_delete,k--),previous_equality=k}}if(starts_with_pair_end(diffs[pointer][1])){var stray=diffs[pointer][1].charAt(0);diffs[pointer][1]=diffs[pointer][1].slice(1),text_delete+=stray,text_insert+=stray}}if(pointer<diffs.length-1&&!diffs[pointer][1]){diffs.splice(pointer,1);break}if(text_delete.length>0||text_insert.length>0){text_delete.length>0&&text_insert.length>0&&(commonlength=diff_commonPrefix(text_insert,text_delete),commonlength!==0&&(previous_equality>=0?diffs[previous_equality][1]+=text_insert.substring(0,commonlength):(diffs.splice(0,0,[DIFF_EQUAL,text_insert.substring(0,commonlength)]),pointer++),text_insert=text_insert.substring(commonlength),text_delete=text_delete.substring(commonlength)),commonlength=diff_commonSuffix(text_insert,text_delete),commonlength!==0&&(diffs[pointer][1]=text_insert.substring(text_insert.length-commonlength)+diffs[pointer][1],text_insert=text_insert.substring(0,text_insert.length-commonlength),text_delete=text_delete.substring(0,text_delete.length-commonlength)));var n=count_insert+count_delete;text_delete.length===0&&text_insert.length===0?(diffs.splice(pointer-n,n),pointer=pointer-n):text_delete.length===0?(diffs.splice(pointer-n,n,[DIFF_INSERT,text_insert]),pointer=pointer-n+1):text_insert.length===0?(diffs.splice(pointer-n,n,[DIFF_DELETE,text_delete]),pointer=pointer-n+1):(diffs.splice(pointer-n,n,[DIFF_DELETE,text_delete],[DIFF_INSERT,text_insert]),pointer=pointer-n+2)}pointer!==0&&diffs[pointer-1][0]===DIFF_EQUAL?(diffs[pointer-1][1]+=diffs[pointer][1],diffs.splice(pointer,1)):pointer++,count_insert=0,count_delete=0,text_delete="",text_insert="";break}}diffs[diffs.length-1][1]===""&&diffs.pop();var changes=!1;for(pointer=1;pointer<diffs.length-1;)diffs[pointer-1][0]===DIFF_EQUAL&&diffs[pointer+1][0]===DIFF_EQUAL&&(diffs[pointer][1].substring(diffs[pointer][1].length-diffs[pointer-1][1].length)===diffs[pointer-1][1]?(diffs[pointer][1]=diffs[pointer-1][1]+diffs[pointer][1].substring(0,diffs[pointer][1].length-diffs[pointer-1][1].length),diffs[pointer+1][1]=diffs[pointer-1][1]+diffs[pointer+1][1],diffs.splice(pointer-1,1),changes=!0):diffs[pointer][1].substring(0,diffs[pointer+1][1].length)==diffs[pointer+1][1]&&(diffs[pointer-1][1]+=diffs[pointer+1][1],diffs[pointer][1]=diffs[pointer][1].substring(diffs[pointer+1][1].length)+diffs[pointer+1][1],diffs.splice(pointer+1,1),changes=!0)),pointer++;changes&&diff_cleanupMerge(diffs,fix_unicode)}function is_surrogate_pair_start(charCode){return charCode>=55296&&charCode<=56319}function is_surrogate_pair_end(charCode){return charCode>=56320&&charCode<=57343}function starts_with_pair_end(str){return is_surrogate_pair_end(str.charCodeAt(0))}function ends_with_pair_start(str){return is_surrogate_pair_start(str.charCodeAt(str.length-1))}function remove_empty_tuples(tuples){for(var ret=[],i=0;i<tuples.length;i++)tuples[i][1].length>0&&ret.push(tuples[i]);return ret}function make_edit_splice(before,oldMiddle,newMiddle,after){return ends_with_pair_start(before)||starts_with_pair_end(after)?null:remove_empty_tuples([[DIFF_EQUAL,before],[DIFF_DELETE,oldMiddle],[DIFF_INSERT,newMiddle],[DIFF_EQUAL,after]])}function find_cursor_edit_diff(oldText,newText,cursor_pos){var oldRange=typeof cursor_pos=="number"?{index:cursor_pos,length:0}:cursor_pos.oldRange,newRange=typeof cursor_pos=="number"?null:cursor_pos.newRange,oldLength=oldText.length,newLength=newText.length;if(oldRange.length===0&&(newRange===null||newRange.length===0)){var oldCursor=oldRange.index,oldBefore=oldText.slice(0,oldCursor),oldAfter=oldText.slice(oldCursor),maybeNewCursor=newRange?newRange.index:null;editBefore:{var newCursor=oldCursor+newLength-oldLength;if(maybeNewCursor!==null&&maybeNewCursor!==newCursor||newCursor<0||newCursor>newLength)break editBefore;var newBefore=newText.slice(0,newCursor),newAfter=newText.slice(newCursor);if(newAfter!==oldAfter)break editBefore;var prefixLength=Math.min(oldCursor,newCursor),oldPrefix=oldBefore.slice(0,prefixLength),newPrefix=newBefore.slice(0,prefixLength);if(oldPrefix!==newPrefix)break editBefore;var oldMiddle=oldBefore.slice(prefixLength),newMiddle=newBefore.slice(prefixLength);return make_edit_splice(oldPrefix,oldMiddle,newMiddle,oldAfter)}editAfter:{if(maybeNewCursor!==null&&maybeNewCursor!==oldCursor)break editAfter;var cursor=oldCursor,newBefore=newText.slice(0,cursor),newAfter=newText.slice(cursor);if(newBefore!==oldBefore)break editAfter;var suffixLength=Math.min(oldLength-cursor,newLength-cursor),oldSuffix=oldAfter.slice(oldAfter.length-suffixLength),newSuffix=newAfter.slice(newAfter.length-suffixLength);if(oldSuffix!==newSuffix)break editAfter;var oldMiddle=oldAfter.slice(0,oldAfter.length-suffixLength),newMiddle=newAfter.slice(0,newAfter.length-suffixLength);return make_edit_splice(oldBefore,oldMiddle,newMiddle,oldSuffix)}}if(oldRange.length>0&&newRange&&newRange.length===0)replaceRange:{var oldPrefix=oldText.slice(0,oldRange.index),oldSuffix=oldText.slice(oldRange.index+oldRange.length),prefixLength=oldPrefix.length,suffixLength=oldSuffix.length;if(newLength<prefixLength+suffixLength)break replaceRange;var newPrefix=newText.slice(0,prefixLength),newSuffix=newText.slice(newLength-suffixLength);if(oldPrefix!==newPrefix||oldSuffix!==newSuffix)break replaceRange;var oldMiddle=oldText.slice(prefixLength,oldLength-suffixLength),newMiddle=newText.slice(prefixLength,newLength-suffixLength);return make_edit_splice(oldPrefix,oldMiddle,newMiddle,oldSuffix)}return null}function diff(text1,text2,cursor_pos,cleanup){return diff_main(text1,text2,cursor_pos,cleanup,!0)}diff.INSERT=DIFF_INSERT;diff.DELETE=DIFF_DELETE;diff.EQUAL=DIFF_EQUAL;module2.exports=diff}});var require_lodash=__commonJS({"node_modules/lodash.clonedeep/index.js"(exports2,module2){var LARGE_ARRAY_SIZE2=200,HASH_UNDEFINED4="__lodash_hash_undefined__",MAX_SAFE_INTEGER4=9007199254740991,argsTag5="[object Arguments]",arrayTag4="[object Array]",boolTag5="[object Boolean]",dateTag5="[object Date]",errorTag4="[object Error]",funcTag4="[object Function]",genTag3="[object GeneratorFunction]",mapTag7="[object Map]",numberTag5="[object Number]",objectTag6="[object Object]",promiseTag2="[object Promise]",regexpTag5="[object RegExp]",setTag7="[object Set]",stringTag5="[object String]",symbolTag4="[object Symbol]",weakMapTag4="[object WeakMap]",arrayBufferTag5="[object ArrayBuffer]",dataViewTag6="[object DataView]",float32Tag4="[object Float32Array]",float64Tag4="[object Float64Array]",int8Tag4="[object Int8Array]",int16Tag4="[object Int16Array]",int32Tag4="[object Int32Array]",uint8Tag4="[object Uint8Array]",uint8ClampedTag4="[object Uint8ClampedArray]",uint16Tag4="[object Uint16Array]",uint32Tag4="[object Uint32Array]",reRegExpChar2=/[\\^$.*+?()[\]{}|]/g,reFlags2=/\w*$/,reIsHostCtor2=/^\[object .+?Constructor\]$/,reIsUint2=/^(?:0|[1-9]\d*)$/,cloneableTags2={};cloneableTags2[argsTag5]=cloneableTags2[arrayTag4]=cloneableTags2[arrayBufferTag5]=cloneableTags2[dataViewTag6]=cloneableTags2[boolTag5]=cloneableTags2[dateTag5]=cloneableTags2[float32Tag4]=cloneableTags2[float64Tag4]=cloneableTags2[int8Tag4]=cloneableTags2[int16Tag4]=cloneableTags2[int32Tag4]=cloneableTags2[mapTag7]=cloneableTags2[numberTag5]=cloneableTags2[objectTag6]=cloneableTags2[regexpTag5]=cloneableTags2[setTag7]=cloneableTags2[stringTag5]=cloneableTags2[symbolTag4]=cloneableTags2[uint8Tag4]=cloneableTags2[uint8ClampedTag4]=cloneableTags2[uint16Tag4]=cloneableTags2[uint32Tag4]=!0;cloneableTags2[errorTag4]=cloneableTags2[funcTag4]=cloneableTags2[weakMapTag4]=!1;var freeGlobal2=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf2=typeof self=="object"&&self&&self.Object===Object&&self,root2=freeGlobal2||freeSelf2||Function("return this")(),freeExports4=typeof exports2=="object"&&exports2&&!exports2.nodeType&&exports2,freeModule4=freeExports4&&typeof module2=="object"&&module2&&!module2.nodeType&&module2,moduleExports4=freeModule4&&freeModule4.exports===freeExports4;function addMapEntry(map2,pair){return map2.set(pair[0],pair[1]),map2}function addSetEntry(set,value){return set.add(value),set}function arrayEach2(array,iteratee){for(var index=-1,length3=array?array.length:0;++index<length3&&iteratee(array[index],index,array)!==!1;);return array}function arrayPush2(array,values){for(var index=-1,length3=values.length,offset=array.length;++index<length3;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length3=array?array.length:0;for(initAccum&&length3&&(accumulator=array[++index]);++index<length3;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function baseTimes2(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function getValue2(object,key){return object?.[key]}function isHostObject(value){var result=!1;if(value!=null&&typeof value.toString!="function")try{result=!!(value+"")}catch{}return result}function mapToArray2(map2){var index=-1,result=Array(map2.size);return map2.forEach(function(value,key){result[++index]=[key,value]}),result}function overArg2(func,transform){return function(arg){return func(transform(arg))}}function setToArray2(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}var arrayProto2=Array.prototype,funcProto4=Function.prototype,objectProto17=Object.prototype,coreJsData2=root2["__core-js_shared__"],maskSrcKey2=function(){var uid=/[^.]+$/.exec(coreJsData2&&coreJsData2.keys&&coreJsData2.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),funcToString4=funcProto4.toString,hasOwnProperty14=objectProto17.hasOwnProperty,objectToString2=objectProto17.toString,reIsNative2=RegExp("^"+funcToString4.call(hasOwnProperty14).replace(reRegExpChar2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer4=moduleExports4?root2.Buffer:void 0,Symbol3=root2.Symbol,Uint8Array3=root2.Uint8Array,getPrototype2=overArg2(Object.getPrototypeOf,Object),objectCreate2=Object.create,propertyIsEnumerable3=objectProto17.propertyIsEnumerable,splice2=arrayProto2.splice,nativeGetSymbols3=Object.getOwnPropertySymbols,nativeIsBuffer2=Buffer4?Buffer4.isBuffer:void 0,nativeKeys2=overArg2(Object.keys,Object),DataView3=getNative2(root2,"DataView"),Map3=getNative2(root2,"Map"),Promise3=getNative2(root2,"Promise"),Set3=getNative2(root2,"Set"),WeakMap3=getNative2(root2,"WeakMap"),nativeCreate2=getNative2(Object,"create"),dataViewCtorString2=toSource2(DataView3),mapCtorString2=toSource2(Map3),promiseCtorString2=toSource2(Promise3),setCtorString2=toSource2(Set3),weakMapCtorString2=toSource2(WeakMap3),symbolProto3=Symbol3?Symbol3.prototype:void 0,symbolValueOf3=symbolProto3?symbolProto3.valueOf:void 0;function Hash2(entries){var index=-1,length3=entries?entries.length:0;for(this.clear();++index<length3;){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear2(){this.__data__=nativeCreate2?nativeCreate2(null):{}}function hashDelete2(key){return this.has(key)&&delete this.__data__[key]}function hashGet2(key){var data=this.__data__;if(nativeCreate2){var result=data[key];return result===HASH_UNDEFINED4?void 0:result}return hasOwnProperty14.call(data,key)?data[key]:void 0}function hashHas2(key){var data=this.__data__;return nativeCreate2?data[key]!==void 0:hasOwnProperty14.call(data,key)}function hashSet2(key,value){var data=this.__data__;return data[key]=nativeCreate2&&value===void 0?HASH_UNDEFINED4:value,this}Hash2.prototype.clear=hashClear2;Hash2.prototype.delete=hashDelete2;Hash2.prototype.get=hashGet2;Hash2.prototype.has=hashHas2;Hash2.prototype.set=hashSet2;function ListCache2(entries){var index=-1,length3=entries?entries.length:0;for(this.clear();++index<length3;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear2(){this.__data__=[]}function listCacheDelete2(key){var data=this.__data__,index=assocIndexOf2(data,key);if(index<0)return!1;var lastIndex=data.length-1;return index==lastIndex?data.pop():splice2.call(data,index,1),!0}function listCacheGet2(key){var data=this.__data__,index=assocIndexOf2(data,key);return index<0?void 0:data[index][1]}function listCacheHas2(key){return assocIndexOf2(this.__data__,key)>-1}function listCacheSet2(key,value){var data=this.__data__,index=assocIndexOf2(data,key);return index<0?data.push([key,value]):data[index][1]=value,this}ListCache2.prototype.clear=listCacheClear2;ListCache2.prototype.delete=listCacheDelete2;ListCache2.prototype.get=listCacheGet2;ListCache2.prototype.has=listCacheHas2;ListCache2.prototype.set=listCacheSet2;function MapCache2(entries){var index=-1,length3=entries?entries.length:0;for(this.clear();++index<length3;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear2(){this.__data__={hash:new Hash2,map:new(Map3||ListCache2),string:new Hash2}}function mapCacheDelete2(key){return getMapData2(this,key).delete(key)}function mapCacheGet2(key){return getMapData2(this,key).get(key)}function mapCacheHas2(key){return getMapData2(this,key).has(key)}function mapCacheSet2(key,value){return getMapData2(this,key).set(key,value),this}MapCache2.prototype.clear=mapCacheClear2;MapCache2.prototype.delete=mapCacheDelete2;MapCache2.prototype.get=mapCacheGet2;MapCache2.prototype.has=mapCacheHas2;MapCache2.prototype.set=mapCacheSet2;function Stack2(entries){this.__data__=new ListCache2(entries)}function stackClear2(){this.__data__=new ListCache2}function stackDelete2(key){return this.__data__.delete(key)}function stackGet2(key){return this.__data__.get(key)}function stackHas2(key){return this.__data__.has(key)}function stackSet2(key,value){var cache=this.__data__;if(cache instanceof ListCache2){var pairs=cache.__data__;if(!Map3||pairs.length<LARGE_ARRAY_SIZE2-1)return pairs.push([key,value]),this;cache=this.__data__=new MapCache2(pairs)}return cache.set(key,value),this}Stack2.prototype.clear=stackClear2;Stack2.prototype.delete=stackDelete2;Stack2.prototype.get=stackGet2;Stack2.prototype.has=stackHas2;Stack2.prototype.set=stackSet2;function arrayLikeKeys2(value,inherited){var result=isArray3(value)||isArguments2(value)?baseTimes2(value.length,String):[],length3=result.length,skipIndexes=!!length3;for(var key in value)(inherited||hasOwnProperty14.call(value,key))&&!(skipIndexes&&(key=="length"||isIndex2(key,length3)))&&result.push(key);return result}function assignValue2(object,key,value){var objValue=object[key];(!(hasOwnProperty14.call(object,key)&&eq2(objValue,value))||value===void 0&&!(key in object))&&(object[key]=value)}function assocIndexOf2(array,key){for(var length3=array.length;length3--;)if(eq2(array[length3][0],key))return length3;return-1}function baseAssign2(object,source){return object&&copyObject2(source,keys3(source),object)}function baseClone2(value,isDeep,isFull,customizer,key,object,stack){var result;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),result!==void 0)return result;if(!isObject2(value))return value;var isArr=isArray3(value);if(isArr){if(result=initCloneArray2(value),!isDeep)return copyArray2(value,result)}else{var tag=getTag2(value),isFunc=tag==funcTag4||tag==genTag3;if(isBuffer2(value))return cloneBuffer2(value,isDeep);if(tag==objectTag6||tag==argsTag5||isFunc&&!object){if(isHostObject(value))return object?value:{};if(result=initCloneObject2(isFunc?{}:value),!isDeep)return copySymbols2(value,baseAssign2(result,value))}else{if(!cloneableTags2[tag])return object?value:{};result=initCloneByTag2(value,tag,baseClone2,isDeep)}}stack||(stack=new Stack2);var stacked=stack.get(value);if(stacked)return stacked;if(stack.set(value,result),!isArr)var props=isFull?getAllKeys2(value):keys3(value);return arrayEach2(props||value,function(subValue,key2){props&&(key2=subValue,subValue=value[key2]),assignValue2(result,key2,baseClone2(subValue,isDeep,isFull,customizer,key2,value,stack))}),result}function baseCreate2(proto){return isObject2(proto)?objectCreate2(proto):{}}function baseGetAllKeys2(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray3(object)?result:arrayPush2(result,symbolsFunc(object))}function baseGetTag2(value){return objectToString2.call(value)}function baseIsNative2(value){if(!isObject2(value)||isMasked2(value))return!1;var pattern=isFunction2(value)||isHostObject(value)?reIsNative2:reIsHostCtor2;return pattern.test(toSource2(value))}function baseKeys2(object){if(!isPrototype2(object))return nativeKeys2(object);var result=[];for(var key in Object(object))hasOwnProperty14.call(object,key)&&key!="constructor"&&result.push(key);return result}function cloneBuffer2(buffer,isDeep){if(isDeep)return buffer.slice();var result=new buffer.constructor(buffer.length);return buffer.copy(result),result}function cloneArrayBuffer2(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array3(result).set(new Uint8Array3(arrayBuffer)),result}function cloneDataView2(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer2(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneMap(map2,isDeep,cloneFunc){var array=isDeep?cloneFunc(mapToArray2(map2),!0):mapToArray2(map2);return arrayReduce(array,addMapEntry,new map2.constructor)}function cloneRegExp2(regexp){var result=new regexp.constructor(regexp.source,reFlags2.exec(regexp));return result.lastIndex=regexp.lastIndex,result}function cloneSet(set,isDeep,cloneFunc){var array=isDeep?cloneFunc(setToArray2(set),!0):setToArray2(set);return arrayReduce(array,addSetEntry,new set.constructor)}function cloneSymbol2(symbol){return symbolValueOf3?Object(symbolValueOf3.call(symbol)):{}}function cloneTypedArray2(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer2(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function copyArray2(source,array){var index=-1,length3=source.length;for(array||(array=Array(length3));++index<length3;)array[index]=source[index];return array}function copyObject2(source,props,object,customizer){object||(object={});for(var index=-1,length3=props.length;++index<length3;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;assignValue2(object,key,newValue===void 0?source[key]:newValue)}return object}function copySymbols2(source,object){return copyObject2(source,getSymbols2(source),object)}function getAllKeys2(object){return baseGetAllKeys2(object,keys3,getSymbols2)}function getMapData2(map2,key){var data=map2.__data__;return isKeyable2(key)?data[typeof key=="string"?"string":"hash"]:data.map}function getNative2(object,key){var value=getValue2(object,key);return baseIsNative2(value)?value:void 0}var getSymbols2=nativeGetSymbols3?overArg2(nativeGetSymbols3,Object):stubArray2,getTag2=baseGetTag2;(DataView3&&getTag2(new DataView3(new ArrayBuffer(1)))!=dataViewTag6||Map3&&getTag2(new Map3)!=mapTag7||Promise3&&getTag2(Promise3.resolve())!=promiseTag2||Set3&&getTag2(new Set3)!=setTag7||WeakMap3&&getTag2(new WeakMap3)!=weakMapTag4)&&(getTag2=function(value){var result=objectToString2.call(value),Ctor=result==objectTag6?value.constructor:void 0,ctorString=Ctor?toSource2(Ctor):void 0;if(ctorString)switch(ctorString){case dataViewCtorString2:return dataViewTag6;case mapCtorString2:return mapTag7;case promiseCtorString2:return promiseTag2;case setCtorString2:return setTag7;case weakMapCtorString2:return weakMapTag4}return result});function initCloneArray2(array){var length3=array.length,result=array.constructor(length3);return length3&&typeof array[0]=="string"&&hasOwnProperty14.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject2(object){return typeof object.constructor=="function"&&!isPrototype2(object)?baseCreate2(getPrototype2(object)):{}}function initCloneByTag2(object,tag,cloneFunc,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag5:return cloneArrayBuffer2(object);case boolTag5:case dateTag5:return new Ctor(+object);case dataViewTag6:return cloneDataView2(object,isDeep);case float32Tag4:case float64Tag4:case int8Tag4:case int16Tag4:case int32Tag4:case uint8Tag4:case uint8ClampedTag4:case uint16Tag4:case uint32Tag4:return cloneTypedArray2(object,isDeep);case mapTag7:return cloneMap(object,isDeep,cloneFunc);case numberTag5:case stringTag5:return new Ctor(object);case regexpTag5:return cloneRegExp2(object);case setTag7:return cloneSet(object,isDeep,cloneFunc);case symbolTag4:return cloneSymbol2(object)}}function isIndex2(value,length3){return length3=length3??MAX_SAFE_INTEGER4,!!length3&&(typeof value=="number"||reIsUint2.test(value))&&value>-1&&value%1==0&&value<length3}function isKeyable2(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}function isMasked2(func){return!!maskSrcKey2&&maskSrcKey2 in func}function isPrototype2(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto17;return value===proto}function toSource2(func){if(func!=null){try{return funcToString4.call(func)}catch{}try{return func+""}catch{}}return""}function cloneDeep2(value){return baseClone2(value,!0,!0)}function eq2(value,other){return value===other||value!==value&&other!==other}function isArguments2(value){return isArrayLikeObject2(value)&&hasOwnProperty14.call(value,"callee")&&(!propertyIsEnumerable3.call(value,"callee")||objectToString2.call(value)==argsTag5)}var isArray3=Array.isArray;function isArrayLike2(value){return value!=null&&isLength2(value.length)&&!isFunction2(value)}function isArrayLikeObject2(value){return isObjectLike2(value)&&isArrayLike2(value)}var isBuffer2=nativeIsBuffer2||stubFalse2;function isFunction2(value){var tag=isObject2(value)?objectToString2.call(value):"";return tag==funcTag4||tag==genTag3}function isLength2(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER4}function isObject2(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isObjectLike2(value){return!!value&&typeof value=="object"}function keys3(object){return isArrayLike2(object)?arrayLikeKeys2(object):baseKeys2(object)}function stubArray2(){return[]}function stubFalse2(){return!1}module2.exports=cloneDeep2}});var require_lodash2=__commonJS({"node_modules/lodash.isequal/index.js"(exports2,module2){var LARGE_ARRAY_SIZE2=200,HASH_UNDEFINED4="__lodash_hash_undefined__",COMPARE_PARTIAL_FLAG5=1,COMPARE_UNORDERED_FLAG3=2,MAX_SAFE_INTEGER4=9007199254740991,argsTag5="[object Arguments]",arrayTag4="[object Array]",asyncTag2="[object AsyncFunction]",boolTag5="[object Boolean]",dateTag5="[object Date]",errorTag4="[object Error]",funcTag4="[object Function]",genTag3="[object GeneratorFunction]",mapTag7="[object Map]",numberTag5="[object Number]",nullTag2="[object Null]",objectTag6="[object Object]",promiseTag2="[object Promise]",proxyTag2="[object Proxy]",regexpTag5="[object RegExp]",setTag7="[object Set]",stringTag5="[object String]",symbolTag4="[object Symbol]",undefinedTag2="[object Undefined]",weakMapTag4="[object WeakMap]",arrayBufferTag5="[object ArrayBuffer]",dataViewTag6="[object DataView]",float32Tag4="[object Float32Array]",float64Tag4="[object Float64Array]",int8Tag4="[object Int8Array]",int16Tag4="[object Int16Array]",int32Tag4="[object Int32Array]",uint8Tag4="[object Uint8Array]",uint8ClampedTag4="[object Uint8ClampedArray]",uint16Tag4="[object Uint16Array]",uint32Tag4="[object Uint32Array]",reRegExpChar2=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor2=/^\[object .+?Constructor\]$/,reIsUint2=/^(?:0|[1-9]\d*)$/,typedArrayTags2={};typedArrayTags2[float32Tag4]=typedArrayTags2[float64Tag4]=typedArrayTags2[int8Tag4]=typedArrayTags2[int16Tag4]=typedArrayTags2[int32Tag4]=typedArrayTags2[uint8Tag4]=typedArrayTags2[uint8ClampedTag4]=typedArrayTags2[uint16Tag4]=typedArrayTags2[uint32Tag4]=!0;typedArrayTags2[argsTag5]=typedArrayTags2[arrayTag4]=typedArrayTags2[arrayBufferTag5]=typedArrayTags2[boolTag5]=typedArrayTags2[dataViewTag6]=typedArrayTags2[dateTag5]=typedArrayTags2[errorTag4]=typedArrayTags2[funcTag4]=typedArrayTags2[mapTag7]=typedArrayTags2[numberTag5]=typedArrayTags2[objectTag6]=typedArrayTags2[regexpTag5]=typedArrayTags2[setTag7]=typedArrayTags2[stringTag5]=typedArrayTags2[weakMapTag4]=!1;var freeGlobal2=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf2=typeof self=="object"&&self&&self.Object===Object&&self,root2=freeGlobal2||freeSelf2||Function("return this")(),freeExports4=typeof exports2=="object"&&exports2&&!exports2.nodeType&&exports2,freeModule4=freeExports4&&typeof module2=="object"&&module2&&!module2.nodeType&&module2,moduleExports4=freeModule4&&freeModule4.exports===freeExports4,freeProcess2=moduleExports4&&freeGlobal2.process,nodeUtil2=function(){try{return freeProcess2&&freeProcess2.binding&&freeProcess2.binding("util")}catch{}}(),nodeIsTypedArray2=nodeUtil2&&nodeUtil2.isTypedArray;function arrayFilter2(array,predicate){for(var index=-1,length3=array==null?0:array.length,resIndex=0,result=[];++index<length3;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}function arrayPush2(array,values){for(var index=-1,length3=values.length,offset=array.length;++index<length3;)array[offset+index]=values[index];return array}function arraySome2(array,predicate){for(var index=-1,length3=array==null?0:array.length;++index<length3;)if(predicate(array[index],index,array))return!0;return!1}function baseTimes2(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseUnary2(func){return function(value){return func(value)}}function cacheHas2(cache,key){return cache.has(key)}function getValue2(object,key){return object?.[key]}function mapToArray2(map2){var index=-1,result=Array(map2.size);return map2.forEach(function(value,key){result[++index]=[key,value]}),result}function overArg2(func,transform){return function(arg){return func(transform(arg))}}function setToArray2(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}var arrayProto2=Array.prototype,funcProto4=Function.prototype,objectProto17=Object.prototype,coreJsData2=root2["__core-js_shared__"],funcToString4=funcProto4.toString,hasOwnProperty14=objectProto17.hasOwnProperty,maskSrcKey2=function(){var uid=/[^.]+$/.exec(coreJsData2&&coreJsData2.keys&&coreJsData2.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),nativeObjectToString3=objectProto17.toString,reIsNative2=RegExp("^"+funcToString4.call(hasOwnProperty14).replace(reRegExpChar2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer4=moduleExports4?root2.Buffer:void 0,Symbol3=root2.Symbol,Uint8Array3=root2.Uint8Array,propertyIsEnumerable3=objectProto17.propertyIsEnumerable,splice2=arrayProto2.splice,symToStringTag3=Symbol3?Symbol3.toStringTag:void 0,nativeGetSymbols3=Object.getOwnPropertySymbols,nativeIsBuffer2=Buffer4?Buffer4.isBuffer:void 0,nativeKeys2=overArg2(Object.keys,Object),DataView3=getNative2(root2,"DataView"),Map3=getNative2(root2,"Map"),Promise3=getNative2(root2,"Promise"),Set3=getNative2(root2,"Set"),WeakMap3=getNative2(root2,"WeakMap"),nativeCreate2=getNative2(Object,"create"),dataViewCtorString2=toSource2(DataView3),mapCtorString2=toSource2(Map3),promiseCtorString2=toSource2(Promise3),setCtorString2=toSource2(Set3),weakMapCtorString2=toSource2(WeakMap3),symbolProto3=Symbol3?Symbol3.prototype:void 0,symbolValueOf3=symbolProto3?symbolProto3.valueOf:void 0;function Hash2(entries){var index=-1,length3=entries==null?0:entries.length;for(this.clear();++index<length3;){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear2(){this.__data__=nativeCreate2?nativeCreate2(null):{},this.size=0}function hashDelete2(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}function hashGet2(key){var data=this.__data__;if(nativeCreate2){var result=data[key];return result===HASH_UNDEFINED4?void 0:result}return hasOwnProperty14.call(data,key)?data[key]:void 0}function hashHas2(key){var data=this.__data__;return nativeCreate2?data[key]!==void 0:hasOwnProperty14.call(data,key)}function hashSet2(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate2&&value===void 0?HASH_UNDEFINED4:value,this}Hash2.prototype.clear=hashClear2;Hash2.prototype.delete=hashDelete2;Hash2.prototype.get=hashGet2;Hash2.prototype.has=hashHas2;Hash2.prototype.set=hashSet2;function ListCache2(entries){var index=-1,length3=entries==null?0:entries.length;for(this.clear();++index<length3;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear2(){this.__data__=[],this.size=0}function listCacheDelete2(key){var data=this.__data__,index=assocIndexOf2(data,key);if(index<0)return!1;var lastIndex=data.length-1;return index==lastIndex?data.pop():splice2.call(data,index,1),--this.size,!0}function listCacheGet2(key){var data=this.__data__,index=assocIndexOf2(data,key);return index<0?void 0:data[index][1]}function listCacheHas2(key){return assocIndexOf2(this.__data__,key)>-1}function listCacheSet2(key,value){var data=this.__data__,index=assocIndexOf2(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}ListCache2.prototype.clear=listCacheClear2;ListCache2.prototype.delete=listCacheDelete2;ListCache2.prototype.get=listCacheGet2;ListCache2.prototype.has=listCacheHas2;ListCache2.prototype.set=listCacheSet2;function MapCache2(entries){var index=-1,length3=entries==null?0:entries.length;for(this.clear();++index<length3;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear2(){this.size=0,this.__data__={hash:new Hash2,map:new(Map3||ListCache2),string:new Hash2}}function mapCacheDelete2(key){var result=getMapData2(this,key).delete(key);return this.size-=result?1:0,result}function mapCacheGet2(key){return getMapData2(this,key).get(key)}function mapCacheHas2(key){return getMapData2(this,key).has(key)}function mapCacheSet2(key,value){var data=getMapData2(this,key),size2=data.size;return data.set(key,value),this.size+=data.size==size2?0:1,this}MapCache2.prototype.clear=mapCacheClear2;MapCache2.prototype.delete=mapCacheDelete2;MapCache2.prototype.get=mapCacheGet2;MapCache2.prototype.has=mapCacheHas2;MapCache2.prototype.set=mapCacheSet2;function SetCache2(values){var index=-1,length3=values==null?0:values.length;for(this.__data__=new MapCache2;++index<length3;)this.add(values[index])}function setCacheAdd2(value){return this.__data__.set(value,HASH_UNDEFINED4),this}function setCacheHas2(value){return this.__data__.has(value)}SetCache2.prototype.add=SetCache2.prototype.push=setCacheAdd2;SetCache2.prototype.has=setCacheHas2;function Stack2(entries){var data=this.__data__=new ListCache2(entries);this.size=data.size}function stackClear2(){this.__data__=new ListCache2,this.size=0}function stackDelete2(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}function stackGet2(key){return this.__data__.get(key)}function stackHas2(key){return this.__data__.has(key)}function stackSet2(key,value){var data=this.__data__;if(data instanceof ListCache2){var pairs=data.__data__;if(!Map3||pairs.length<LARGE_ARRAY_SIZE2-1)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache2(pairs)}return data.set(key,value),this.size=data.size,this}Stack2.prototype.clear=stackClear2;Stack2.prototype.delete=stackDelete2;Stack2.prototype.get=stackGet2;Stack2.prototype.has=stackHas2;Stack2.prototype.set=stackSet2;function arrayLikeKeys2(value,inherited){var isArr=isArray3(value),isArg=!isArr&&isArguments2(value),isBuff=!isArr&&!isArg&&isBuffer2(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray2(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes2(value.length,String):[],length3=result.length;for(var key in value)(inherited||hasOwnProperty14.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex2(key,length3)))&&result.push(key);return result}function assocIndexOf2(array,key){for(var length3=array.length;length3--;)if(eq2(array[length3][0],key))return length3;return-1}function baseGetAllKeys2(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray3(object)?result:arrayPush2(result,symbolsFunc(object))}function baseGetTag2(value){return value==null?value===void 0?undefinedTag2:nullTag2:symToStringTag3&&symToStringTag3 in Object(value)?getRawTag2(value):objectToString2(value)}function baseIsArguments2(value){return isObjectLike2(value)&&baseGetTag2(value)==argsTag5}function baseIsEqual2(value,other,bitmask,customizer,stack){return value===other?!0:value==null||other==null||!isObjectLike2(value)&&!isObjectLike2(other)?value!==value&&other!==other:baseIsEqualDeep2(value,other,bitmask,customizer,baseIsEqual2,stack)}function baseIsEqualDeep2(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray3(object),othIsArr=isArray3(other),objTag=objIsArr?arrayTag4:getTag2(object),othTag=othIsArr?arrayTag4:getTag2(other);objTag=objTag==argsTag5?objectTag6:objTag,othTag=othTag==argsTag5?objectTag6:othTag;var objIsObj=objTag==objectTag6,othIsObj=othTag==objectTag6,isSameTag=objTag==othTag;if(isSameTag&&isBuffer2(object)){if(!isBuffer2(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack2),objIsArr||isTypedArray2(object)?equalArrays2(object,other,bitmask,customizer,equalFunc,stack):equalByTag2(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG5)){var objIsWrapped=objIsObj&&hasOwnProperty14.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty14.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack2),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return isSameTag?(stack||(stack=new Stack2),equalObjects2(object,other,bitmask,customizer,equalFunc,stack)):!1}function baseIsNative2(value){if(!isObject2(value)||isMasked2(value))return!1;var pattern=isFunction2(value)?reIsNative2:reIsHostCtor2;return pattern.test(toSource2(value))}function baseIsTypedArray2(value){return isObjectLike2(value)&&isLength2(value.length)&&!!typedArrayTags2[baseGetTag2(value)]}function baseKeys2(object){if(!isPrototype2(object))return nativeKeys2(object);var result=[];for(var key in Object(object))hasOwnProperty14.call(object,key)&&key!="constructor"&&result.push(key);return result}function equalArrays2(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG5,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG3?new SetCache2:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(compared!==void 0){if(compared)continue;result=!1;break}if(seen){if(!arraySome2(other,function(othValue2,othIndex){if(!cacheHas2(seen,othIndex)&&(arrValue===othValue2||equalFunc(arrValue,othValue2,bitmask,customizer,stack)))return seen.push(othIndex)})){result=!1;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=!1;break}}return stack.delete(array),stack.delete(other),result}function equalByTag2(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag6:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag5:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array3(object),new Uint8Array3(other)));case boolTag5:case dateTag5:case numberTag5:return eq2(+object,+other);case errorTag4:return object.name==other.name&&object.message==other.message;case regexpTag5:case stringTag5:return object==other+"";case mapTag7:var convert=mapToArray2;case setTag7:var isPartial=bitmask&COMPARE_PARTIAL_FLAG5;if(convert||(convert=setToArray2),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG3,stack.set(object,other);var result=equalArrays2(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag4:if(symbolValueOf3)return symbolValueOf3.call(object)==symbolValueOf3.call(other)}return!1}function equalObjects2(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG5,objProps=getAllKeys2(object),objLength=objProps.length,othProps=getAllKeys2(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty14.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(compared===void 0?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)&&(result=!1)}return stack.delete(object),stack.delete(other),result}function getAllKeys2(object){return baseGetAllKeys2(object,keys3,getSymbols2)}function getMapData2(map2,key){var data=map2.__data__;return isKeyable2(key)?data[typeof key=="string"?"string":"hash"]:data.map}function getNative2(object,key){var value=getValue2(object,key);return baseIsNative2(value)?value:void 0}function getRawTag2(value){var isOwn=hasOwnProperty14.call(value,symToStringTag3),tag=value[symToStringTag3];try{value[symToStringTag3]=void 0;var unmasked=!0}catch{}var result=nativeObjectToString3.call(value);return unmasked&&(isOwn?value[symToStringTag3]=tag:delete value[symToStringTag3]),result}var getSymbols2=nativeGetSymbols3?function(object){return object==null?[]:(object=Object(object),arrayFilter2(nativeGetSymbols3(object),function(symbol){return propertyIsEnumerable3.call(object,symbol)}))}:stubArray2,getTag2=baseGetTag2;(DataView3&&getTag2(new DataView3(new ArrayBuffer(1)))!=dataViewTag6||Map3&&getTag2(new Map3)!=mapTag7||Promise3&&getTag2(Promise3.resolve())!=promiseTag2||Set3&&getTag2(new Set3)!=setTag7||WeakMap3&&getTag2(new WeakMap3)!=weakMapTag4)&&(getTag2=function(value){var result=baseGetTag2(value),Ctor=result==objectTag6?value.constructor:void 0,ctorString=Ctor?toSource2(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString2:return dataViewTag6;case mapCtorString2:return mapTag7;case promiseCtorString2:return promiseTag2;case setCtorString2:return setTag7;case weakMapCtorString2:return weakMapTag4}return result});function isIndex2(value,length3){return length3=length3??MAX_SAFE_INTEGER4,!!length3&&(typeof value=="number"||reIsUint2.test(value))&&value>-1&&value%1==0&&value<length3}function isKeyable2(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}function isMasked2(func){return!!maskSrcKey2&&maskSrcKey2 in func}function isPrototype2(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto17;return value===proto}function objectToString2(value){return nativeObjectToString3.call(value)}function toSource2(func){if(func!=null){try{return funcToString4.call(func)}catch{}try{return func+""}catch{}}return""}function eq2(value,other){return value===other||value!==value&&other!==other}var isArguments2=baseIsArguments2(function(){return arguments}())?baseIsArguments2:function(value){return isObjectLike2(value)&&hasOwnProperty14.call(value,"callee")&&!propertyIsEnumerable3.call(value,"callee")},isArray3=Array.isArray;function isArrayLike2(value){return value!=null&&isLength2(value.length)&&!isFunction2(value)}var isBuffer2=nativeIsBuffer2||stubFalse2;function isEqual3(value,other){return baseIsEqual2(value,other)}function isFunction2(value){if(!isObject2(value))return!1;var tag=baseGetTag2(value);return tag==funcTag4||tag==genTag3||tag==asyncTag2||tag==proxyTag2}function isLength2(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER4}function isObject2(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}function isObjectLike2(value){return value!=null&&typeof value=="object"}var isTypedArray2=nodeIsTypedArray2?baseUnary2(nodeIsTypedArray2):baseIsTypedArray2;function keys3(object){return isArrayLike2(object)?arrayLikeKeys2(object):baseKeys2(object)}function stubArray2(){return[]}function stubFalse2(){return!1}module2.exports=isEqual3}});var require_AttributeMap=__commonJS({"node_modules/quill-delta/dist/AttributeMap.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var cloneDeep2=require_lodash(),isEqual3=require_lodash2(),AttributeMap5;(function(AttributeMap6){function compose(a={},b={},keepNull=!1){typeof a!="object"&&(a={}),typeof b!="object"&&(b={});let attributes=cloneDeep2(b);keepNull||(attributes=Object.keys(attributes).reduce((copy2,key)=>(attributes[key]!=null&&(copy2[key]=attributes[key]),copy2),{}));for(let key in a)a[key]!==void 0&&b[key]===void 0&&(attributes[key]=a[key]);return Object.keys(attributes).length>0?attributes:void 0}AttributeMap6.compose=compose;function diff(a={},b={}){typeof a!="object"&&(a={}),typeof b!="object"&&(b={});let attributes=Object.keys(a).concat(Object.keys(b)).reduce((attrs,key)=>(isEqual3(a[key],b[key])||(attrs[key]=b[key]===void 0?null:b[key]),attrs),{});return Object.keys(attributes).length>0?attributes:void 0}AttributeMap6.diff=diff;function invert(attr={},base={}){attr=attr||{};let baseInverted=Object.keys(base).reduce((memo,key)=>(base[key]!==attr[key]&&attr[key]!==void 0&&(memo[key]=base[key]),memo),{});return Object.keys(attr).reduce((memo,key)=>(attr[key]!==base[key]&&base[key]===void 0&&(memo[key]=null),memo),baseInverted)}AttributeMap6.invert=invert;function transform(a,b,priority=!1){if(typeof a!="object")return b;if(typeof b!="object")return;if(!priority)return b;let attributes=Object.keys(b).reduce((attrs,key)=>(a[key]===void 0&&(attrs[key]=b[key]),attrs),{});return Object.keys(attributes).length>0?attributes:void 0}AttributeMap6.transform=transform})(AttributeMap5||(AttributeMap5={}));exports2.default=AttributeMap5}});var require_Op=__commonJS({"node_modules/quill-delta/dist/Op.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var Op4;(function(Op5){function length3(op){return typeof op.delete=="number"?op.delete:typeof op.retain=="number"?op.retain:typeof op.retain=="object"&&op.retain!==null?1:typeof op.insert=="string"?op.insert.length:1}Op5.length=length3})(Op4||(Op4={}));exports2.default=Op4}});var require_OpIterator=__commonJS({"node_modules/quill-delta/dist/OpIterator.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var Op_1=require_Op(),Iterator=class{constructor(ops){this.ops=ops,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(length3){length3||(length3=1/0);let nextOp=this.ops[this.index];if(nextOp){let offset=this.offset,opLength=Op_1.default.length(nextOp);if(length3>=opLength-offset?(length3=opLength-offset,this.index+=1,this.offset=0):this.offset+=length3,typeof nextOp.delete=="number")return{delete:length3};{let retOp={};return nextOp.attributes&&(retOp.attributes=nextOp.attributes),typeof nextOp.retain=="number"?retOp.retain=length3:typeof nextOp.retain=="object"&&nextOp.retain!==null?retOp.retain=nextOp.retain:typeof nextOp.insert=="string"?retOp.insert=nextOp.insert.substr(offset,length3):retOp.insert=nextOp.insert,retOp}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?Op_1.default.length(this.ops[this.index])-this.offset:1/0}peekType(){let op=this.ops[this.index];return op?typeof op.delete=="number"?"delete":typeof op.retain=="number"||typeof op.retain=="object"&&op.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{let offset=this.offset,index=this.index,next=this.next(),rest=this.ops.slice(this.index);return this.offset=offset,this.index=index,[next].concat(rest)}}else return[]}};exports2.default=Iterator}});var require_Delta=__commonJS({"node_modules/quill-delta/dist/Delta.js"(exports2,module2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.AttributeMap=exports2.OpIterator=exports2.Op=void 0;var diff=require_diff(),cloneDeep2=require_lodash(),isEqual3=require_lodash2(),AttributeMap_1=require_AttributeMap();exports2.AttributeMap=AttributeMap_1.default;var Op_1=require_Op();exports2.Op=Op_1.default;var OpIterator_1=require_OpIterator();exports2.OpIterator=OpIterator_1.default;var NULL_CHARACTER="\0",getEmbedTypeAndData=(a,b)=>{if(typeof a!="object"||a===null)throw new Error(`cannot retain a ${typeof a}`);if(typeof b!="object"||b===null)throw new Error(`cannot retain a ${typeof b}`);let embedType=Object.keys(a)[0];if(!embedType||embedType!==Object.keys(b)[0])throw new Error(`embed types not matched: ${embedType} != ${Object.keys(b)[0]}`);return[embedType,a[embedType],b[embedType]]},Delta13=class _Delta{constructor(ops){Array.isArray(ops)?this.ops=ops:ops!=null&&Array.isArray(ops.ops)?this.ops=ops.ops:this.ops=[]}static registerEmbed(embedType,handler){this.handlers[embedType]=handler}static unregisterEmbed(embedType){delete this.handlers[embedType]}static getHandler(embedType){let handler=this.handlers[embedType];if(!handler)throw new Error(`no handlers for embed type "${embedType}"`);return handler}insert(arg,attributes){let newOp={};return typeof arg=="string"&&arg.length===0?this:(newOp.insert=arg,attributes!=null&&typeof attributes=="object"&&Object.keys(attributes).length>0&&(newOp.attributes=attributes),this.push(newOp))}delete(length3){return length3<=0?this:this.push({delete:length3})}retain(length3,attributes){if(typeof length3=="number"&&length3<=0)return this;let newOp={retain:length3};return attributes!=null&&typeof attributes=="object"&&Object.keys(attributes).length>0&&(newOp.attributes=attributes),this.push(newOp)}push(newOp){let index=this.ops.length,lastOp=this.ops[index-1];if(newOp=cloneDeep2(newOp),typeof lastOp=="object"){if(typeof newOp.delete=="number"&&typeof lastOp.delete=="number")return this.ops[index-1]={delete:lastOp.delete+newOp.delete},this;if(typeof lastOp.delete=="number"&&newOp.insert!=null&&(index-=1,lastOp=this.ops[index-1],typeof lastOp!="object"))return this.ops.unshift(newOp),this;if(isEqual3(newOp.attributes,lastOp.attributes)){if(typeof newOp.insert=="string"&&typeof lastOp.insert=="string")return this.ops[index-1]={insert:lastOp.insert+newOp.insert},typeof newOp.attributes=="object"&&(this.ops[index-1].attributes=newOp.attributes),this;if(typeof newOp.retain=="number"&&typeof lastOp.retain=="number")return this.ops[index-1]={retain:lastOp.retain+newOp.retain},typeof newOp.attributes=="object"&&(this.ops[index-1].attributes=newOp.attributes),this}}return index===this.ops.length?this.ops.push(newOp):this.ops.splice(index,0,newOp),this}chop(){let lastOp=this.ops[this.ops.length-1];return lastOp&&typeof lastOp.retain=="number"&&!lastOp.attributes&&this.ops.pop(),this}filter(predicate){return this.ops.filter(predicate)}forEach(predicate){this.ops.forEach(predicate)}map(predicate){return this.ops.map(predicate)}partition(predicate){let passed=[],failed=[];return this.forEach(op=>{(predicate(op)?passed:failed).push(op)}),[passed,failed]}reduce(predicate,initialValue){return this.ops.reduce(predicate,initialValue)}changeLength(){return this.reduce((length3,elem)=>elem.insert?length3+Op_1.default.length(elem):elem.delete?length3-elem.delete:length3,0)}length(){return this.reduce((length3,elem)=>length3+Op_1.default.length(elem),0)}slice(start=0,end=1/0){let ops=[],iter=new OpIterator_1.default(this.ops),index=0;for(;index<end&&iter.hasNext();){let nextOp;index<start?nextOp=iter.next(start-index):(nextOp=iter.next(end-index),ops.push(nextOp)),index+=Op_1.default.length(nextOp)}return new _Delta(ops)}compose(other){let thisIter=new OpIterator_1.default(this.ops),otherIter=new OpIterator_1.default(other.ops),ops=[],firstOther=otherIter.peek();if(firstOther!=null&&typeof firstOther.retain=="number"&&firstOther.attributes==null){let firstLeft=firstOther.retain;for(;thisIter.peekType()==="insert"&&thisIter.peekLength()<=firstLeft;)firstLeft-=thisIter.peekLength(),ops.push(thisIter.next());firstOther.retain-firstLeft>0&&otherIter.next(firstOther.retain-firstLeft)}let delta=new _Delta(ops);for(;thisIter.hasNext()||otherIter.hasNext();)if(otherIter.peekType()==="insert")delta.push(otherIter.next());else if(thisIter.peekType()==="delete")delta.push(thisIter.next());else{let length3=Math.min(thisIter.peekLength(),otherIter.peekLength()),thisOp=thisIter.next(length3),otherOp=otherIter.next(length3);if(otherOp.retain){let newOp={};if(typeof thisOp.retain=="number")newOp.retain=typeof otherOp.retain=="number"?length3:otherOp.retain;else if(typeof otherOp.retain=="number")thisOp.retain==null?newOp.insert=thisOp.insert:newOp.retain=thisOp.retain;else{let action=thisOp.retain==null?"insert":"retain",[embedType,thisData,otherData]=getEmbedTypeAndData(thisOp[action],otherOp.retain),handler=_Delta.getHandler(embedType);newOp[action]={[embedType]:handler.compose(thisData,otherData,action==="retain")}}let attributes=AttributeMap_1.default.compose(thisOp.attributes,otherOp.attributes,typeof thisOp.retain=="number");if(attributes&&(newOp.attributes=attributes),delta.push(newOp),!otherIter.hasNext()&&isEqual3(delta.ops[delta.ops.length-1],newOp)){let rest=new _Delta(thisIter.rest());return delta.concat(rest).chop()}}else typeof otherOp.delete=="number"&&(typeof thisOp.retain=="number"||typeof thisOp.retain=="object"&&thisOp.retain!==null)&&delta.push(otherOp)}return delta.chop()}concat(other){let delta=new _Delta(this.ops.slice());return other.ops.length>0&&(delta.push(other.ops[0]),delta.ops=delta.ops.concat(other.ops.slice(1))),delta}diff(other,cursor){if(this.ops===other.ops)return new _Delta;let strings=[this,other].map(delta=>delta.map(op=>{if(op.insert!=null)return typeof op.insert=="string"?op.insert:NULL_CHARACTER;let prep=delta===other?"on":"with";throw new Error("diff() called "+prep+" non-document")}).join("")),retDelta=new _Delta,diffResult=diff(strings[0],strings[1],cursor,!0),thisIter=new OpIterator_1.default(this.ops),otherIter=new OpIterator_1.default(other.ops);return diffResult.forEach(component=>{let length3=component[1].length;for(;length3>0;){let opLength=0;switch(component[0]){case diff.INSERT:opLength=Math.min(otherIter.peekLength(),length3),retDelta.push(otherIter.next(opLength));break;case diff.DELETE:opLength=Math.min(length3,thisIter.peekLength()),thisIter.next(opLength),retDelta.delete(opLength);break;case diff.EQUAL:opLength=Math.min(thisIter.peekLength(),otherIter.peekLength(),length3);let thisOp=thisIter.next(opLength),otherOp=otherIter.next(opLength);isEqual3(thisOp.insert,otherOp.insert)?retDelta.retain(opLength,AttributeMap_1.default.diff(thisOp.attributes,otherOp.attributes)):retDelta.push(otherOp).delete(opLength);break}length3-=opLength}}),retDelta.chop()}eachLine(predicate,newline=`
`){let iter=new OpIterator_1.default(this.ops),line=new _Delta,i=0;for(;iter.hasNext();){if(iter.peekType()!=="insert")return;let thisOp=iter.peek(),start=Op_1.default.length(thisOp)-iter.peekLength(),index=typeof thisOp.insert=="string"?thisOp.insert.indexOf(newline,start)-start:-1;if(index<0)line.push(iter.next());else if(index>0)line.push(iter.next(index));else{if(predicate(line,iter.next(1).attributes||{},i)===!1)return;i+=1,line=new _Delta}}line.length()>0&&predicate(line,{},i)}invert(base){let inverted=new _Delta;return this.reduce((baseIndex,op)=>{if(op.insert)inverted.delete(Op_1.default.length(op));else{if(typeof op.retain=="number"&&op.attributes==null)return inverted.retain(op.retain),baseIndex+op.retain;if(op.delete||typeof op.retain=="number"){let length3=op.delete||op.retain;return base.slice(baseIndex,baseIndex+length3).forEach(baseOp=>{op.delete?inverted.push(baseOp):op.retain&&op.attributes&&inverted.retain(Op_1.default.length(baseOp),AttributeMap_1.default.invert(op.attributes,baseOp.attributes))}),baseIndex+length3}else if(typeof op.retain=="object"&&op.retain!==null){let slice=base.slice(baseIndex,baseIndex+1),baseOp=new OpIterator_1.default(slice.ops).next(),[embedType,opData,baseOpData]=getEmbedTypeAndData(op.retain,baseOp.insert),handler=_Delta.getHandler(embedType);return inverted.retain({[embedType]:handler.invert(opData,baseOpData)},AttributeMap_1.default.invert(op.attributes,baseOp.attributes)),baseIndex+1}}return baseIndex},0),inverted.chop()}transform(arg,priority=!1){if(priority=!!priority,typeof arg=="number")return this.transformPosition(arg,priority);let other=arg,thisIter=new OpIterator_1.default(this.ops),otherIter=new OpIterator_1.default(other.ops),delta=new _Delta;for(;thisIter.hasNext()||otherIter.hasNext();)if(thisIter.peekType()==="insert"&&(priority||otherIter.peekType()!=="insert"))delta.retain(Op_1.default.length(thisIter.next()));else if(otherIter.peekType()==="insert")delta.push(otherIter.next());else{let length3=Math.min(thisIter.peekLength(),otherIter.peekLength()),thisOp=thisIter.next(length3),otherOp=otherIter.next(length3);if(thisOp.delete)continue;if(otherOp.delete)delta.push(otherOp);else{let thisData=thisOp.retain,otherData=otherOp.retain,transformedData=typeof otherData=="object"&&otherData!==null?otherData:length3;if(typeof thisData=="object"&&thisData!==null&&typeof otherData=="object"&&otherData!==null){let embedType=Object.keys(thisData)[0];if(embedType===Object.keys(otherData)[0]){let handler=_Delta.getHandler(embedType);handler&&(transformedData={[embedType]:handler.transform(thisData[embedType],otherData[embedType],priority)})}}delta.retain(transformedData,AttributeMap_1.default.transform(thisOp.attributes,otherOp.attributes,priority))}}return delta.chop()}transformPosition(index,priority=!1){priority=!!priority;let thisIter=new OpIterator_1.default(this.ops),offset=0;for(;thisIter.hasNext()&&offset<=index;){let length3=thisIter.peekLength(),nextType=thisIter.peekType();if(thisIter.next(),nextType==="delete"){index-=Math.min(length3,index-offset);continue}else nextType==="insert"&&(offset<index||!priority)&&(index+=length3);offset+=length3}return index}};Delta13.Op=Op_1.default;Delta13.OpIterator=OpIterator_1.default;Delta13.AttributeMap=AttributeMap_1.default;Delta13.handlers={};exports2.default=Delta13;typeof module2=="object"&&(module2.exports=Delta13,module2.exports.default=Delta13)}});var Break,break_default,init_break=__esm({"node_modules/quill/blots/break.js"(){init_parchment();Break=class extends EmbedBlot$1{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}};Break.blotName="break";Break.tagName="BR";break_default=Break}});function escapeText(text2){return text2.replace(/[&<>"']/g,s=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[s])}var Text2,init_text=__esm({"node_modules/quill/blots/text.js"(){init_parchment();Text2=class extends TextBlot$1{}}});var Inline,inline_default,init_inline=__esm({"node_modules/quill/blots/inline.js"(){init_parchment();init_break();init_text();Inline=class _Inline extends InlineBlot$1{static allowedChildren=[_Inline,break_default,EmbedBlot$1,Text2];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(self2,other){let selfIndex=_Inline.order.indexOf(self2),otherIndex=_Inline.order.indexOf(other);return selfIndex>=0||otherIndex>=0?selfIndex-otherIndex:self2===other?0:self2<other?-1:1}formatAt(index,length3,name,value){if(_Inline.compare(this.statics.blotName,name)<0&&this.scroll.query(name,Scope.BLOT)){let blot=this.isolate(index,length3);value&&blot.wrap(name,value)}else super.formatAt(index,length3,name,value)}optimize(context){if(super.optimize(context),this.parent instanceof _Inline&&_Inline.compare(this.statics.blotName,this.parent.statics.blotName)>0){let parent=this.parent.isolate(this.offset(),this.length());this.moveChildren(parent),parent.wrap(this)}}},inline_default=Inline}});function blockDelta(blot){let filter=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return blot.descendants(LeafBlot$1).reduce((delta,leaf)=>leaf.length()===0?delta:delta.insert(leaf.value(),bubbleFormats(leaf,{},filter)),new import_quill_delta.default).insert(`
`,bubbleFormats(blot))}function bubbleFormats(blot){let formats=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},filter=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return blot==null||("formats"in blot&&typeof blot.formats=="function"&&(formats={...formats,...blot.formats()},filter&&delete formats["code-token"]),blot.parent==null||blot.parent.statics.blotName==="scroll"||blot.parent.statics.scope!==blot.statics.scope)?formats:bubbleFormats(blot.parent,formats,filter)}var import_quill_delta,NEWLINE_LENGTH,Block,BlockEmbed,init_block=__esm({"node_modules/quill/blots/block.js"(){init_parchment();import_quill_delta=__toESM(require_Delta(),1);init_break();init_inline();init_text();NEWLINE_LENGTH=1,Block=class extends BlockBlot$1{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=blockDelta(this)),this.cache.delta}deleteAt(index,length3){super.deleteAt(index,length3),this.cache={}}formatAt(index,length3,name,value){length3<=0||(this.scroll.query(name,Scope.BLOCK)?index+length3===this.length()&&this.format(name,value):super.formatAt(index,Math.min(length3,this.length()-index-1),name,value),this.cache={})}insertAt(index,value,def){if(def!=null){super.insertAt(index,value,def),this.cache={};return}if(value.length===0)return;let lines=value.split(`
`),text2=lines.shift();text2.length>0&&(index<this.length()-1||this.children.tail==null?super.insertAt(Math.min(index,this.length()-1),text2):this.children.tail.insertAt(this.children.tail.length(),text2),this.cache={});let block=this;lines.reduce((lineIndex,line)=>(block=block.split(lineIndex,!0),block.insertAt(0,line),line.length),index+text2.length)}insertBefore(blot,ref){let{head}=this.children;super.insertBefore(blot,ref),head instanceof break_default&&head.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+NEWLINE_LENGTH),this.cache.length}moveChildren(target,ref){super.moveChildren(target,ref),this.cache={}}optimize(context){super.optimize(context),this.cache={}}path(index){return super.path(index,!0)}removeChild(child){super.removeChild(child),this.cache={}}split(index){let force=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(force&&(index===0||index>=this.length()-NEWLINE_LENGTH)){let clone=this.clone();return index===0?(this.parent.insertBefore(clone,this),this):(this.parent.insertBefore(clone,this.next),clone)}let next=super.split(index,force);return this.cache={},next}};Block.blotName="block";Block.tagName="P";Block.defaultChild=break_default;Block.allowedChildren=[break_default,inline_default,EmbedBlot$1,Text2];BlockEmbed=class extends EmbedBlot$1{attach(){super.attach(),this.attributes=new AttributorStore$1(this.domNode)}delta(){return new import_quill_delta.default().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(name,value){let attribute=this.scroll.query(name,Scope.BLOCK_ATTRIBUTE);attribute!=null&&this.attributes.attribute(attribute,value)}formatAt(index,length3,name,value){this.format(name,value)}insertAt(index,value,def){if(def!=null){super.insertAt(index,value,def);return}let lines=value.split(`
`),text2=lines.pop(),blocks=lines.map(line=>{let block=this.scroll.create(Block.blotName);return block.insertAt(0,line),block}),ref=this.split(index);blocks.forEach(block=>{this.parent.insertBefore(block,ref)}),text2&&this.parent.insertBefore(this.scroll.create("text",text2),ref)}};BlockEmbed.scope=Scope.BLOCK_BLOT}});var Cursor,cursor_default,init_cursor=__esm({"node_modules/quill/blots/cursor.js"(){init_parchment();init_text();Cursor=class _Cursor extends EmbedBlot$1{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(scroll,domNode,selection){super(scroll,domNode),this.selection=selection,this.textNode=document.createTextNode(_Cursor.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(name,value){if(this.savedLength!==0){super.format(name,value);return}let target=this,index=0;for(;target!=null&&target.statics.scope!==Scope.BLOCK_BLOT;)index+=target.offset(target.parent),target=target.parent;target!=null&&(this.savedLength=_Cursor.CONTENTS.length,target.optimize(),target.formatAt(index,_Cursor.CONTENTS.length,name,value),this.savedLength=0)}index(node,offset){return node===this.textNode?0:super.index(node,offset)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;let range=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);let prevTextBlot=this.prev instanceof Text2?this.prev:null,prevTextLength=prevTextBlot?prevTextBlot.length():0,nextTextBlot=this.next instanceof Text2?this.next:null,nextText=nextTextBlot?nextTextBlot.text:"",{textNode}=this,newText=textNode.data.split(_Cursor.CONTENTS).join("");textNode.data=_Cursor.CONTENTS;let mergedTextBlot;if(prevTextBlot)mergedTextBlot=prevTextBlot,(newText||nextTextBlot)&&(prevTextBlot.insertAt(prevTextBlot.length(),newText+nextText),nextTextBlot&&nextTextBlot.remove());else if(nextTextBlot)mergedTextBlot=nextTextBlot,nextTextBlot.insertAt(0,newText);else{let newTextNode=document.createTextNode(newText);mergedTextBlot=this.scroll.create(newTextNode),this.parent.insertBefore(mergedTextBlot,this)}if(this.remove(),range){let remapOffset=(node,offset)=>prevTextBlot&&node===prevTextBlot.domNode?offset:node===textNode?prevTextLength+offset-1:nextTextBlot&&node===nextTextBlot.domNode?prevTextLength+newText.length+offset:null,start=remapOffset(range.start.node,range.start.offset),end=remapOffset(range.end.node,range.end.offset);if(start!==null&&end!==null)return{startNode:mergedTextBlot.domNode,startOffset:start,endNode:mergedTextBlot.domNode,endOffset:end}}return null}update(mutations,context){if(mutations.some(mutation=>mutation.type==="characterData"&&mutation.target===this.textNode)){let range=this.restore();range&&(context.range=range)}}optimize(context){super.optimize(context);let{parent}=this;for(;parent;){if(parent.domNode.tagName==="A"){this.savedLength=_Cursor.CONTENTS.length,parent.isolate(this.offset(parent),this.length()).unwrap(),this.savedLength=0;break}parent=parent.parent}}value(){return""}},cursor_default=Cursor}});var require_eventemitter3=__commonJS({"node_modules/eventemitter3/index.js"(exports2,module2){"use strict";var has=Object.prototype.hasOwnProperty,prefix="~";function Events(){}Object.create&&(Events.prototype=Object.create(null),new Events().__proto__||(prefix=!1));function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function addListener(emitter,event,fn,context,once){if(typeof fn!="function")throw new TypeError("The listener must be a function");var listener=new EE(fn,context||emitter,once),evt=prefix?prefix+event:event;return emitter._events[evt]?emitter._events[evt].fn?emitter._events[evt]=[emitter._events[evt],listener]:emitter._events[evt].push(listener):(emitter._events[evt]=listener,emitter._eventsCount++),emitter}function clearEvent(emitter,evt){--emitter._eventsCount===0?emitter._events=new Events:delete emitter._events[evt]}function EventEmitter2(){this._events=new Events,this._eventsCount=0}EventEmitter2.prototype.eventNames=function(){var names=[],events,name;if(this._eventsCount===0)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names};EventEmitter2.prototype.listeners=function(event){var evt=prefix?prefix+event:event,handlers=this._events[evt];if(!handlers)return[];if(handlers.fn)return[handlers.fn];for(var i=0,l=handlers.length,ee=new Array(l);i<l;i++)ee[i]=handlers[i].fn;return ee};EventEmitter2.prototype.listenerCount=function(event){var evt=prefix?prefix+event:event,listeners=this._events[evt];return listeners?listeners.fn?1:listeners.length:0};EventEmitter2.prototype.emit=function(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;var listeners=this._events[evt],len=arguments.length,args2,i;if(listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i=1,args2=new Array(len-1);i<len;i++)args2[i-1]=arguments[i];listeners.fn.apply(listeners.context,args2)}else{var length3=listeners.length,j;for(i=0;i<length3;i++)switch(listeners[i].once&&this.removeListener(event,listeners[i].fn,void 0,!0),len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;default:if(!args2)for(j=1,args2=new Array(len-1);j<len;j++)args2[j-1]=arguments[j];listeners[i].fn.apply(listeners[i].context,args2)}}return!0};EventEmitter2.prototype.on=function(event,fn,context){return addListener(this,event,fn,context,!1)};EventEmitter2.prototype.once=function(event,fn,context){return addListener(this,event,fn,context,!0)};EventEmitter2.prototype.removeListener=function(event,fn,context,once){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn)return clearEvent(this,evt),this;var listeners=this._events[evt];if(listeners.fn)listeners.fn===fn&&(!once||listeners.once)&&(!context||listeners.context===context)&&clearEvent(this,evt);else{for(var i=0,events=[],length3=listeners.length;i<length3;i++)(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context)&&events.push(listeners[i]);events.length?this._events[evt]=events.length===1?events[0]:events:clearEvent(this,evt)}return this};EventEmitter2.prototype.removeAllListeners=function(event){var evt;return event?(evt=prefix?prefix+event:event,this._events[evt]&&clearEvent(this,evt)):(this._events=new Events,this._eventsCount=0),this};EventEmitter2.prototype.off=EventEmitter2.prototype.removeListener;EventEmitter2.prototype.addListener=EventEmitter2.prototype.on;EventEmitter2.prefixed=prefix;EventEmitter2.EventEmitter=EventEmitter2;typeof module2<"u"&&(module2.exports=EventEmitter2)}});var import_index,init_eventemitter3=__esm({"node_modules/eventemitter3/index.mjs"(){import_index=__toESM(require_eventemitter3(),1)}});var instances_default,init_instances=__esm({"node_modules/quill/core/instances.js"(){instances_default=new WeakMap}});function debug(method){if(level&&levels.indexOf(method)<=levels.indexOf(level)){for(var _len=arguments.length,args2=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args2[_key-1]=arguments[_key];console[method](...args2)}}function namespace(ns){return levels.reduce((logger,method)=>(logger[method]=debug.bind(console,method,ns),logger),{})}var levels,level,logger_default,init_logger=__esm({"node_modules/quill/core/logger.js"(){levels=["error","warn","log","info"],level="warn";namespace.level=newLevel=>{level=newLevel};debug.level=namespace.level;logger_default=namespace}});var debug2,EVENTS,Emitter,emitter_default,init_emitter=__esm({"node_modules/quill/core/emitter.js"(){init_eventemitter3();init_instances();init_logger();debug2=logger_default("quill:events"),EVENTS=["selectionchange","mousedown","mouseup","click"];EVENTS.forEach(eventName=>{document.addEventListener(eventName,function(){for(var _len=arguments.length,args2=new Array(_len),_key=0;_key<_len;_key++)args2[_key]=arguments[_key];Array.from(document.querySelectorAll(".ql-container")).forEach(node=>{let quill=instances_default.get(node);quill&&quill.emitter&&quill.emitter.handleDOM(...args2)})})});Emitter=class extends import_index.default{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",debug2.error)}emit(){for(var _len2=arguments.length,args2=new Array(_len2),_key2=0;_key2<_len2;_key2++)args2[_key2]=arguments[_key2];return debug2.log.call(debug2,...args2),super.emit(...args2)}handleDOM(event){for(var _len3=arguments.length,args2=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)args2[_key3-1]=arguments[_key3];(this.domListeners[event.type]||[]).forEach(_ref=>{let{node,handler}=_ref;(event.target===node||node.contains(event.target))&&handler(event,...args2)})}listenDOM(eventName,node,handler){this.domListeners[eventName]||(this.domListeners[eventName]=[]),this.domListeners[eventName].push({node,handler})}},emitter_default=Emitter}});function contains(parent,descendant){try{descendant.parentNode}catch{return!1}return parent.contains(descendant)}var debug3,Range,Selection,selection_default,init_selection=__esm({"node_modules/quill/core/selection.js"(){init_parchment();init_lodash();init_emitter();init_logger();debug3=logger_default("quill:selection"),Range=class{constructor(index){let length3=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=index,this.length=length3}},Selection=class{constructor(scroll,emitter){this.emitter=emitter,this.scroll=scroll,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Range(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,emitter_default.sources.USER),1)}),this.emitter.on(emitter_default.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;let native=this.getNativeRange();native!=null&&native.start.node!==this.cursor.textNode&&this.emitter.once(emitter_default.events.SCROLL_UPDATE,(source,mutations)=>{try{this.root.contains(native.start.node)&&this.root.contains(native.end.node)&&this.setNativeRange(native.start.node,native.start.offset,native.end.node,native.end.offset);let triggeredByTyping=mutations.some(mutation=>mutation.type==="characterData"||mutation.type==="childList"||mutation.type==="attributes"&&mutation.target===this.root);this.update(triggeredByTyping?emitter_default.sources.SILENT:source)}catch{}})}),this.emitter.on(emitter_default.events.SCROLL_OPTIMIZE,(mutations,context)=>{if(context.range){let{startNode,startOffset,endNode,endOffset}=context.range;this.setNativeRange(startNode,startOffset,endNode,endOffset),this.update(emitter_default.sources.SILENT)}}),this.update(emitter_default.sources.SILENT)}handleComposition(){this.emitter.on(emitter_default.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(emitter_default.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){let range=this.cursor.restore();if(!range)return;setTimeout(()=>{this.setNativeRange(range.startNode,range.startOffset,range.endNode,range.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(emitter_default.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(format,value){this.scroll.update();let nativeRange=this.getNativeRange();if(!(nativeRange==null||!nativeRange.native.collapsed||this.scroll.query(format,Scope.BLOCK))){if(nativeRange.start.node!==this.cursor.textNode){let blot=this.scroll.find(nativeRange.start.node,!1);if(blot==null)return;if(blot instanceof LeafBlot$1){let after=blot.split(nativeRange.start.offset);blot.parent.insertBefore(this.cursor,after)}else blot.insertBefore(this.cursor,nativeRange.start.node);this.cursor.attach()}this.cursor.format(format,value),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(index){let length3=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,scrollLength=this.scroll.length();index=Math.min(index,scrollLength-1),length3=Math.min(index+length3,scrollLength-1)-index;let node,[leaf,offset]=this.scroll.leaf(index);if(leaf==null)return null;if(length3>0&&offset===leaf.length()){let[next]=this.scroll.leaf(index+1);if(next){let[line]=this.scroll.line(index),[nextLine]=this.scroll.line(index+1);line===nextLine&&(leaf=next,offset=0)}}[node,offset]=leaf.position(offset,!0);let range=document.createRange();if(length3>0)return range.setStart(node,offset),[leaf,offset]=this.scroll.leaf(index+length3),leaf==null?null:([node,offset]=leaf.position(offset,!0),range.setEnd(node,offset),range.getBoundingClientRect());let side="left",rect;if(node instanceof Text){if(!node.data.length)return null;offset<node.data.length?(range.setStart(node,offset),range.setEnd(node,offset+1)):(range.setStart(node,offset-1),range.setEnd(node,offset),side="right"),rect=range.getBoundingClientRect()}else{if(!(leaf.domNode instanceof Element))return null;rect=leaf.domNode.getBoundingClientRect(),offset>0&&(side="right")}return{bottom:rect.top+rect.height,height:rect.height,left:rect[side],right:rect[side],top:rect.top,width:0}}getNativeRange(){let selection=document.getSelection();if(selection==null||selection.rangeCount<=0)return null;let nativeRange=selection.getRangeAt(0);if(nativeRange==null)return null;let range=this.normalizeNative(nativeRange);return debug3.info("getNativeRange",range),range}getRange(){let root2=this.scroll.domNode;if("isConnected"in root2&&!root2.isConnected)return[null,null];let normalized=this.getNativeRange();return normalized==null?[null,null]:[this.normalizedToRange(normalized),normalized]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&contains(this.root,document.activeElement)}normalizedToRange(range){let positions=[[range.start.node,range.start.offset]];range.native.collapsed||positions.push([range.end.node,range.end.offset]);let indexes=positions.map(position=>{let[node,offset]=position,blot=this.scroll.find(node,!0),index=blot.offset(this.scroll);return offset===0?index:blot instanceof LeafBlot$1?index+blot.index(node,offset):index+blot.length()}),end=Math.min(Math.max(...indexes),this.scroll.length()-1),start=Math.min(end,...indexes);return new Range(start,end-start)}normalizeNative(nativeRange){if(!contains(this.root,nativeRange.startContainer)||!nativeRange.collapsed&&!contains(this.root,nativeRange.endContainer))return null;let range={start:{node:nativeRange.startContainer,offset:nativeRange.startOffset},end:{node:nativeRange.endContainer,offset:nativeRange.endOffset},native:nativeRange};return[range.start,range.end].forEach(position=>{let{node,offset}=position;for(;!(node instanceof Text)&&node.childNodes.length>0;)if(node.childNodes.length>offset)node=node.childNodes[offset],offset=0;else if(node.childNodes.length===offset)node=node.lastChild,node instanceof Text?offset=node.data.length:node.childNodes.length>0?offset=node.childNodes.length:offset=node.childNodes.length+1;else break;position.node=node,position.offset=offset}),range}rangeToNative(range){let scrollLength=this.scroll.length(),getPosition=(index,inclusive)=>{index=Math.min(scrollLength-1,index);let[leaf,leafOffset]=this.scroll.leaf(index);return leaf?leaf.position(leafOffset,inclusive):[null,-1]};return[...getPosition(range.index,!1),...getPosition(range.index+range.length,!0)]}setNativeRange(startNode,startOffset){let endNode=arguments.length>2&&arguments[2]!==void 0?arguments[2]:startNode,endOffset=arguments.length>3&&arguments[3]!==void 0?arguments[3]:startOffset,force=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(debug3.info("setNativeRange",startNode,startOffset,endNode,endOffset),startNode!=null&&(this.root.parentNode==null||startNode.parentNode==null||endNode.parentNode==null))return;let selection=document.getSelection();if(selection!=null)if(startNode!=null){this.hasFocus()||this.root.focus({preventScroll:!0});let{native}=this.getNativeRange()||{};if(native==null||force||startNode!==native.startContainer||startOffset!==native.startOffset||endNode!==native.endContainer||endOffset!==native.endOffset){startNode instanceof Element&&startNode.tagName==="BR"&&(startOffset=Array.from(startNode.parentNode.childNodes).indexOf(startNode),startNode=startNode.parentNode),endNode instanceof Element&&endNode.tagName==="BR"&&(endOffset=Array.from(endNode.parentNode.childNodes).indexOf(endNode),endNode=endNode.parentNode);let range=document.createRange();range.setStart(startNode,startOffset),range.setEnd(endNode,endOffset),selection.removeAllRanges(),selection.addRange(range)}}else selection.removeAllRanges(),this.root.blur()}setRange(range){let force=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,source=arguments.length>2&&arguments[2]!==void 0?arguments[2]:emitter_default.sources.API;if(typeof force=="string"&&(source=force,force=!1),debug3.info("setRange",range),range!=null){let args2=this.rangeToNative(range);this.setNativeRange(...args2,force)}else this.setNativeRange(null);this.update(source)}update(){let source=arguments.length>0&&arguments[0]!==void 0?arguments[0]:emitter_default.sources.USER,oldRange=this.lastRange,[lastRange,nativeRange]=this.getRange();if(this.lastRange=lastRange,this.lastNative=nativeRange,this.lastRange!=null&&(this.savedRange=this.lastRange),!isEqual_default(oldRange,this.lastRange)){if(!this.composing&&nativeRange!=null&&nativeRange.native.collapsed&&nativeRange.start.node!==this.cursor.textNode){let range=this.cursor.restore();range&&this.setNativeRange(range.startNode,range.startOffset,range.endNode,range.endOffset)}let args2=[emitter_default.events.SELECTION_CHANGE,cloneDeep_default(this.lastRange),cloneDeep_default(oldRange),source];this.emitter.emit(emitter_default.events.EDITOR_CHANGE,...args2),source!==emitter_default.sources.SILENT&&this.emitter.emit(...args2)}}};selection_default=Selection}});function convertListHTML(items,lastIndent,types){if(items.length===0){let[endTag2]=getListType(types.pop());return lastIndent<=0?`</li></${endTag2}>`:`</li></${endTag2}>${convertListHTML([],lastIndent-1,types)}`}let[{child,offset,length:length3,indent,type},...rest]=items,[tag,attribute]=getListType(type);if(indent>lastIndent)return types.push(type),indent===lastIndent+1?`<${tag}><li${attribute}>${convertHTML(child,offset,length3)}${convertListHTML(rest,indent,types)}`:`<${tag}><li>${convertListHTML(items,lastIndent+1,types)}`;let previousType=types[types.length-1];if(indent===lastIndent&&type===previousType)return`</li><li${attribute}>${convertHTML(child,offset,length3)}${convertListHTML(rest,indent,types)}`;let[endTag]=getListType(types.pop());return`</li></${endTag}>${convertListHTML(items,lastIndent-1,types)}`}function convertHTML(blot,index,length3){let isRoot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in blot&&typeof blot.html=="function")return blot.html(index,length3);if(blot instanceof Text2)return escapeText(blot.value().slice(index,index+length3));if(blot instanceof ParentBlot$1){if(blot.statics.blotName==="list-container"){let items=[];return blot.children.forEachAt(index,length3,(child,offset,childLength)=>{let formats="formats"in child&&typeof child.formats=="function"?child.formats():{};items.push({child,offset,length:childLength,indent:formats.indent||0,type:formats.list})}),convertListHTML(items,-1,[])}let parts=[];if(blot.children.forEachAt(index,length3,(child,offset,childLength)=>{parts.push(convertHTML(child,offset,childLength))}),isRoot||blot.statics.blotName==="list")return parts.join("");let{outerHTML,innerHTML}=blot.domNode,[start,end]=outerHTML.split(`>${innerHTML}<`);return start==="<table"?`<table style="border: 1px solid #000;">${parts.join("")}<${end}`:`${start}>${parts.join("")}<${end}`}return blot.domNode instanceof Element?blot.domNode.outerHTML:""}function combineFormats(formats,combined){return Object.keys(combined).reduce((merged,name)=>{if(formats[name]==null)return merged;let combinedValue=combined[name];return combinedValue===formats[name]?merged[name]=combinedValue:Array.isArray(combinedValue)?combinedValue.indexOf(formats[name])<0?merged[name]=combinedValue.concat([formats[name]]):merged[name]=combinedValue:merged[name]=[combinedValue,formats[name]],merged},{})}function getListType(type){let tag=type==="ordered"?"ol":"ul";switch(type){case"checked":return[tag,' data-list="checked"'];case"unchecked":return[tag,' data-list="unchecked"'];default:return[tag,""]}}function normalizeDelta(delta){return delta.reduce((normalizedDelta,op)=>{if(typeof op.insert=="string"){let text2=op.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return normalizedDelta.insert(text2,op.attributes)}return normalizedDelta.push(op)},new import_quill_delta2.default)}function shiftRange(_ref,amount){let{index,length:length3}=_ref;return new Range(index+amount,length3)}function splitOpLines(ops){let split=[];return ops.forEach(op=>{typeof op.insert=="string"?op.insert.split(`
`).forEach((line,index)=>{index&&split.push({insert:`
`,attributes:op.attributes}),line&&split.push({insert:line,attributes:op.attributes})}):split.push(op)}),split}var import_quill_delta2,ASCII,Editor,editor_default,init_editor=__esm({"node_modules/quill/core/editor.js"(){init_lodash();init_parchment();import_quill_delta2=__toESM(require_Delta(),1);init_block();init_break();init_cursor();init_text();init_selection();ASCII=/^[ -~]*$/,Editor=class{constructor(scroll){this.scroll=scroll,this.delta=this.getDelta()}applyDelta(delta){this.scroll.update();let scrollLength=this.scroll.length();this.scroll.batchStart();let normalizedDelta=normalizeDelta(delta),deleteDelta=new import_quill_delta2.default;return splitOpLines(normalizedDelta.ops.slice()).reduce((index,op)=>{let length3=import_quill_delta2.Op.length(op),attributes=op.attributes||{},isImplicitNewlinePrepended=!1,isImplicitNewlineAppended=!1;if(op.insert!=null){if(deleteDelta.retain(length3),typeof op.insert=="string"){let text2=op.insert;isImplicitNewlineAppended=!text2.endsWith(`
`)&&(scrollLength<=index||!!this.scroll.descendant(BlockEmbed,index)[0]),this.scroll.insertAt(index,text2);let[line,offset]=this.scroll.line(index),formats=merge_default({},bubbleFormats(line));if(line instanceof Block){let[leaf]=line.descendant(LeafBlot$1,offset);leaf&&(formats=merge_default(formats,bubbleFormats(leaf)))}attributes=import_quill_delta2.AttributeMap.diff(formats,attributes)||{}}else if(typeof op.insert=="object"){let key=Object.keys(op.insert)[0];if(key==null)return index;let isInlineEmbed=this.scroll.query(key,Scope.INLINE)!=null;if(isInlineEmbed)(scrollLength<=index||this.scroll.descendant(BlockEmbed,index)[0])&&(isImplicitNewlineAppended=!0);else if(index>0){let[leaf,offset]=this.scroll.descendant(LeafBlot$1,index-1);leaf instanceof Text2?leaf.value()[offset]!==`
`&&(isImplicitNewlinePrepended=!0):leaf instanceof EmbedBlot$1&&leaf.statics.scope===Scope.INLINE_BLOT&&(isImplicitNewlinePrepended=!0)}if(this.scroll.insertAt(index,key,op.insert[key]),isInlineEmbed){let[leaf]=this.scroll.descendant(LeafBlot$1,index);if(leaf){let formats=merge_default({},bubbleFormats(leaf));attributes=import_quill_delta2.AttributeMap.diff(formats,attributes)||{}}}}scrollLength+=length3}else if(deleteDelta.push(op),op.retain!==null&&typeof op.retain=="object"){let key=Object.keys(op.retain)[0];if(key==null)return index;this.scroll.updateEmbedAt(index,key,op.retain[key])}Object.keys(attributes).forEach(name=>{this.scroll.formatAt(index,length3,name,attributes[name])});let prependedLength=isImplicitNewlinePrepended?1:0,addedLength=isImplicitNewlineAppended?1:0;return scrollLength+=prependedLength+addedLength,deleteDelta.retain(prependedLength),deleteDelta.delete(addedLength),index+length3+prependedLength+addedLength},0),deleteDelta.reduce((index,op)=>typeof op.delete=="number"?(this.scroll.deleteAt(index,op.delete),index):index+import_quill_delta2.Op.length(op),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(normalizedDelta)}deleteText(index,length3){return this.scroll.deleteAt(index,length3),this.update(new import_quill_delta2.default().retain(index).delete(length3))}formatLine(index,length3){let formats=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(formats).forEach(format=>{this.scroll.lines(index,Math.max(length3,1)).forEach(line=>{line.format(format,formats[format])})}),this.scroll.optimize();let delta=new import_quill_delta2.default().retain(index).retain(length3,cloneDeep_default(formats));return this.update(delta)}formatText(index,length3){let formats=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(formats).forEach(format=>{this.scroll.formatAt(index,length3,format,formats[format])});let delta=new import_quill_delta2.default().retain(index).retain(length3,cloneDeep_default(formats));return this.update(delta)}getContents(index,length3){return this.delta.slice(index,index+length3)}getDelta(){return this.scroll.lines().reduce((delta,line)=>delta.concat(line.delta()),new import_quill_delta2.default)}getFormat(index){let length3=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,lines=[],leaves=[];length3===0?this.scroll.path(index).forEach(path=>{let[blot]=path;blot instanceof Block?lines.push(blot):blot instanceof LeafBlot$1&&leaves.push(blot)}):(lines=this.scroll.lines(index,length3),leaves=this.scroll.descendants(LeafBlot$1,index,length3));let[lineFormats,leafFormats]=[lines,leaves].map(blots=>{let blot=blots.shift();if(blot==null)return{};let formats=bubbleFormats(blot);for(;Object.keys(formats).length>0;){let blot2=blots.shift();if(blot2==null)return formats;formats=combineFormats(bubbleFormats(blot2),formats)}return formats});return{...lineFormats,...leafFormats}}getHTML(index,length3){let[line,lineOffset]=this.scroll.line(index);if(line){let lineLength=line.length();return line.length()>=lineOffset+length3&&!(lineOffset===0&&length3===lineLength)?convertHTML(line,lineOffset,length3,!0):convertHTML(this.scroll,index,length3,!0)}return""}getText(index,length3){return this.getContents(index,length3).filter(op=>typeof op.insert=="string").map(op=>op.insert).join("")}insertContents(index,contents){let normalizedDelta=normalizeDelta(contents),change=new import_quill_delta2.default().retain(index).concat(normalizedDelta);return this.scroll.insertContents(index,normalizedDelta),this.update(change)}insertEmbed(index,embed,value){return this.scroll.insertAt(index,embed,value),this.update(new import_quill_delta2.default().retain(index).insert({[embed]:value}))}insertText(index,text2){let formats=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return text2=text2.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(index,text2),Object.keys(formats).forEach(format=>{this.scroll.formatAt(index,text2.length,format,formats[format])}),this.update(new import_quill_delta2.default().retain(index).insert(text2,cloneDeep_default(formats)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;let blot=this.scroll.children.head;if(blot?.statics.blotName!==Block.blotName)return!1;let block=blot;return block.children.length>1?!1:block.children.head instanceof break_default}removeFormat(index,length3){let text2=this.getText(index,length3),[line,offset]=this.scroll.line(index+length3),suffixLength=0,suffix=new import_quill_delta2.default;line!=null&&(suffixLength=line.length()-offset,suffix=line.delta().slice(offset,offset+suffixLength-1).insert(`
`));let diff=this.getContents(index,length3+suffixLength).diff(new import_quill_delta2.default().insert(text2).concat(suffix)),delta=new import_quill_delta2.default().retain(index).concat(diff);return this.applyDelta(delta)}update(change){let mutations=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],selectionInfo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,oldDelta=this.delta;if(mutations.length===1&&mutations[0].type==="characterData"&&mutations[0].target.data.match(ASCII)&&this.scroll.find(mutations[0].target)){let textBlot=this.scroll.find(mutations[0].target),formats=bubbleFormats(textBlot),index=textBlot.offset(this.scroll),oldValue=mutations[0].oldValue.replace(cursor_default.CONTENTS,""),oldText=new import_quill_delta2.default().insert(oldValue),newText=new import_quill_delta2.default().insert(textBlot.value()),relativeSelectionInfo=selectionInfo&&{oldRange:shiftRange(selectionInfo.oldRange,-index),newRange:shiftRange(selectionInfo.newRange,-index)};change=new import_quill_delta2.default().retain(index).concat(oldText.diff(newText,relativeSelectionInfo)).reduce((delta,op)=>op.insert?delta.insert(op.insert,formats):delta.push(op),new import_quill_delta2.default),this.delta=oldDelta.compose(change)}else this.delta=this.getDelta(),(!change||!isEqual_default(oldDelta.compose(change),this.delta))&&(change=oldDelta.diff(this.delta,selectionInfo));return change}};editor_default=Editor}});var Module,module_default,init_module=__esm({"node_modules/quill/core/module.js"(){Module=class{static DEFAULTS={};constructor(quill){let options=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=quill,this.options=options}},module_default=Module}});var GUARD_TEXT,Embed,embed_default,init_embed=__esm({"node_modules/quill/blots/embed.js"(){init_parchment();init_text();GUARD_TEXT="\uFEFF",Embed=class extends EmbedBlot$1{constructor(scroll,node){super(scroll,node),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(childNode=>{this.contentNode.appendChild(childNode)}),this.leftGuard=document.createTextNode(GUARD_TEXT),this.rightGuard=document.createTextNode(GUARD_TEXT),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(node,offset){return node===this.leftGuard?0:node===this.rightGuard?1:super.index(node,offset)}restore(node){let range=null,textNode,text2=node.data.split(GUARD_TEXT).join("");if(node===this.leftGuard)if(this.prev instanceof Text2){let prevLength=this.prev.length();this.prev.insertAt(prevLength,text2),range={startNode:this.prev.domNode,startOffset:prevLength+text2.length}}else textNode=document.createTextNode(text2),this.parent.insertBefore(this.scroll.create(textNode),this),range={startNode:textNode,startOffset:text2.length};else node===this.rightGuard&&(this.next instanceof Text2?(this.next.insertAt(0,text2),range={startNode:this.next.domNode,startOffset:text2.length}):(textNode=document.createTextNode(text2),this.parent.insertBefore(this.scroll.create(textNode),this.next),range={startNode:textNode,startOffset:text2.length}));return node.data=GUARD_TEXT,range}update(mutations,context){mutations.forEach(mutation=>{if(mutation.type==="characterData"&&(mutation.target===this.leftGuard||mutation.target===this.rightGuard)){let range=this.restore(mutation.target);range&&(context.range=range)}})}},embed_default=Embed}});var Composition,composition_default,init_composition=__esm({"node_modules/quill/core/composition.js"(){init_embed();init_emitter();Composition=class{isComposing=!1;constructor(scroll,emitter){this.scroll=scroll,this.emitter=emitter,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",event=>{this.isComposing||this.handleCompositionStart(event)}),this.scroll.domNode.addEventListener("compositionend",event=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(event)})})}handleCompositionStart(event){let blot=event.target instanceof Node?this.scroll.find(event.target,!0):null;blot&&!(blot instanceof embed_default)&&(this.emitter.emit(emitter_default.events.COMPOSITION_BEFORE_START,event),this.scroll.batchStart(),this.emitter.emit(emitter_default.events.COMPOSITION_START,event),this.isComposing=!0)}handleCompositionEnd(event){this.emitter.emit(emitter_default.events.COMPOSITION_BEFORE_END,event),this.scroll.batchEnd(),this.emitter.emit(emitter_default.events.COMPOSITION_END,event),this.isComposing=!1}},composition_default=Composition}});var Theme,theme_default,init_theme=__esm({"node_modules/quill/core/theme.js"(){Theme=class _Theme{static DEFAULTS={modules:{}};static themes={default:_Theme};modules={};constructor(quill,options){this.quill=quill,this.options=options}init(){Object.keys(this.options.modules).forEach(name=>{this.modules[name]==null&&this.addModule(name)})}addModule(name){let ModuleClass=this.quill.constructor.import(`modules/${name}`);return this.modules[name]=new ModuleClass(this.quill,this.options.modules[name]||{}),this.modules[name]}},theme_default=Theme}});var getParentElement,getElementRect,paddingValueToInt,getScrollDistance,scrollRectIntoView,scrollRectIntoView_default,init_scrollRectIntoView=__esm({"node_modules/quill/core/utils/scrollRectIntoView.js"(){getParentElement=element2=>element2.parentElement||element2.getRootNode().host||null,getElementRect=element2=>{let rect=element2.getBoundingClientRect(),scaleX="offsetWidth"in element2&&Math.abs(rect.width)/element2.offsetWidth||1,scaleY="offsetHeight"in element2&&Math.abs(rect.height)/element2.offsetHeight||1;return{top:rect.top,right:rect.left+element2.clientWidth*scaleX,bottom:rect.top+element2.clientHeight*scaleY,left:rect.left}},paddingValueToInt=value=>{let number=parseInt(value,10);return Number.isNaN(number)?0:number},getScrollDistance=(targetStart,targetEnd,scrollStart,scrollEnd,scrollPaddingStart,scrollPaddingEnd)=>targetStart<scrollStart&&targetEnd>scrollEnd?0:targetStart<scrollStart?-(scrollStart-targetStart+scrollPaddingStart):targetEnd>scrollEnd?targetEnd-targetStart>scrollEnd-scrollStart?targetStart+scrollPaddingStart-scrollStart:targetEnd-scrollEnd+scrollPaddingEnd:0,scrollRectIntoView=(root2,targetRect)=>{let document2=root2.ownerDocument,rect=targetRect,current=root2;for(;current;){let isDocumentBody=current===document2.body,bounding=isDocumentBody?{top:0,right:window.visualViewport?.width??document2.documentElement.clientWidth,bottom:window.visualViewport?.height??document2.documentElement.clientHeight,left:0}:getElementRect(current),style=getComputedStyle(current),scrollDistanceX=getScrollDistance(rect.left,rect.right,bounding.left,bounding.right,paddingValueToInt(style.scrollPaddingLeft),paddingValueToInt(style.scrollPaddingRight)),scrollDistanceY=getScrollDistance(rect.top,rect.bottom,bounding.top,bounding.bottom,paddingValueToInt(style.scrollPaddingTop),paddingValueToInt(style.scrollPaddingBottom));if(scrollDistanceX||scrollDistanceY)if(isDocumentBody)document2.defaultView?.scrollBy(scrollDistanceX,scrollDistanceY);else{let{scrollLeft,scrollTop}=current;scrollDistanceY&&(current.scrollTop+=scrollDistanceY),scrollDistanceX&&(current.scrollLeft+=scrollDistanceX);let scrolledLeft=current.scrollLeft-scrollLeft,scrolledTop=current.scrollTop-scrollTop;rect={left:rect.left-scrolledLeft,top:rect.top-scrolledTop,right:rect.right-scrolledLeft,bottom:rect.bottom-scrolledTop}}current=isDocumentBody||style.position==="fixed"?null:getParentElement(current)}},scrollRectIntoView_default=scrollRectIntoView}});var MAX_REGISTER_ITERATIONS,CORE_FORMATS,createRegistryWithFormats,createRegistryWithFormats_default,init_createRegistryWithFormats=__esm({"node_modules/quill/core/utils/createRegistryWithFormats.js"(){init_parchment();MAX_REGISTER_ITERATIONS=100,CORE_FORMATS=["block","break","cursor","inline","scroll","text"],createRegistryWithFormats=(formats,sourceRegistry,debug8)=>{let registry=new Registry;return CORE_FORMATS.forEach(name=>{let coreBlot=sourceRegistry.query(name);coreBlot&&registry.register(coreBlot)}),formats.forEach(name=>{let format=sourceRegistry.query(name);format||debug8.error(`Cannot register "${name}" specified in "formats" config. Are you sure it was registered?`);let iterations=0;for(;format;)if(registry.register(format),format="blotName"in format?format.requiredContainer??null:null,iterations+=1,iterations>MAX_REGISTER_ITERATIONS){debug8.error(`Cycle detected in registering blot requiredContainer: "${name}"`);break}}),registry},createRegistryWithFormats_default=createRegistryWithFormats}});function resolveSelector(selector){return typeof selector=="string"?document.querySelector(selector):selector}function expandModuleConfig(config4){return Object.entries(config4??{}).reduce((expanded,_ref)=>{let[key,value]=_ref;return{...expanded,[key]:value===!0?{}:value}},{})}function omitUndefinedValuesFromOptions(obj){return Object.fromEntries(Object.entries(obj).filter(entry=>entry[1]!==void 0))}function expandConfig(containerOrSelector,options){let container=resolveSelector(containerOrSelector);if(!container)throw new Error("Invalid Quill container");let theme=!options.theme||options.theme===Quill.DEFAULTS.theme?theme_default:Quill.import(`themes/${options.theme}`);if(!theme)throw new Error(`Invalid theme ${options.theme}. Did you register it?`);let{modules:quillModuleDefaults,...quillDefaults}=Quill.DEFAULTS,{modules:themeModuleDefaults,...themeDefaults}=theme.DEFAULTS,userModuleOptions=expandModuleConfig(options.modules);userModuleOptions!=null&&userModuleOptions.toolbar&&userModuleOptions.toolbar.constructor!==Object&&(userModuleOptions={...userModuleOptions,toolbar:{container:userModuleOptions.toolbar}});let modules=merge_default({},expandModuleConfig(quillModuleDefaults),expandModuleConfig(themeModuleDefaults),userModuleOptions),config4={...quillDefaults,...omitUndefinedValuesFromOptions(themeDefaults),...omitUndefinedValuesFromOptions(options)},registry=options.registry;return registry?options.formats&&debug4.warn('Ignoring "formats" option because "registry" is specified'):registry=options.formats?createRegistryWithFormats_default(options.formats,config4.registry,debug4):config4.registry,{...config4,registry,container,theme,modules:Object.entries(modules).reduce((modulesWithDefaults,_ref2)=>{let[name,value]=_ref2;if(!value)return modulesWithDefaults;let moduleClass=Quill.import(`modules/${name}`);return moduleClass==null?(debug4.error(`Cannot load ${name} module. Are you sure you registered it?`),modulesWithDefaults):{...modulesWithDefaults,[name]:merge_default({},moduleClass.DEFAULTS||{},value)}},{}),bounds:resolveSelector(config4.bounds)}}function modify(modifier,source,index,shift){if(!this.isEnabled()&&source===emitter_default.sources.USER&&!this.allowReadOnlyEdits)return new import_quill_delta3.default;let range=index==null?null:this.getSelection(),oldDelta=this.editor.delta,change=modifier();if(range!=null&&(index===!0&&(index=range.index),shift==null?range=shiftRange2(range,change,source):shift!==0&&(range=shiftRange2(range,index,shift,source)),this.setSelection(range,emitter_default.sources.SILENT)),change.length()>0){let args2=[emitter_default.events.TEXT_CHANGE,change,oldDelta,source];this.emitter.emit(emitter_default.events.EDITOR_CHANGE,...args2),source!==emitter_default.sources.SILENT&&this.emitter.emit(...args2)}return change}function overload(index,length3,name,value,source){let formats={};return typeof index.index=="number"&&typeof index.length=="number"?typeof length3!="number"?(source=value,value=name,name=length3,length3=index.length,index=index.index):(length3=index.length,index=index.index):typeof length3!="number"&&(source=value,value=name,name=length3,length3=0),typeof name=="object"?(formats=name,source=value):typeof name=="string"&&(value!=null?formats[name]=value:source=name),source=source||emitter_default.sources.API,[index,length3,formats,source]}function shiftRange2(range,index,lengthOrSource,source){let length3=typeof lengthOrSource=="number"?lengthOrSource:0;if(range==null)return null;let start,end;return index&&typeof index.transformPosition=="function"?[start,end]=[range.index,range.index+range.length].map(pos=>index.transformPosition(pos,source!==emitter_default.sources.USER)):[start,end]=[range.index,range.index+range.length].map(pos=>pos<index||pos===index&&source===emitter_default.sources.USER?pos:length3>=0?pos+length3:Math.max(index,pos+length3)),new Range(start,end-start)}var import_quill_delta3,debug4,globalRegistry,Quill,init_quill=__esm({"node_modules/quill/core/quill.js"(){init_lodash();init_parchment();import_quill_delta3=__toESM(require_Delta(),1);init_editor();init_emitter();init_instances();init_logger();init_module();init_selection();init_composition();init_theme();init_scrollRectIntoView();init_createRegistryWithFormats();debug4=logger_default("quill"),globalRegistry=new Registry;ParentBlot$1.uiClass="ql-ui";Quill=class _Quill{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:globalRegistry,theme:"default"};static events=emitter_default.events;static sources=emitter_default.sources;static version="2.0.2";static imports={delta:import_quill_delta3.default,parchment:parchment_exports,"core/module":module_default,"core/theme":theme_default};static debug(limit){limit===!0&&(limit="log"),logger_default.level(limit)}static find(node){let bubble=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return instances_default.get(node)||globalRegistry.find(node,bubble)}static import(name){return this.imports[name]==null&&debug4.error(`Cannot import ${name}. Are you sure it was registered?`),this.imports[name]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){let target=arguments.length<=0?void 0:arguments[0],overwrite=!!(!(arguments.length<=1)&&arguments[1]),name="attrName"in target?target.attrName:target.blotName;typeof name=="string"?this.register(`formats/${name}`,target,overwrite):Object.keys(target).forEach(key=>{this.register(key,target[key],overwrite)})}else{let path=arguments.length<=0?void 0:arguments[0],target=arguments.length<=1?void 0:arguments[1],overwrite=!!(!(arguments.length<=2)&&arguments[2]);this.imports[path]!=null&&!overwrite&&debug4.warn(`Overwriting ${path} with`,target),this.imports[path]=target,(path.startsWith("blots/")||path.startsWith("formats/"))&&target&&typeof target!="boolean"&&target.blotName!=="abstract"&&globalRegistry.register(target),typeof target.register=="function"&&target.register(globalRegistry)}}constructor(container){let options=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=expandConfig(container,options),this.container=this.options.container,this.container==null){debug4.error("Invalid Quill container",container);return}this.options.debug&&_Quill.debug(this.options.debug);let html=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",instances_default.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new emitter_default;let scrollBlotName=ScrollBlot$1.blotName,ScrollBlot2=this.options.registry.query(scrollBlotName);if(!ScrollBlot2||!("blotName"in ScrollBlot2))throw new Error(`Cannot initialize Quill without "${scrollBlotName}" blot`);if(this.scroll=new ScrollBlot2(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new editor_default(this.scroll),this.selection=new selection_default(this.scroll,this.emitter),this.composition=new composition_default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(emitter_default.events.EDITOR_CHANGE,type=>{type===emitter_default.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(emitter_default.events.SCROLL_UPDATE,(source,mutations)=>{let oldRange=this.selection.lastRange,[newRange]=this.selection.getRange(),selectionInfo=oldRange&&newRange?{oldRange,newRange}:void 0;modify.call(this,()=>this.editor.update(null,mutations,selectionInfo),source)}),this.emitter.on(emitter_default.events.SCROLL_EMBED_UPDATE,(blot,delta)=>{let oldRange=this.selection.lastRange,[newRange]=this.selection.getRange(),selectionInfo=oldRange&&newRange?{oldRange,newRange}:void 0;modify.call(this,()=>{let change=new import_quill_delta3.default().retain(blot.offset(this)).retain({[blot.statics.blotName]:delta});return this.editor.update(change,[],selectionInfo)},_Quill.sources.USER)}),html){let contents=this.clipboard.convert({html:`${html}<p><br></p>`,text:`
`});this.setContents(contents)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(container){let refNode=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof container=="string"){let className=container;container=document.createElement("div"),container.classList.add(className)}return this.container.insertBefore(container,refNode),container}blur(){this.selection.setRange(null)}deleteText(index,length3,source){return[index,length3,,source]=overload(index,length3,source),modify.call(this,()=>this.editor.deleteText(index,length3),source,index,-1*length3)}disable(){this.enable(!1)}editReadOnly(modifier){this.allowReadOnlyEdits=!0;let value=modifier();return this.allowReadOnlyEdits=!1,value}enable(){let enabled=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(enabled),this.container.classList.toggle("ql-disabled",!enabled)}focus(){let options=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),options.preventScroll||this.scrollSelectionIntoView()}format(name,value){let source=arguments.length>2&&arguments[2]!==void 0?arguments[2]:emitter_default.sources.API;return modify.call(this,()=>{let range=this.getSelection(!0),change=new import_quill_delta3.default;if(range==null)return change;if(this.scroll.query(name,Scope.BLOCK))change=this.editor.formatLine(range.index,range.length,{[name]:value});else{if(range.length===0)return this.selection.format(name,value),change;change=this.editor.formatText(range.index,range.length,{[name]:value})}return this.setSelection(range,emitter_default.sources.SILENT),change},source)}formatLine(index,length3,name,value,source){let formats;return[index,length3,formats,source]=overload(index,length3,name,value,source),modify.call(this,()=>this.editor.formatLine(index,length3,formats),source,index,0)}formatText(index,length3,name,value,source){let formats;return[index,length3,formats,source]=overload(index,length3,name,value,source),modify.call(this,()=>this.editor.formatText(index,length3,formats),source,index,0)}getBounds(index){let length3=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,bounds=null;if(typeof index=="number"?bounds=this.selection.getBounds(index,length3):bounds=this.selection.getBounds(index.index,index.length),!bounds)return null;let containerBounds=this.container.getBoundingClientRect();return{bottom:bounds.bottom-containerBounds.top,height:bounds.height,left:bounds.left-containerBounds.left,right:bounds.right-containerBounds.left,top:bounds.top-containerBounds.top,width:bounds.width}}getContents(){let index=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,length3=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-index;return[index,length3]=overload(index,length3),this.editor.getContents(index,length3)}getFormat(){let index=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),length3=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof index=="number"?this.editor.getFormat(index,length3):this.editor.getFormat(index.index,index.length)}getIndex(blot){return blot.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(index){return this.scroll.leaf(index)}getLine(index){return this.scroll.line(index)}getLines(){let index=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,length3=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof index!="number"?this.scroll.lines(index.index,index.length):this.scroll.lines(index,length3)}getModule(name){return this.theme.modules[name]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let index=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,length3=arguments.length>1?arguments[1]:void 0;return typeof index=="number"&&(length3=length3??this.getLength()-index),[index,length3]=overload(index,length3),this.editor.getHTML(index,length3)}getText(){let index=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,length3=arguments.length>1?arguments[1]:void 0;return typeof index=="number"&&(length3=length3??this.getLength()-index),[index,length3]=overload(index,length3),this.editor.getText(index,length3)}hasFocus(){return this.selection.hasFocus()}insertEmbed(index,embed,value){let source=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_Quill.sources.API;return modify.call(this,()=>this.editor.insertEmbed(index,embed,value),source,index)}insertText(index,text2,name,value,source){let formats;return[index,,formats,source]=overload(index,0,name,value,source),modify.call(this,()=>this.editor.insertText(index,text2,formats),source,index,text2.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(index,length3,source){return[index,length3,,source]=overload(index,length3,source),modify.call(this,()=>this.editor.removeFormat(index,length3),source,index)}scrollRectIntoView(rect){scrollRectIntoView_default(this.root,rect)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){let range=this.selection.lastRange,bounds=range&&this.selection.getBounds(range.index,range.length);bounds&&this.scrollRectIntoView(bounds)}setContents(delta){let source=arguments.length>1&&arguments[1]!==void 0?arguments[1]:emitter_default.sources.API;return modify.call(this,()=>{delta=new import_quill_delta3.default(delta);let length3=this.getLength(),delete1=this.editor.deleteText(0,length3),applied=this.editor.insertContents(0,delta),delete2=this.editor.deleteText(this.getLength()-1,1);return delete1.compose(applied).compose(delete2)},source)}setSelection(index,length3,source){index==null?this.selection.setRange(null,length3||_Quill.sources.API):([index,length3,,source]=overload(index,length3,source),this.selection.setRange(new Range(Math.max(0,index),length3),source),source!==emitter_default.sources.SILENT&&this.scrollSelectionIntoView())}setText(text2){let source=arguments.length>1&&arguments[1]!==void 0?arguments[1]:emitter_default.sources.API,delta=new import_quill_delta3.default().insert(text2);return this.setContents(delta,source)}update(){let source=arguments.length>0&&arguments[0]!==void 0?arguments[0]:emitter_default.sources.USER,change=this.scroll.update(source);return this.selection.update(source),change}updateContents(delta){let source=arguments.length>1&&arguments[1]!==void 0?arguments[1]:emitter_default.sources.API;return modify.call(this,()=>(delta=new import_quill_delta3.default(delta),this.editor.applyDelta(delta)),source,!0)}}}});var Container,container_default,init_container=__esm({"node_modules/quill/blots/container.js"(){init_parchment();Container=class extends ContainerBlot$1{},container_default=Container}});function isLine(blot){return blot instanceof Block||blot instanceof BlockEmbed}function isUpdatable(blot){return typeof blot.updateContent=="function"}function insertInlineContents(parent,index,inlineContents){inlineContents.reduce((index2,op)=>{let length3=import_quill_delta4.Op.length(op),attributes=op.attributes||{};if(op.insert!=null){if(typeof op.insert=="string"){let text2=op.insert;parent.insertAt(index2,text2);let[leaf]=parent.descendant(LeafBlot$1,index2),formats=bubbleFormats(leaf);attributes=import_quill_delta4.AttributeMap.diff(formats,attributes)||{}}else if(typeof op.insert=="object"){let key=Object.keys(op.insert)[0];if(key==null)return index2;if(parent.insertAt(index2,key,op.insert[key]),parent.scroll.query(key,Scope.INLINE)!=null){let[leaf]=parent.descendant(LeafBlot$1,index2),formats=bubbleFormats(leaf);attributes=import_quill_delta4.AttributeMap.diff(formats,attributes)||{}}}}return Object.keys(attributes).forEach(key=>{parent.formatAt(index2,length3,key,attributes[key])}),index2+length3},index)}var import_quill_delta4,Scroll,scroll_default,init_scroll=__esm({"node_modules/quill/blots/scroll.js"(){init_parchment();import_quill_delta4=__toESM(require_Delta(),1);init_emitter();init_block();init_break();init_container();Scroll=class extends ScrollBlot$1{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Block;static allowedChildren=[Block,BlockEmbed,container_default];constructor(registry,domNode,_ref){let{emitter}=_ref;super(registry,domNode),this.emitter=emitter,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",e=>this.handleDragStart(e))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;let mutations=this.batch;this.batch=!1,this.update(mutations)}emitMount(blot){this.emitter.emit(emitter_default.events.SCROLL_BLOT_MOUNT,blot)}emitUnmount(blot){this.emitter.emit(emitter_default.events.SCROLL_BLOT_UNMOUNT,blot)}emitEmbedUpdate(blot,change){this.emitter.emit(emitter_default.events.SCROLL_EMBED_UPDATE,blot,change)}deleteAt(index,length3){let[first,offset]=this.line(index),[last2]=this.line(index+length3);if(super.deleteAt(index,length3),last2!=null&&first!==last2&&offset>0){if(first instanceof BlockEmbed||last2 instanceof BlockEmbed){this.optimize();return}let ref=last2.children.head instanceof break_default?null:last2.children.head;first.moveChildren(last2,ref),first.remove()}this.optimize()}enable(){let enabled=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",enabled?"true":"false")}formatAt(index,length3,format,value){super.formatAt(index,length3,format,value),this.optimize()}insertAt(index,value,def){if(index>=this.length())if(def==null||this.scroll.query(value,Scope.BLOCK)==null){let blot=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(blot),def==null&&value.endsWith(`
`)?blot.insertAt(0,value.slice(0,-1),def):blot.insertAt(0,value,def)}else{let embed=this.scroll.create(value,def);this.appendChild(embed)}else super.insertAt(index,value,def);this.optimize()}insertBefore(blot,ref){if(blot.statics.scope===Scope.INLINE_BLOT){let wrapper=this.scroll.create(this.statics.defaultChild.blotName);wrapper.appendChild(blot),super.insertBefore(wrapper,ref)}else super.insertBefore(blot,ref)}insertContents(index,delta){let renderBlocks=this.deltaToRenderBlocks(delta.concat(new import_quill_delta4.default().insert(`
`))),last2=renderBlocks.pop();if(last2==null)return;this.batchStart();let first=renderBlocks.shift();if(first){let shouldInsertNewlineChar=first.type==="block"&&(first.delta.length()===0||!this.descendant(BlockEmbed,index)[0]&&index<this.length()),delta2=first.type==="block"?first.delta:new import_quill_delta4.default().insert({[first.key]:first.value});insertInlineContents(this,index,delta2);let newlineCharLength=first.type==="block"?1:0,lineEndIndex=index+delta2.length()+newlineCharLength;shouldInsertNewlineChar&&this.insertAt(lineEndIndex-1,`
`);let formats=bubbleFormats(this.line(index)[0]),attributes=import_quill_delta4.AttributeMap.diff(formats,first.attributes)||{};Object.keys(attributes).forEach(name=>{this.formatAt(lineEndIndex-1,1,name,attributes[name])}),index=lineEndIndex}let[refBlot,refBlotOffset]=this.children.find(index);if(renderBlocks.length&&(refBlot&&(refBlot=refBlot.split(refBlotOffset),refBlotOffset=0),renderBlocks.forEach(renderBlock=>{if(renderBlock.type==="block"){let block=this.createBlock(renderBlock.attributes,refBlot||void 0);insertInlineContents(block,0,renderBlock.delta)}else{let blockEmbed=this.create(renderBlock.key,renderBlock.value);this.insertBefore(blockEmbed,refBlot||void 0),Object.keys(renderBlock.attributes).forEach(name=>{blockEmbed.format(name,renderBlock.attributes[name])})}})),last2.type==="block"&&last2.delta.length()){let offset=refBlot?refBlot.offset(refBlot.scroll)+refBlotOffset:this.length();insertInlineContents(this,offset,last2.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(index){let last2=this.path(index).pop();if(!last2)return[null,-1];let[blot,offset]=last2;return blot instanceof LeafBlot$1?[blot,offset]:[null,-1]}line(index){return index===this.length()?this.line(index-1):this.descendant(isLine,index)}lines(){let index=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,length3=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,getLines=(blot,blotIndex,blotLength)=>{let lines=[],lengthLeft=blotLength;return blot.children.forEachAt(blotIndex,blotLength,(child,childIndex,childLength)=>{isLine(child)?lines.push(child):child instanceof ContainerBlot$1&&(lines=lines.concat(getLines(child,childIndex,lengthLeft))),lengthLeft-=childLength}),lines};return getLines(this,index,length3)}optimize(){let mutations=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],context=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(mutations,context),mutations.length>0&&this.emitter.emit(emitter_default.events.SCROLL_OPTIMIZE,mutations,context))}path(index){return super.path(index).slice(1)}remove(){}update(mutations){if(this.batch){Array.isArray(mutations)&&(this.batch=this.batch.concat(mutations));return}let source=emitter_default.sources.USER;typeof mutations=="string"&&(source=mutations),Array.isArray(mutations)||(mutations=this.observer.takeRecords()),mutations=mutations.filter(_ref2=>{let{target}=_ref2,blot=this.find(target,!0);return blot&&!isUpdatable(blot)}),mutations.length>0&&this.emitter.emit(emitter_default.events.SCROLL_BEFORE_UPDATE,source,mutations),super.update(mutations.concat([])),mutations.length>0&&this.emitter.emit(emitter_default.events.SCROLL_UPDATE,source,mutations)}updateEmbedAt(index,key,change){let[blot]=this.descendant(b=>b instanceof BlockEmbed,index);blot&&blot.statics.blotName===key&&isUpdatable(blot)&&blot.updateContent(change)}handleDragStart(event){event.preventDefault()}deltaToRenderBlocks(delta){let renderBlocks=[],currentBlockDelta=new import_quill_delta4.default;return delta.forEach(op=>{let insert=op?.insert;if(insert)if(typeof insert=="string"){let splitted=insert.split(`
`);splitted.slice(0,-1).forEach(text2=>{currentBlockDelta.insert(text2,op.attributes),renderBlocks.push({type:"block",delta:currentBlockDelta,attributes:op.attributes??{}}),currentBlockDelta=new import_quill_delta4.default});let last2=splitted[splitted.length-1];last2&&currentBlockDelta.insert(last2,op.attributes)}else{let key=Object.keys(insert)[0];if(!key)return;this.query(key,Scope.INLINE)?currentBlockDelta.push(op):(currentBlockDelta.length()&&renderBlocks.push({type:"block",delta:currentBlockDelta,attributes:{}}),currentBlockDelta=new import_quill_delta4.default,renderBlocks.push({type:"blockEmbed",key,value:insert[key],attributes:op.attributes??{}}))}}),currentBlockDelta.length()&&renderBlocks.push({type:"block",delta:currentBlockDelta,attributes:{}}),renderBlocks}createBlock(attributes,refBlot){let blotName,formats={};Object.entries(attributes).forEach(_ref3=>{let[key,value]=_ref3;this.query(key,Scope.BLOCK&Scope.BLOT)!=null?blotName=key:formats[key]=value});let block=this.create(blotName||this.statics.defaultChild.blotName,blotName?attributes[blotName]:void 0);this.insertBefore(block,refBlot||void 0);let length3=block.length();return Object.entries(formats).forEach(_ref4=>{let[key,value]=_ref4;block.formatAt(0,length3,key,value)}),block}};scroll_default=Scroll}});var config,AlignAttribute,AlignClass,AlignStyle,init_align=__esm({"node_modules/quill/formats/align.js"(){init_parchment();config={scope:Scope.BLOCK,whitelist:["right","center","justify"]},AlignAttribute=new Attributor("align","align",config),AlignClass=new ClassAttributor$1("align","ql-align",config),AlignStyle=new StyleAttributor$1("align","text-align",config)}});var ColorAttributor,ColorClass,ColorStyle,init_color=__esm({"node_modules/quill/formats/color.js"(){init_parchment();ColorAttributor=class extends StyleAttributor$1{value(domNode){let value=super.value(domNode);return value.startsWith("rgb(")?(value=value.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${value.split(",").map(component=>`00${parseInt(component,10).toString(16)}`.slice(-2)).join("")}`):value}},ColorClass=new ClassAttributor$1("color","ql-color",{scope:Scope.INLINE}),ColorStyle=new ColorAttributor("color","color",{scope:Scope.INLINE})}});var BackgroundClass,BackgroundStyle,init_background=__esm({"node_modules/quill/formats/background.js"(){init_parchment();init_color();BackgroundClass=new ClassAttributor$1("background","ql-bg",{scope:Scope.INLINE}),BackgroundStyle=new ColorAttributor("background","background-color",{scope:Scope.INLINE})}});var CodeBlockContainer,CodeBlock,Code,init_code=__esm({"node_modules/quill/formats/code.js"(){init_block();init_break();init_cursor();init_inline();init_text();init_container();init_quill();CodeBlockContainer=class extends container_default{static create(value){let domNode=super.create(value);return domNode.setAttribute("spellcheck","false"),domNode}code(index,length3){return this.children.map(child=>child.length()<=1?"":child.domNode.innerText).join(`
`).slice(index,index+length3)}html(index,length3){return`<pre>
${escapeText(this.code(index,length3))}
</pre>`}},CodeBlock=class extends Block{static TAB="  ";static register(){Quill.register(CodeBlockContainer)}},Code=class extends inline_default{};Code.blotName="code";Code.tagName="CODE";CodeBlock.blotName="code-block";CodeBlock.className="ql-code-block";CodeBlock.tagName="DIV";CodeBlockContainer.blotName="code-block-container";CodeBlockContainer.className="ql-code-block-container";CodeBlockContainer.tagName="DIV";CodeBlockContainer.allowedChildren=[CodeBlock];CodeBlock.allowedChildren=[Text2,break_default,cursor_default];CodeBlock.requiredContainer=CodeBlockContainer}});var config2,DirectionAttribute,DirectionClass,DirectionStyle,init_direction=__esm({"node_modules/quill/formats/direction.js"(){init_parchment();config2={scope:Scope.BLOCK,whitelist:["rtl"]},DirectionAttribute=new Attributor("direction","dir",config2),DirectionClass=new ClassAttributor$1("direction","ql-direction",config2),DirectionStyle=new StyleAttributor$1("direction","direction",config2)}});var config3,FontClass,FontStyleAttributor,FontStyle,init_font=__esm({"node_modules/quill/formats/font.js"(){init_parchment();config3={scope:Scope.INLINE,whitelist:["serif","monospace"]},FontClass=new ClassAttributor$1("font","ql-font",config3),FontStyleAttributor=class extends StyleAttributor$1{value(node){return super.value(node).replace(/["']/g,"")}},FontStyle=new FontStyleAttributor("font","font-family",config3)}});var SizeClass,SizeStyle,init_size=__esm({"node_modules/quill/formats/size.js"(){init_parchment();SizeClass=new ClassAttributor$1("size","ql-size",{scope:Scope.INLINE,whitelist:["small","large","huge"]}),SizeStyle=new StyleAttributor$1("size","font-size",{scope:Scope.INLINE,whitelist:["10px","18px","32px"]})}});function makeCodeBlockHandler(indent){return{key:"Tab",shiftKey:!indent,format:{"code-block":!0},handler(range,_ref){let{event}=_ref,CodeBlock2=this.quill.scroll.query("code-block"),{TAB}=CodeBlock2;if(range.length===0&&!event.shiftKey){this.quill.insertText(range.index,TAB,Quill.sources.USER),this.quill.setSelection(range.index+TAB.length,Quill.sources.SILENT);return}let lines=range.length===0?this.quill.getLines(range.index,1):this.quill.getLines(range),{index,length:length3}=range;lines.forEach((line,i)=>{indent?(line.insertAt(0,TAB),i===0?index+=TAB.length:length3+=TAB.length):line.domNode.textContent.startsWith(TAB)&&(line.deleteAt(0,TAB.length),i===0?index-=TAB.length:length3-=TAB.length)}),this.quill.update(Quill.sources.USER),this.quill.setSelection(index,length3,Quill.sources.SILENT)}}}function makeEmbedArrowHandler(key,shiftKey){return{key,shiftKey,altKey:null,[key==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(range){let{index}=range;key==="ArrowRight"&&(index+=range.length+1);let[leaf]=this.quill.getLeaf(index);return leaf instanceof EmbedBlot$1?(key==="ArrowLeft"?shiftKey?this.quill.setSelection(range.index-1,range.length+1,Quill.sources.USER):this.quill.setSelection(range.index-1,Quill.sources.USER):shiftKey?this.quill.setSelection(range.index,range.length+1,Quill.sources.USER):this.quill.setSelection(range.index+range.length+1,Quill.sources.USER),!1):!0}}}function makeFormatHandler(format){return{key:format[0],shortKey:!0,handler(range,context){this.quill.format(format,!context.format[format],Quill.sources.USER)}}}function makeTableArrowHandler(up){return{key:up?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(range,context){let key=up?"prev":"next",cell=context.line,targetRow=cell.parent[key];if(targetRow!=null){if(targetRow.statics.blotName==="table-row"){let targetCell=targetRow.children.head,cur=cell;for(;cur.prev!=null;)cur=cur.prev,targetCell=targetCell.next;let index=targetCell.offset(this.quill.scroll)+Math.min(context.offset,targetCell.length()-1);this.quill.setSelection(index,0,Quill.sources.USER)}}else{let targetLine=cell.table()[key];targetLine!=null&&(up?this.quill.setSelection(targetLine.offset(this.quill.scroll)+targetLine.length()-1,0,Quill.sources.USER):this.quill.setSelection(targetLine.offset(this.quill.scroll),0,Quill.sources.USER))}return!1}}}function normalize(binding){if(typeof binding=="string"||typeof binding=="number")binding={key:binding};else if(typeof binding=="object")binding=cloneDeep_default(binding);else return null;return binding.shortKey&&(binding[SHORTKEY]=binding.shortKey,delete binding.shortKey),binding}function deleteRange(_ref2){let{quill,range}=_ref2,lines=quill.getLines(range),formats={};if(lines.length>1){let firstFormats=lines[0].formats(),lastFormats=lines[lines.length-1].formats();formats=import_quill_delta5.AttributeMap.diff(lastFormats,firstFormats)||{}}quill.deleteText(range,Quill.sources.USER),Object.keys(formats).length>0&&quill.formatLine(range.index,1,formats,Quill.sources.USER),quill.setSelection(range.index,Quill.sources.SILENT)}function tableSide(_table,row,cell,offset){return row.prev==null&&row.next==null?cell.prev==null&&cell.next==null?offset===0?-1:1:cell.prev==null?-1:1:row.prev==null?-1:row.next==null?1:null}var import_quill_delta5,debug5,SHORTKEY,Keyboard,defaultOptions,init_keyboard=__esm({"node_modules/quill/modules/keyboard.js"(){init_lodash();import_quill_delta5=__toESM(require_Delta(),1);init_parchment();init_quill();init_logger();init_module();debug5=logger_default("quill:keyboard"),SHORTKEY=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Keyboard=class _Keyboard extends module_default{static match(evt,binding){return["altKey","ctrlKey","metaKey","shiftKey"].some(key=>!!binding[key]!==evt[key]&&binding[key]!==null)?!1:binding.key===evt.key||binding.key===evt.which}constructor(quill,options){super(quill,options),this.bindings={},Object.keys(this.options.bindings).forEach(name=>{this.options.bindings[name]&&this.addBinding(this.options.bindings[name])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(keyBinding){let context=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},handler=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},binding=normalize(keyBinding);if(binding==null){debug5.warn("Attempted to add invalid keyboard binding",binding);return}typeof context=="function"&&(context={handler:context}),typeof handler=="function"&&(handler={handler}),(Array.isArray(binding.key)?binding.key:[binding.key]).forEach(key=>{let singleBinding={...binding,key,...context,...handler};this.bindings[singleBinding.key]=this.bindings[singleBinding.key]||[],this.bindings[singleBinding.key].push(singleBinding)})}listen(){this.quill.root.addEventListener("keydown",evt=>{if(evt.defaultPrevented||evt.isComposing||evt.keyCode===229&&(evt.key==="Enter"||evt.key==="Backspace"))return;let matches=(this.bindings[evt.key]||[]).concat(this.bindings[evt.which]||[]).filter(binding=>_Keyboard.match(evt,binding));if(matches.length===0)return;let blot=Quill.find(evt.target,!0);if(blot&&blot.scroll!==this.quill.scroll)return;let range=this.quill.getSelection();if(range==null||!this.quill.hasFocus())return;let[line,offset]=this.quill.getLine(range.index),[leafStart,offsetStart]=this.quill.getLeaf(range.index),[leafEnd,offsetEnd]=range.length===0?[leafStart,offsetStart]:this.quill.getLeaf(range.index+range.length),prefixText=leafStart instanceof TextBlot$1?leafStart.value().slice(0,offsetStart):"",suffixText=leafEnd instanceof TextBlot$1?leafEnd.value().slice(offsetEnd):"",curContext={collapsed:range.length===0,empty:range.length===0&&line.length()<=1,format:this.quill.getFormat(range),line,offset,prefix:prefixText,suffix:suffixText,event:evt};matches.some(binding=>{if(binding.collapsed!=null&&binding.collapsed!==curContext.collapsed||binding.empty!=null&&binding.empty!==curContext.empty||binding.offset!=null&&binding.offset!==curContext.offset)return!1;if(Array.isArray(binding.format)){if(binding.format.every(name=>curContext.format[name]==null))return!1}else if(typeof binding.format=="object"&&!Object.keys(binding.format).every(name=>binding.format[name]===!0?curContext.format[name]!=null:binding.format[name]===!1?curContext.format[name]==null:isEqual_default(binding.format[name],curContext.format[name])))return!1;return binding.prefix!=null&&!binding.prefix.test(curContext.prefix)||binding.suffix!=null&&!binding.suffix.test(curContext.suffix)?!1:binding.handler.call(this,range,curContext,binding)!==!0})&&evt.preventDefault()})}handleBackspace(range,context){let length3=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(context.prefix)?2:1;if(range.index===0||this.quill.getLength()<=1)return;let formats={},[line]=this.quill.getLine(range.index),delta=new import_quill_delta5.default().retain(range.index-length3).delete(length3);if(context.offset===0){let[prev]=this.quill.getLine(range.index-1);if(prev&&!(prev.statics.blotName==="block"&&prev.length()<=1)){let curFormats=line.formats(),prevFormats=this.quill.getFormat(range.index-1,1);if(formats=import_quill_delta5.AttributeMap.diff(curFormats,prevFormats)||{},Object.keys(formats).length>0){let formatDelta=new import_quill_delta5.default().retain(range.index+line.length()-2).retain(1,formats);delta=delta.compose(formatDelta)}}}this.quill.updateContents(delta,Quill.sources.USER),this.quill.focus()}handleDelete(range,context){let length3=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(context.suffix)?2:1;if(range.index>=this.quill.getLength()-length3)return;let formats={},[line]=this.quill.getLine(range.index),delta=new import_quill_delta5.default().retain(range.index).delete(length3);if(context.offset>=line.length()-1){let[next]=this.quill.getLine(range.index+1);if(next){let curFormats=line.formats(),nextFormats=this.quill.getFormat(range.index,1);formats=import_quill_delta5.AttributeMap.diff(curFormats,nextFormats)||{},Object.keys(formats).length>0&&(delta=delta.retain(next.length()-1).retain(1,formats))}}this.quill.updateContents(delta,Quill.sources.USER),this.quill.focus()}handleDeleteRange(range){deleteRange({range,quill:this.quill}),this.quill.focus()}handleEnter(range,context){let lineFormats=Object.keys(context.format).reduce((formats,format)=>(this.quill.scroll.query(format,Scope.BLOCK)&&!Array.isArray(context.format[format])&&(formats[format]=context.format[format]),formats),{}),delta=new import_quill_delta5.default().retain(range.index).delete(range.length).insert(`
`,lineFormats);this.quill.updateContents(delta,Quill.sources.USER),this.quill.setSelection(range.index+1,Quill.sources.SILENT),this.quill.focus()}},defaultOptions={bindings:{bold:makeFormatHandler("bold"),italic:makeFormatHandler("italic"),underline:makeFormatHandler("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(range,context){return context.collapsed&&context.offset!==0?!0:(this.quill.format("indent","+1",Quill.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(range,context){return context.collapsed&&context.offset!==0?!0:(this.quill.format("indent","-1",Quill.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(range,context){context.format.indent!=null?this.quill.format("indent","-1",Quill.sources.USER):context.format.list!=null&&this.quill.format("list",!1,Quill.sources.USER)}},"indent code-block":makeCodeBlockHandler(!0),"outdent code-block":makeCodeBlockHandler(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(range){this.quill.deleteText(range.index-1,1,Quill.sources.USER)}},tab:{key:"Tab",handler(range,context){if(context.format.table)return!0;this.quill.history.cutoff();let delta=new import_quill_delta5.default().retain(range.index).delete(range.length).insert("	");return this.quill.updateContents(delta,Quill.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(range.index+1,Quill.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Quill.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(range,context){let formats={list:!1};context.format.indent&&(formats.indent=!1),this.quill.formatLine(range.index,range.length,formats,Quill.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(range){let[line,offset]=this.quill.getLine(range.index),formats={...line.formats(),list:"checked"},delta=new import_quill_delta5.default().retain(range.index).insert(`
`,formats).retain(line.length()-offset-1).retain(1,{list:"unchecked"});this.quill.updateContents(delta,Quill.sources.USER),this.quill.setSelection(range.index+1,Quill.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(range,context){let[line,offset]=this.quill.getLine(range.index),delta=new import_quill_delta5.default().retain(range.index).insert(`
`,context.format).retain(line.length()-offset-1).retain(1,{header:null});this.quill.updateContents(delta,Quill.sources.USER),this.quill.setSelection(range.index+1,Quill.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(range){let module2=this.quill.getModule("table");if(module2){let[table,row,cell,offset]=module2.getTable(range),shift=tableSide(table,row,cell,offset);if(shift==null)return;let index=table.offset();if(shift<0){let delta=new import_quill_delta5.default().retain(index).insert(`
`);this.quill.updateContents(delta,Quill.sources.USER),this.quill.setSelection(range.index+1,range.length,Quill.sources.SILENT)}else if(shift>0){index+=table.length();let delta=new import_quill_delta5.default().retain(index).insert(`
`);this.quill.updateContents(delta,Quill.sources.USER),this.quill.setSelection(index,Quill.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(range,context){let{event,line:cell}=context,offset=cell.offset(this.quill.scroll);event.shiftKey?this.quill.setSelection(offset-1,Quill.sources.USER):this.quill.setSelection(offset+cell.length(),Quill.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(range,context){if(this.quill.scroll.query("list")==null)return!0;let{length:length3}=context.prefix,[line,offset]=this.quill.getLine(range.index);if(offset>length3)return!0;let value;switch(context.prefix.trim()){case"[]":case"[ ]":value="unchecked";break;case"[x]":value="checked";break;case"-":case"*":value="bullet";break;default:value="ordered"}this.quill.insertText(range.index," ",Quill.sources.USER),this.quill.history.cutoff();let delta=new import_quill_delta5.default().retain(range.index-offset).delete(length3+1).retain(line.length()-2-offset).retain(1,{list:value});return this.quill.updateContents(delta,Quill.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(range.index-length3,Quill.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(range){let[line,offset]=this.quill.getLine(range.index),numLines=2,cur=line;for(;cur!=null&&cur.length()<=1&&cur.formats()["code-block"];)if(cur=cur.prev,numLines-=1,numLines<=0){let delta=new import_quill_delta5.default().retain(range.index+line.length()-offset-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(delta,Quill.sources.USER),this.quill.setSelection(range.index-1,Quill.sources.SILENT),!1}return!0}},"embed left":makeEmbedArrowHandler("ArrowLeft",!1),"embed left shift":makeEmbedArrowHandler("ArrowLeft",!0),"embed right":makeEmbedArrowHandler("ArrowRight",!1),"embed right shift":makeEmbedArrowHandler("ArrowRight",!0),"table down":makeTableArrowHandler(!1),"table up":makeTableArrowHandler(!0)}};Keyboard.DEFAULTS=defaultOptions}});function normalize2(doc2){doc2.querySelector('[id^="docs-internal-guid-"]')&&(normalizeFontWeight(doc2),normalizeEmptyLines(doc2))}var normalWeightRegexp,blockTagNames,isBlockElement,normalizeEmptyLines,normalizeFontWeight,init_googleDocs=__esm({"node_modules/quill/modules/normalizeExternalHTML/normalizers/googleDocs.js"(){normalWeightRegexp=/font-weight:\s*normal/,blockTagNames=["P","OL","UL"],isBlockElement=element2=>element2&&blockTagNames.includes(element2.tagName),normalizeEmptyLines=doc2=>{Array.from(doc2.querySelectorAll("br")).filter(br=>isBlockElement(br.previousElementSibling)&&isBlockElement(br.nextElementSibling)).forEach(br=>{br.parentNode?.removeChild(br)})},normalizeFontWeight=doc2=>{Array.from(doc2.querySelectorAll('b[style*="font-weight"]')).filter(node=>node.getAttribute("style")?.match(normalWeightRegexp)).forEach(node=>{let fragment=doc2.createDocumentFragment();fragment.append(...node.childNodes),node.parentNode?.replaceChild(fragment,node)})}}});function normalize3(doc2){doc2.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&normalizeListItem(doc2)}var ignoreRegexp,idRegexp,indentRegexp,parseListItem,normalizeListItem,init_msWord=__esm({"node_modules/quill/modules/normalizeExternalHTML/normalizers/msWord.js"(){ignoreRegexp=/\bmso-list:[^;]*ignore/i,idRegexp=/\bmso-list:[^;]*\bl(\d+)/i,indentRegexp=/\bmso-list:[^;]*\blevel(\d+)/i,parseListItem=(element2,html)=>{let style=element2.getAttribute("style"),idMatch=style?.match(idRegexp);if(!idMatch)return null;let id2=Number(idMatch[1]),indentMatch=style?.match(indentRegexp),indent=indentMatch?Number(indentMatch[1]):1,typeRegexp=new RegExp(`@list l${id2}:level${indent}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),typeMatch=html.match(typeRegexp),type=typeMatch&&typeMatch[1]==="bullet"?"bullet":"ordered";return{id:id2,indent,type,element:element2}},normalizeListItem=doc2=>{let msoList=Array.from(doc2.querySelectorAll("[style*=mso-list]")),ignored=[],others=[];msoList.forEach(node=>{(node.getAttribute("style")||"").match(ignoreRegexp)?ignored.push(node):others.push(node)}),ignored.forEach(node=>node.parentNode?.removeChild(node));let html=doc2.documentElement.innerHTML,listItems=others.map(element2=>parseListItem(element2,html)).filter(parsed=>parsed);for(;listItems.length;){let childListItems=[],current=listItems.shift();for(;current;)childListItems.push(current),current=listItems.length&&listItems[0]?.element===current.element.nextElementSibling&&listItems[0].id===current.id?listItems.shift():null;let ul=document.createElement("ul");childListItems.forEach(listItem=>{let li=document.createElement("li");li.setAttribute("data-list",listItem.type),listItem.indent>1&&li.setAttribute("class",`ql-indent-${listItem.indent-1}`),li.innerHTML=listItem.element.innerHTML,ul.appendChild(li)});let element2=childListItems[0]?.element,{parentNode}=element2??{};element2&&parentNode?.replaceChild(ul,element2),childListItems.slice(1).forEach(_ref=>{let{element:e}=_ref;parentNode?.removeChild(e)})}}}});var NORMALIZERS,normalizeExternalHTML,normalizeExternalHTML_default,init_normalizeExternalHTML=__esm({"node_modules/quill/modules/normalizeExternalHTML/index.js"(){init_googleDocs();init_msWord();NORMALIZERS=[normalize3,normalize2],normalizeExternalHTML=doc2=>{doc2.documentElement&&NORMALIZERS.forEach(normalize4=>{normalize4(doc2)})},normalizeExternalHTML_default=normalizeExternalHTML}});function applyFormat(delta,format,value,scroll){return scroll.query(format)?delta.reduce((newDelta,op)=>{if(!op.insert)return newDelta;if(op.attributes&&op.attributes[format])return newDelta.push(op);let formats=value?{[format]:value}:{};return newDelta.insert(op.insert,{...formats,...op.attributes})},new import_quill_delta6.default):delta}function deltaEndsWith(delta,text2){let endText="";for(let i=delta.ops.length-1;i>=0&&endText.length<text2.length;--i){let op=delta.ops[i];if(typeof op.insert!="string")break;endText=op.insert+endText}return endText.slice(-1*text2.length)===text2}function isLine2(node,scroll){if(!(node instanceof Element))return!1;let match2=scroll.query(node);return match2&&match2.prototype instanceof EmbedBlot$1?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(node.tagName.toLowerCase())}function isBetweenInlineElements(node,scroll){return node.previousElementSibling&&node.nextElementSibling&&!isLine2(node.previousElementSibling,scroll)&&!isLine2(node.nextElementSibling,scroll)}function isPre(node){return node==null?!1:(preNodes.has(node)||(node.tagName==="PRE"?preNodes.set(node,!0):preNodes.set(node,isPre(node.parentNode))),preNodes.get(node))}function traverse(scroll,node,elementMatchers,textMatchers,nodeMatches){return node.nodeType===node.TEXT_NODE?textMatchers.reduce((delta,matcher)=>matcher(node,delta,scroll),new import_quill_delta6.default):node.nodeType===node.ELEMENT_NODE?Array.from(node.childNodes||[]).reduce((delta,childNode)=>{let childrenDelta=traverse(scroll,childNode,elementMatchers,textMatchers,nodeMatches);return childNode.nodeType===node.ELEMENT_NODE&&(childrenDelta=elementMatchers.reduce((reducedDelta,matcher)=>matcher(childNode,reducedDelta,scroll),childrenDelta),childrenDelta=(nodeMatches.get(childNode)||[]).reduce((reducedDelta,matcher)=>matcher(childNode,reducedDelta,scroll),childrenDelta)),delta.concat(childrenDelta)},new import_quill_delta6.default):new import_quill_delta6.default}function createMatchAlias(format){return(_node,delta,scroll)=>applyFormat(delta,format,!0,scroll)}function matchAttributor(node,delta,scroll){let attributes=Attributor.keys(node),classes=ClassAttributor$1.keys(node),styles=StyleAttributor$1.keys(node),formats={};return attributes.concat(classes).concat(styles).forEach(name=>{let attr=scroll.query(name,Scope.ATTRIBUTE);attr!=null&&(formats[attr.attrName]=attr.value(node),formats[attr.attrName])||(attr=ATTRIBUTE_ATTRIBUTORS[name],attr!=null&&(attr.attrName===name||attr.keyName===name)&&(formats[attr.attrName]=attr.value(node)||void 0),attr=STYLE_ATTRIBUTORS[name],attr!=null&&(attr.attrName===name||attr.keyName===name)&&(attr=STYLE_ATTRIBUTORS[name],formats[attr.attrName]=attr.value(node)||void 0))}),Object.entries(formats).reduce((newDelta,_ref4)=>{let[name,value]=_ref4;return applyFormat(newDelta,name,value,scroll)},delta)}function matchBlot(node,delta,scroll){let match2=scroll.query(node);if(match2==null)return delta;if(match2.prototype instanceof EmbedBlot$1){let embed={},value=match2.value(node);if(value!=null)return embed[match2.blotName]=value,new import_quill_delta6.default().insert(embed,match2.formats(node,scroll))}else if(match2.prototype instanceof BlockBlot$1&&!deltaEndsWith(delta,`
`)&&delta.insert(`
`),"blotName"in match2&&"formats"in match2&&typeof match2.formats=="function")return applyFormat(delta,match2.blotName,match2.formats(node,scroll),scroll);return delta}function matchBreak(node,delta){return deltaEndsWith(delta,`
`)||delta.insert(`
`),delta}function matchCodeBlock(node,delta,scroll){let match2=scroll.query("code-block"),language=match2&&"formats"in match2&&typeof match2.formats=="function"?match2.formats(node,scroll):!0;return applyFormat(delta,"code-block",language,scroll)}function matchIgnore(){return new import_quill_delta6.default}function matchIndent(node,delta,scroll){let match2=scroll.query(node);if(match2==null||match2.blotName!=="list"||!deltaEndsWith(delta,`
`))return delta;let indent=-1,parent=node.parentNode;for(;parent!=null;)["OL","UL"].includes(parent.tagName)&&(indent+=1),parent=parent.parentNode;return indent<=0?delta:delta.reduce((composed,op)=>op.insert?op.attributes&&typeof op.attributes.indent=="number"?composed.push(op):composed.insert(op.insert,{indent,...op.attributes||{}}):composed,new import_quill_delta6.default)}function matchList(node,delta,scroll){let element2=node,list=element2.tagName==="OL"?"ordered":"bullet",checkedAttr=element2.getAttribute("data-checked");return checkedAttr&&(list=checkedAttr==="true"?"checked":"unchecked"),applyFormat(delta,"list",list,scroll)}function matchNewline(node,delta,scroll){if(!deltaEndsWith(delta,`
`)){if(isLine2(node,scroll)&&(node.childNodes.length>0||node instanceof HTMLParagraphElement))return delta.insert(`
`);if(delta.length()>0&&node.nextSibling){let nextSibling=node.nextSibling;for(;nextSibling!=null;){if(isLine2(nextSibling,scroll))return delta.insert(`
`);let match2=scroll.query(nextSibling);if(match2&&match2.prototype instanceof BlockEmbed)return delta.insert(`
`);nextSibling=nextSibling.firstChild}}}return delta}function matchStyles(node,delta,scroll){let formats={},style=node.style||{};return style.fontStyle==="italic"&&(formats.italic=!0),style.textDecoration==="underline"&&(formats.underline=!0),style.textDecoration==="line-through"&&(formats.strike=!0),(style.fontWeight?.startsWith("bold")||parseInt(style.fontWeight,10)>=700)&&(formats.bold=!0),delta=Object.entries(formats).reduce((newDelta,_ref5)=>{let[name,value]=_ref5;return applyFormat(newDelta,name,value,scroll)},delta),parseFloat(style.textIndent||0)>0?new import_quill_delta6.default().insert("	").concat(delta):delta}function matchTable(node,delta,scroll){let table=node.parentElement?.tagName==="TABLE"?node.parentElement:node.parentElement?.parentElement;if(table!=null){let row=Array.from(table.querySelectorAll("tr")).indexOf(node)+1;return applyFormat(delta,"table",row,scroll)}return delta}function matchText(node,delta,scroll){let text2=node.data;if(node.parentElement?.tagName==="O:P")return delta.insert(text2.trim());if(!isPre(node)){if(text2.trim().length===0&&text2.includes(`
`)&&!isBetweenInlineElements(node,scroll))return delta;let replacer=(collapse,match2)=>{let replaced=match2.replace(/[^\u00a0]/g,"");return replaced.length<1&&collapse?" ":replaced};text2=text2.replace(/\r\n/g," ").replace(/\n/g," "),text2=text2.replace(/\s\s+/g,replacer.bind(replacer,!0)),(node.previousSibling==null&&node.parentElement!=null&&isLine2(node.parentElement,scroll)||node.previousSibling instanceof Element&&isLine2(node.previousSibling,scroll))&&(text2=text2.replace(/^\s+/,replacer.bind(replacer,!1))),(node.nextSibling==null&&node.parentElement!=null&&isLine2(node.parentElement,scroll)||node.nextSibling instanceof Element&&isLine2(node.nextSibling,scroll))&&(text2=text2.replace(/\s+$/,replacer.bind(replacer,!1)))}return delta.insert(text2)}var import_quill_delta6,debug6,CLIPBOARD_CONFIG,ATTRIBUTE_ATTRIBUTORS,STYLE_ATTRIBUTORS,Clipboard,preNodes,init_clipboard=__esm({"node_modules/quill/modules/clipboard.js"(){init_parchment();import_quill_delta6=__toESM(require_Delta(),1);init_block();init_logger();init_module();init_quill();init_align();init_background();init_code();init_color();init_direction();init_font();init_size();init_keyboard();init_normalizeExternalHTML();debug6=logger_default("quill:clipboard"),CLIPBOARD_CONFIG=[[Node.TEXT_NODE,matchText],[Node.TEXT_NODE,matchNewline],["br",matchBreak],[Node.ELEMENT_NODE,matchNewline],[Node.ELEMENT_NODE,matchBlot],[Node.ELEMENT_NODE,matchAttributor],[Node.ELEMENT_NODE,matchStyles],["li",matchIndent],["ol, ul",matchList],["pre",matchCodeBlock],["tr",matchTable],["b",createMatchAlias("bold")],["i",createMatchAlias("italic")],["strike",createMatchAlias("strike")],["style",matchIgnore]],ATTRIBUTE_ATTRIBUTORS=[AlignAttribute,DirectionAttribute].reduce((memo,attr)=>(memo[attr.keyName]=attr,memo),{}),STYLE_ATTRIBUTORS=[AlignStyle,BackgroundStyle,ColorStyle,DirectionStyle,FontStyle,SizeStyle].reduce((memo,attr)=>(memo[attr.keyName]=attr,memo),{}),Clipboard=class extends module_default{static DEFAULTS={matchers:[]};constructor(quill,options){super(quill,options),this.quill.root.addEventListener("copy",e=>this.onCaptureCopy(e,!1)),this.quill.root.addEventListener("cut",e=>this.onCaptureCopy(e,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],CLIPBOARD_CONFIG.concat(this.options.matchers??[]).forEach(_ref=>{let[selector,matcher]=_ref;this.addMatcher(selector,matcher)})}addMatcher(selector,matcher){this.matchers.push([selector,matcher])}convert(_ref2){let{html,text:text2}=_ref2,formats=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(formats[CodeBlock.blotName])return new import_quill_delta6.default().insert(text2||"",{[CodeBlock.blotName]:formats[CodeBlock.blotName]});if(!html)return new import_quill_delta6.default().insert(text2||"",formats);let delta=this.convertHTML(html);return deltaEndsWith(delta,`
`)&&(delta.ops[delta.ops.length-1].attributes==null||formats.table)?delta.compose(new import_quill_delta6.default().retain(delta.length()-1).delete(1)):delta}normalizeHTML(doc2){normalizeExternalHTML_default(doc2)}convertHTML(html){let doc2=new DOMParser().parseFromString(html,"text/html");this.normalizeHTML(doc2);let container=doc2.body,nodeMatches=new WeakMap,[elementMatchers,textMatchers]=this.prepareMatching(container,nodeMatches);return traverse(this.quill.scroll,container,elementMatchers,textMatchers,nodeMatches)}dangerouslyPasteHTML(index,html){let source=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Quill.sources.API;if(typeof index=="string"){let delta=this.convert({html:index,text:""});this.quill.setContents(delta,html),this.quill.setSelection(0,Quill.sources.SILENT)}else{let paste=this.convert({html,text:""});this.quill.updateContents(new import_quill_delta6.default().retain(index).concat(paste),source),this.quill.setSelection(index+paste.length(),Quill.sources.SILENT)}}onCaptureCopy(e){let isCut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();let[range]=this.quill.selection.getRange();if(range==null)return;let{html,text:text2}=this.onCopy(range,isCut);e.clipboardData?.setData("text/plain",text2),e.clipboardData?.setData("text/html",html),isCut&&deleteRange({range,quill:this.quill})}normalizeURIList(urlList){return urlList.split(/\r?\n/).filter(url=>url[0]!=="#").join(`
`)}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();let range=this.quill.getSelection(!0);if(range==null)return;let html=e.clipboardData?.getData("text/html"),text2=e.clipboardData?.getData("text/plain");if(!html&&!text2){let urlList=e.clipboardData?.getData("text/uri-list");urlList&&(text2=this.normalizeURIList(urlList))}let files=Array.from(e.clipboardData?.files||[]);if(!html&&files.length>0){this.quill.uploader.upload(range,files);return}if(html&&files.length>0){let doc2=new DOMParser().parseFromString(html,"text/html");if(doc2.body.childElementCount===1&&doc2.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(range,files);return}}this.onPaste(range,{html,text:text2})}onCopy(range){let text2=this.quill.getText(range);return{html:this.quill.getSemanticHTML(range),text:text2}}onPaste(range,_ref3){let{text:text2,html}=_ref3,formats=this.quill.getFormat(range.index),pastedDelta=this.convert({text:text2,html},formats);debug6.log("onPaste",pastedDelta,{text:text2,html});let delta=new import_quill_delta6.default().retain(range.index).delete(range.length).concat(pastedDelta);this.quill.updateContents(delta,Quill.sources.USER),this.quill.setSelection(delta.length()-range.length,Quill.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(container,nodeMatches){let elementMatchers=[],textMatchers=[];return this.matchers.forEach(pair=>{let[selector,matcher]=pair;switch(selector){case Node.TEXT_NODE:textMatchers.push(matcher);break;case Node.ELEMENT_NODE:elementMatchers.push(matcher);break;default:Array.from(container.querySelectorAll(selector)).forEach(node=>{nodeMatches.has(node)?nodeMatches.get(node)?.push(matcher):nodeMatches.set(node,[matcher])});break}}),[elementMatchers,textMatchers]}};preNodes=new WeakMap}});function transformStack(stack,delta){let remoteDelta=delta;for(let i=stack.length-1;i>=0;i-=1){let oldItem=stack[i];stack[i]={delta:remoteDelta.transform(oldItem.delta,!0),range:oldItem.range&&transformRange(oldItem.range,remoteDelta)},remoteDelta=oldItem.delta.transform(remoteDelta),stack[i].delta.length()===0&&stack.splice(i,1)}}function endsWithNewlineChange(scroll,delta){let lastOp=delta.ops[delta.ops.length-1];return lastOp==null?!1:lastOp.insert!=null?typeof lastOp.insert=="string"&&lastOp.insert.endsWith(`
`):lastOp.attributes!=null?Object.keys(lastOp.attributes).some(attr=>scroll.query(attr,Scope.BLOCK)!=null):!1}function getLastChangeIndex(scroll,delta){let deleteLength=delta.reduce((length3,op)=>length3+(op.delete||0),0),changeIndex=delta.length()-deleteLength;return endsWithNewlineChange(scroll,delta)&&(changeIndex-=1),changeIndex}function transformRange(range,delta){if(!range)return range;let start=delta.transformPosition(range.index),end=delta.transformPosition(range.index+range.length);return{index:start,length:end-start}}var History,init_history=__esm({"node_modules/quill/modules/history.js"(){init_parchment();init_module();init_quill();History=class extends module_default{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(quill,options){super(quill,options),this.quill.on(Quill.events.EDITOR_CHANGE,(eventName,value,oldValue,source)=>{eventName===Quill.events.SELECTION_CHANGE?value&&source!==Quill.sources.SILENT&&(this.currentRange=value):eventName===Quill.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||source===Quill.sources.USER?this.record(value,oldValue):this.transform(value)),this.currentRange=transformRange(this.currentRange,value))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",event=>{event.inputType==="historyUndo"?(this.undo(),event.preventDefault()):event.inputType==="historyRedo"&&(this.redo(),event.preventDefault())})}change(source,dest){if(this.stack[source].length===0)return;let item=this.stack[source].pop();if(!item)return;let base=this.quill.getContents(),inverseDelta=item.delta.invert(base);this.stack[dest].push({delta:inverseDelta,range:transformRange(item.range,inverseDelta)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(item.delta,Quill.sources.USER),this.ignoreChange=!1,this.restoreSelection(item)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(changeDelta,oldDelta){if(changeDelta.ops.length===0)return;this.stack.redo=[];let undoDelta=changeDelta.invert(oldDelta),undoRange=this.currentRange,timestamp=Date.now();if(this.lastRecorded+this.options.delay>timestamp&&this.stack.undo.length>0){let item=this.stack.undo.pop();item&&(undoDelta=undoDelta.compose(item.delta),undoRange=item.range)}else this.lastRecorded=timestamp;undoDelta.length()!==0&&(this.stack.undo.push({delta:undoDelta,range:undoRange}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(delta){transformStack(this.stack.undo,delta),transformStack(this.stack.redo,delta)}undo(){this.change("undo","redo")}restoreSelection(stackItem){if(stackItem.range)this.quill.setSelection(stackItem.range,Quill.sources.USER);else{let index=getLastChangeIndex(this.quill.scroll,stackItem.delta);this.quill.setSelection(index,Quill.sources.USER)}}}}});var import_quill_delta7,Uploader,uploader_default,init_uploader=__esm({"node_modules/quill/modules/uploader.js"(){import_quill_delta7=__toESM(require_Delta(),1);init_emitter();init_module();Uploader=class extends module_default{constructor(quill,options){super(quill,options),quill.root.addEventListener("drop",e=>{e.preventDefault();let native=null;if(document.caretRangeFromPoint)native=document.caretRangeFromPoint(e.clientX,e.clientY);else if(document.caretPositionFromPoint){let position=document.caretPositionFromPoint(e.clientX,e.clientY);native=document.createRange(),native.setStart(position.offsetNode,position.offset),native.setEnd(position.offsetNode,position.offset)}let normalized=native&&quill.selection.normalizeNative(native);if(normalized){let range=quill.selection.normalizedToRange(normalized);e.dataTransfer?.files&&this.upload(range,e.dataTransfer.files)}})}upload(range,files){let uploads=[];Array.from(files).forEach(file=>{file&&this.options.mimetypes?.includes(file.type)&&uploads.push(file)}),uploads.length>0&&this.options.handler.call(this,range,uploads)}};Uploader.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(range,files){if(!this.quill.scroll.query("image"))return;let promises=files.map(file=>new Promise(resolve2=>{let reader=new FileReader;reader.onload=()=>{resolve2(reader.result)},reader.readAsDataURL(file)}));Promise.all(promises).then(images=>{let update=images.reduce((delta,image)=>delta.insert({image}),new import_quill_delta7.default().retain(range.index).delete(range.length));this.quill.updateContents(update,emitter_default.sources.USER),this.quill.setSelection(range.index+images.length,emitter_default.sources.SILENT)})}};uploader_default=Uploader}});function getPlainTextFromInputEvent(event){return typeof event.data=="string"?event.data:event.dataTransfer?.types.includes("text/plain")?event.dataTransfer.getData("text/plain"):null}var import_quill_delta8,INSERT_TYPES,Input,input_default,init_input=__esm({"node_modules/quill/modules/input.js"(){import_quill_delta8=__toESM(require_Delta(),1);init_module();init_quill();init_keyboard();INSERT_TYPES=["insertText","insertReplacementText"],Input=class extends module_default{constructor(quill,options){super(quill,options),quill.root.addEventListener("beforeinput",event=>{this.handleBeforeInput(event)}),/Android/i.test(navigator.userAgent)||quill.on(Quill.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(range){deleteRange({range,quill:this.quill})}replaceText(range){let text2=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(range.length===0)return!1;if(text2){let formats=this.quill.getFormat(range.index,1);this.deleteRange(range),this.quill.updateContents(new import_quill_delta8.default().retain(range.index).insert(text2,formats),Quill.sources.USER)}else this.deleteRange(range);return this.quill.setSelection(range.index+text2.length,0,Quill.sources.SILENT),!0}handleBeforeInput(event){if(this.quill.composition.isComposing||event.defaultPrevented||!INSERT_TYPES.includes(event.inputType))return;let staticRange=event.getTargetRanges?event.getTargetRanges()[0]:null;if(!staticRange||staticRange.collapsed===!0)return;let text2=getPlainTextFromInputEvent(event);if(text2==null)return;let normalized=this.quill.selection.normalizeNative(staticRange),range=normalized?this.quill.selection.normalizedToRange(normalized):null;range&&this.replaceText(range,text2)&&event.preventDefault()}handleCompositionStart(){let range=this.quill.getSelection();range&&this.replaceText(range)}};input_default=Input}});var isMac2,TTL_FOR_VALID_SELECTION_CHANGE,canMoveCaretBeforeUINode,UINode,uiNode_default,init_uiNode=__esm({"node_modules/quill/modules/uiNode.js"(){init_parchment();init_module();init_quill();isMac2=/Mac/i.test(navigator.platform),TTL_FOR_VALID_SELECTION_CHANGE=100,canMoveCaretBeforeUINode=event=>!!(event.key==="ArrowLeft"||event.key==="ArrowRight"||event.key==="ArrowUp"||event.key==="ArrowDown"||event.key==="Home"||isMac2&&event.key==="a"&&event.ctrlKey===!0),UINode=class extends module_default{isListening=!1;selectionChangeDeadline=0;constructor(quill,options){super(quill,options),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(range,_ref){let{line,event}=_ref;if(!(line instanceof ParentBlot$1)||!line.uiNode)return!0;let isRTL=getComputedStyle(line.domNode).direction==="rtl";return isRTL&&event.key!=="ArrowRight"||!isRTL&&event.key!=="ArrowLeft"?!0:(this.quill.setSelection(range.index-1,range.length+(event.shiftKey?1:0),Quill.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",event=>{!event.defaultPrevented&&canMoveCaretBeforeUINode(event)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+TTL_FOR_VALID_SELECTION_CHANGE,this.isListening)return;this.isListening=!0;let listener=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",listener,{once:!0})}handleSelectionChange(){let selection=document.getSelection();if(!selection)return;let range=selection.getRangeAt(0);if(range.collapsed!==!0||range.startOffset!==0)return;let line=this.quill.scroll.find(range.startContainer);if(!(line instanceof ParentBlot$1)||!line.uiNode)return;let newRange=document.createRange();newRange.setStartAfter(line.uiNode),newRange.setEndAfter(line.uiNode),selection.removeAllRanges(),selection.addRange(newRange)}},uiNode_default=UINode}});var import_quill_delta9,core_default,init_core=__esm({"node_modules/quill/core.js"(){init_quill();init_block();init_break();init_container();init_cursor();init_embed();init_inline();init_scroll();init_text();init_clipboard();init_history();init_keyboard();init_uploader();import_quill_delta9=__toESM(require_Delta(),1);init_input();init_uiNode();init_module();Quill.register({"blots/block":Block,"blots/block/embed":BlockEmbed,"blots/break":break_default,"blots/container":container_default,"blots/cursor":cursor_default,"blots/embed":embed_default,"blots/inline":inline_default,"blots/scroll":scroll_default,"blots/text":Text2,"modules/clipboard":Clipboard,"modules/history":History,"modules/keyboard":Keyboard,"modules/uploader":uploader_default,"modules/input":input_default,"modules/uiNode":uiNode_default});core_default=Quill}});var IndentAttributor,IndentClass,indent_default,init_indent=__esm({"node_modules/quill/formats/indent.js"(){init_parchment();IndentAttributor=class extends ClassAttributor$1{add(node,value){let normalizedValue=0;if(value==="+1"||value==="-1"){let indent=this.value(node)||0;normalizedValue=value==="+1"?indent+1:indent-1}else typeof value=="number"&&(normalizedValue=value);return normalizedValue===0?(this.remove(node),!0):super.add(node,normalizedValue.toString())}canAdd(node,value){return super.canAdd(node,value)||super.canAdd(node,parseInt(value,10))}value(node){return parseInt(super.value(node),10)||void 0}},IndentClass=new IndentAttributor("indent","ql-indent",{scope:Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),indent_default=IndentClass}});var Blockquote,blockquote_default,init_blockquote=__esm({"node_modules/quill/formats/blockquote.js"(){init_block();Blockquote=class extends Block{static blotName="blockquote";static tagName="blockquote"},blockquote_default=Blockquote}});var Header,header_default,init_header=__esm({"node_modules/quill/formats/header.js"(){init_block();Header=class extends Block{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(domNode){return this.tagName.indexOf(domNode.tagName)+1}},header_default=Header}});var ListContainer,ListItem,init_list=__esm({"node_modules/quill/formats/list.js"(){init_block();init_container();init_quill();ListContainer=class extends container_default{};ListContainer.blotName="list-container";ListContainer.tagName="OL";ListItem=class extends Block{static create(value){let node=super.create();return node.setAttribute("data-list",value),node}static formats(domNode){return domNode.getAttribute("data-list")||void 0}static register(){Quill.register(ListContainer)}constructor(scroll,domNode){super(scroll,domNode);let ui=domNode.ownerDocument.createElement("span"),listEventHandler=e=>{if(!scroll.isEnabled())return;let format=this.statics.formats(domNode,scroll);format==="checked"?(this.format("list","unchecked"),e.preventDefault()):format==="unchecked"&&(this.format("list","checked"),e.preventDefault())};ui.addEventListener("mousedown",listEventHandler),ui.addEventListener("touchstart",listEventHandler),this.attachUI(ui)}format(name,value){name===this.statics.blotName&&value?this.domNode.setAttribute("data-list",value):super.format(name,value)}};ListItem.blotName="list";ListItem.tagName="LI";ListContainer.allowedChildren=[ListItem];ListItem.requiredContainer=ListContainer}});var Bold,bold_default,init_bold=__esm({"node_modules/quill/formats/bold.js"(){init_inline();Bold=class extends inline_default{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(context){super.optimize(context),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}},bold_default=Bold}});var Italic,italic_default,init_italic=__esm({"node_modules/quill/formats/italic.js"(){init_bold();Italic=class extends bold_default{static blotName="italic";static tagName=["EM","I"]},italic_default=Italic}});function sanitize(url,protocols){let anchor=document.createElement("a");anchor.href=url;let protocol=anchor.href.slice(0,anchor.href.indexOf(":"));return protocols.indexOf(protocol)>-1}var Link,init_link=__esm({"node_modules/quill/formats/link.js"(){init_inline();Link=class extends inline_default{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(value){let node=super.create(value);return node.setAttribute("href",this.sanitize(value)),node.setAttribute("rel","noopener noreferrer"),node.setAttribute("target","_blank"),node}static formats(domNode){return domNode.getAttribute("href")}static sanitize(url){return sanitize(url,this.PROTOCOL_WHITELIST)?url:this.SANITIZED_URL}format(name,value){name!==this.statics.blotName||!value?super.format(name,value):this.domNode.setAttribute("href",this.constructor.sanitize(value))}}}});var Script,script_default,init_script=__esm({"node_modules/quill/formats/script.js"(){init_inline();Script=class extends inline_default{static blotName="script";static tagName=["SUB","SUP"];static create(value){return value==="super"?document.createElement("sup"):value==="sub"?document.createElement("sub"):super.create(value)}static formats(domNode){if(domNode.tagName==="SUB")return"sub";if(domNode.tagName==="SUP")return"super"}},script_default=Script}});var Strike,strike_default,init_strike=__esm({"node_modules/quill/formats/strike.js"(){init_bold();Strike=class extends bold_default{static blotName="strike";static tagName=["S","STRIKE"]},strike_default=Strike}});var Underline,underline_default,init_underline=__esm({"node_modules/quill/formats/underline.js"(){init_inline();Underline=class extends inline_default{static blotName="underline";static tagName="U"},underline_default=Underline}});var Formula,formula_default,init_formula=__esm({"node_modules/quill/formats/formula.js"(){init_embed();Formula=class extends embed_default{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(value){if(window.katex==null)throw new Error("Formula module requires KaTeX.");let node=super.create(value);return typeof value=="string"&&(window.katex.render(value,node,{throwOnError:!1,errorColor:"#f00"}),node.setAttribute("data-value",value)),node}static value(domNode){return domNode.getAttribute("data-value")}html(){let{formula}=this.value();return`<span>${formula}</span>`}},formula_default=Formula}});var ATTRIBUTES,Image,image_default,init_image=__esm({"node_modules/quill/formats/image.js"(){init_parchment();init_link();ATTRIBUTES=["alt","height","width"],Image=class extends EmbedBlot$1{static blotName="image";static tagName="IMG";static create(value){let node=super.create(value);return typeof value=="string"&&node.setAttribute("src",this.sanitize(value)),node}static formats(domNode){return ATTRIBUTES.reduce((formats,attribute)=>(domNode.hasAttribute(attribute)&&(formats[attribute]=domNode.getAttribute(attribute)),formats),{})}static match(url){return/\.(jpe?g|gif|png)$/.test(url)||/^data:image\/.+;base64/.test(url)}static sanitize(url){return sanitize(url,["http","https","data"])?url:"//:0"}static value(domNode){return domNode.getAttribute("src")}format(name,value){ATTRIBUTES.indexOf(name)>-1?value?this.domNode.setAttribute(name,value):this.domNode.removeAttribute(name):super.format(name,value)}},image_default=Image}});var ATTRIBUTES2,Video,video_default,init_video=__esm({"node_modules/quill/formats/video.js"(){init_block();init_link();ATTRIBUTES2=["height","width"],Video=class extends BlockEmbed{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(value){let node=super.create(value);return node.setAttribute("frameborder","0"),node.setAttribute("allowfullscreen","true"),node.setAttribute("src",this.sanitize(value)),node}static formats(domNode){return ATTRIBUTES2.reduce((formats,attribute)=>(domNode.hasAttribute(attribute)&&(formats[attribute]=domNode.getAttribute(attribute)),formats),{})}static sanitize(url){return Link.sanitize(url)}static value(domNode){return domNode.getAttribute("src")}format(name,value){ATTRIBUTES2.indexOf(name)>-1?value?this.domNode.setAttribute(name,value):this.domNode.removeAttribute(name):super.format(name,value)}html(){let{video}=this.value();return`<a href="${video}">${video}</a>`}},video_default=Video}});var import_quill_delta10,TokenAttributor,CodeToken,SyntaxCodeBlock,SyntaxCodeBlockContainer,highlight,Syntax,init_syntax=__esm({"node_modules/quill/modules/syntax.js"(){import_quill_delta10=__toESM(require_Delta(),1);init_parchment();init_inline();init_quill();init_module();init_block();init_break();init_cursor();init_text();init_code();init_clipboard();TokenAttributor=new ClassAttributor$1("code-token","hljs",{scope:Scope.INLINE}),CodeToken=class _CodeToken extends inline_default{static formats(node,scroll){for(;node!=null&&node!==scroll.domNode;){if(node.classList&&node.classList.contains(CodeBlock.className))return super.formats(node,scroll);node=node.parentNode}}constructor(scroll,domNode,value){super(scroll,domNode,value),TokenAttributor.add(this.domNode,value)}format(format,value){format!==_CodeToken.blotName?super.format(format,value):value?TokenAttributor.add(this.domNode,value):(TokenAttributor.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),TokenAttributor.value(this.domNode)||this.unwrap()}};CodeToken.blotName="code-token";CodeToken.className="ql-token";SyntaxCodeBlock=class extends CodeBlock{static create(value){let domNode=super.create(value);return typeof value=="string"&&domNode.setAttribute("data-language",value),domNode}static formats(domNode){return domNode.getAttribute("data-language")||"plain"}static register(){}format(name,value){name===this.statics.blotName&&value?this.domNode.setAttribute("data-language",value):super.format(name,value)}replaceWith(name,value){return this.formatAt(0,this.length(),CodeToken.blotName,!1),super.replaceWith(name,value)}},SyntaxCodeBlockContainer=class extends CodeBlockContainer{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(name,value){name===SyntaxCodeBlock.blotName&&(this.forceNext=!0,this.children.forEach(child=>{child.format(name,value)}))}formatAt(index,length3,name,value){name===SyntaxCodeBlock.blotName&&(this.forceNext=!0),super.formatAt(index,length3,name,value)}highlight(highlight2){let forced=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;let text2=`${Array.from(this.domNode.childNodes).filter(node=>node!==this.uiNode).map(node=>node.textContent).join(`
`)}
`,language=SyntaxCodeBlock.formats(this.children.head.domNode);if(forced||this.forceNext||this.cachedText!==text2){if(text2.trim().length>0||this.cachedText==null){let oldDelta=this.children.reduce((delta2,child)=>delta2.concat(blockDelta(child,!1)),new import_quill_delta10.default),delta=highlight2(text2,language);oldDelta.diff(delta).reduce((index,_ref)=>{let{retain,attributes}=_ref;return retain?(attributes&&Object.keys(attributes).forEach(format=>{[SyntaxCodeBlock.blotName,CodeToken.blotName].includes(format)&&this.formatAt(index,retain,format,attributes[format])}),index+retain):index},0)}this.cachedText=text2,this.forceNext=!1}}html(index,length3){let[codeBlock]=this.children.find(index);return`<pre data-language="${codeBlock?SyntaxCodeBlock.formats(codeBlock.domNode):"plain"}">
${escapeText(this.code(index,length3))}
</pre>`}optimize(context){if(super.optimize(context),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){let language=SyntaxCodeBlock.formats(this.children.head.domNode);language!==this.uiNode.value&&(this.uiNode.value=language)}}};SyntaxCodeBlockContainer.allowedChildren=[SyntaxCodeBlock];SyntaxCodeBlock.requiredContainer=SyntaxCodeBlockContainer;SyntaxCodeBlock.allowedChildren=[CodeToken,cursor_default,Text2,break_default];highlight=(lib,language,text2)=>{if(typeof lib.versionString=="string"){let majorVersion=lib.versionString.split(".")[0];if(parseInt(majorVersion,10)>=11)return lib.highlight(text2,{language}).value}return lib.highlight(language,text2).value},Syntax=class extends module_default{static register(){Quill.register(CodeToken,!0),Quill.register(SyntaxCodeBlock,!0),Quill.register(SyntaxCodeBlockContainer,!0)}constructor(quill,options){if(super(quill,options),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((memo,_ref2)=>{let{key}=_ref2;return memo[key]=!0,memo},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Quill.events.SCROLL_BLOT_MOUNT,blot=>{if(!(blot instanceof SyntaxCodeBlockContainer))return;let select=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(_ref3=>{let{key,label}=_ref3,option=select.ownerDocument.createElement("option");option.textContent=label,option.setAttribute("value",key),select.appendChild(option)}),select.addEventListener("change",()=>{blot.format(SyntaxCodeBlock.blotName,select.value),this.quill.root.focus(),this.highlight(blot,!0)}),blot.uiNode==null&&(blot.attachUI(select),blot.children.head&&(select.value=SyntaxCodeBlock.formats(blot.children.head.domNode)))})}initTimer(){let timer=null;this.quill.on(Quill.events.SCROLL_OPTIMIZE,()=>{timer&&clearTimeout(timer),timer=setTimeout(()=>{this.highlight(),timer=null},this.options.interval)})}highlight(){let blot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,force=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(Quill.sources.USER);let range=this.quill.getSelection();(blot==null?this.quill.scroll.descendants(SyntaxCodeBlockContainer):[blot]).forEach(container=>{container.highlight(this.highlightBlot,force)}),this.quill.update(Quill.sources.SILENT),range!=null&&this.quill.setSelection(range,Quill.sources.SILENT)}highlightBlot(text2){let language=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(language=this.languages[language]?language:"plain",language==="plain")return escapeText(text2).split(`
`).reduce((delta,line,i)=>(i!==0&&delta.insert(`
`,{[CodeBlock.blotName]:language}),delta.insert(line)),new import_quill_delta10.default);let container=this.quill.root.ownerDocument.createElement("div");return container.classList.add(CodeBlock.className),container.innerHTML=highlight(this.options.hljs,language,text2),traverse(this.quill.scroll,container,[(node,delta)=>{let value=TokenAttributor.value(node);return value?delta.compose(new import_quill_delta10.default().retain(delta.length(),{[CodeToken.blotName]:value})):delta}],[(node,delta)=>node.data.split(`
`).reduce((memo,nodeText,i)=>(i!==0&&memo.insert(`
`,{[CodeBlock.blotName]:language}),memo.insert(nodeText)),delta)],new WeakMap)}};Syntax.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]}}});function tableId(){return`row-${Math.random().toString(36).slice(2,6)}`}var TableCell,TableRow,TableBody,TableContainer,init_table=__esm({"node_modules/quill/formats/table.js"(){init_block();init_container();TableCell=class _TableCell extends Block{static blotName="table";static tagName="TD";static create(value){let node=super.create();return value?node.setAttribute("data-row",value):node.setAttribute("data-row",tableId()),node}static formats(domNode){if(domNode.hasAttribute("data-row"))return domNode.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(name,value){name===_TableCell.blotName&&value?this.domNode.setAttribute("data-row",value):super.format(name,value)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}},TableRow=class extends container_default{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){let thisHead=this.children.head.formats(),thisTail=this.children.tail.formats(),nextHead=this.next.children.head.formats(),nextTail=this.next.children.tail.formats();return thisHead.table===thisTail.table&&thisHead.table===nextHead.table&&thisHead.table===nextTail.table}return!1}optimize(context){super.optimize(context),this.children.forEach(child=>{if(child.next==null)return;let childFormats=child.formats(),nextFormats=child.next.formats();if(childFormats.table!==nextFormats.table){let next=this.splitAfter(child);next&&next.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}},TableBody=class extends container_default{static blotName="table-body";static tagName="TBODY"},TableContainer=class extends container_default{static blotName="table-container";static tagName="TABLE";balanceCells(){let rows=this.descendants(TableRow),maxColumns=rows.reduce((max2,row)=>Math.max(row.children.length,max2),0);rows.forEach(row=>{new Array(maxColumns-row.children.length).fill(0).forEach(()=>{let value;row.children.head!=null&&(value=TableCell.formats(row.children.head.domNode));let blot=this.scroll.create(TableCell.blotName,value);row.appendChild(blot),blot.optimize()})})}cells(column){return this.rows().map(row=>row.children.at(column))}deleteColumn(index){let[body]=this.descendant(TableBody);body==null||body.children.head==null||body.children.forEach(row=>{let cell=row.children.at(index);cell?.remove()})}insertColumn(index){let[body]=this.descendant(TableBody);body==null||body.children.head==null||body.children.forEach(row=>{let ref=row.children.at(index),value=TableCell.formats(row.children.head.domNode),cell=this.scroll.create(TableCell.blotName,value);row.insertBefore(cell,ref)})}insertRow(index){let[body]=this.descendant(TableBody);if(body==null||body.children.head==null)return;let id2=tableId(),row=this.scroll.create(TableRow.blotName);body.children.head.children.forEach(()=>{let cell=this.scroll.create(TableCell.blotName,id2);row.appendChild(cell)});let ref=body.children.at(index);body.insertBefore(row,ref)}rows(){let body=this.children.head;return body==null?[]:body.children.map(row=>row)}};TableContainer.allowedChildren=[TableBody];TableBody.requiredContainer=TableContainer;TableBody.allowedChildren=[TableRow];TableRow.requiredContainer=TableBody;TableRow.allowedChildren=[TableCell];TableCell.requiredContainer=TableRow}});var import_quill_delta11,Table,table_default,init_table2=__esm({"node_modules/quill/modules/table.js"(){import_quill_delta11=__toESM(require_Delta(),1);init_quill();init_module();init_table();Table=class extends module_default{static register(){Quill.register(TableCell),Quill.register(TableRow),Quill.register(TableBody),Quill.register(TableContainer)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(TableContainer).forEach(table=>{table.balanceCells()})}deleteColumn(){let[table,,cell]=this.getTable();cell!=null&&(table.deleteColumn(cell.cellOffset()),this.quill.update(Quill.sources.USER))}deleteRow(){let[,row]=this.getTable();row!=null&&(row.remove(),this.quill.update(Quill.sources.USER))}deleteTable(){let[table]=this.getTable();if(table==null)return;let offset=table.offset();table.remove(),this.quill.update(Quill.sources.USER),this.quill.setSelection(offset,Quill.sources.SILENT)}getTable(){let range=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(range==null)return[null,null,null,-1];let[cell,offset]=this.quill.getLine(range.index);if(cell==null||cell.statics.blotName!==TableCell.blotName)return[null,null,null,-1];let row=cell.parent;return[row.parent.parent,row,cell,offset]}insertColumn(offset){let range=this.quill.getSelection();if(!range)return;let[table,row,cell]=this.getTable(range);if(cell==null)return;let column=cell.cellOffset();table.insertColumn(column+offset),this.quill.update(Quill.sources.USER);let shift=row.rowOffset();offset===0&&(shift+=1),this.quill.setSelection(range.index+shift,range.length,Quill.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(offset){let range=this.quill.getSelection();if(!range)return;let[table,row,cell]=this.getTable(range);if(cell==null)return;let index=row.rowOffset();table.insertRow(index+offset),this.quill.update(Quill.sources.USER),offset>0?this.quill.setSelection(range,Quill.sources.SILENT):this.quill.setSelection(range.index+row.children.length,range.length,Quill.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(rows,columns){let range=this.quill.getSelection();if(range==null)return;let delta=new Array(rows).fill(0).reduce(memo=>{let text2=new Array(columns).fill(`
`).join("");return memo.insert(text2,{table:tableId()})},new import_quill_delta11.default().retain(range.index));this.quill.updateContents(delta,Quill.sources.USER),this.quill.setSelection(range.index,Quill.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Quill.events.SCROLL_OPTIMIZE,mutations=>{mutations.some(mutation=>["TD","TR","TBODY","TABLE"].includes(mutation.target.tagName)?(this.quill.once(Quill.events.TEXT_CHANGE,(delta,old,source)=>{source===Quill.sources.USER&&this.balanceTables()}),!0):!1)})}},table_default=Table}});function addButton(container,format,value){let input=document.createElement("button");input.setAttribute("type","button"),input.classList.add(`ql-${format}`),input.setAttribute("aria-pressed","false"),value!=null?(input.value=value,input.setAttribute("aria-label",`${format}: ${value}`)):input.setAttribute("aria-label",format),container.appendChild(input)}function addControls(container,groups){Array.isArray(groups[0])||(groups=[groups]),groups.forEach(controls=>{let group=document.createElement("span");group.classList.add("ql-formats"),controls.forEach(control=>{if(typeof control=="string")addButton(group,control);else{let format=Object.keys(control)[0],value=control[format];Array.isArray(value)?addSelect(group,format,value):addButton(group,format,value)}}),container.appendChild(group)})}function addSelect(container,format,values){let input=document.createElement("select");input.classList.add(`ql-${format}`),values.forEach(value=>{let option=document.createElement("option");value!==!1?option.setAttribute("value",String(value)):option.setAttribute("selected","selected"),input.appendChild(option)}),container.appendChild(input)}var import_quill_delta12,debug7,Toolbar,init_toolbar=__esm({"node_modules/quill/modules/toolbar.js"(){import_quill_delta12=__toESM(require_Delta(),1);init_parchment();init_quill();init_logger();init_module();debug7=logger_default("quill:toolbar"),Toolbar=class extends module_default{constructor(quill,options){if(super(quill,options),Array.isArray(this.options.container)){let container=document.createElement("div");container.setAttribute("role","toolbar"),addControls(container,this.options.container),quill.container?.parentNode?.insertBefore(container,quill.container),this.container=container}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){debug7.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(format=>{let handler=this.options.handlers?.[format];handler&&this.addHandler(format,handler)}),Array.from(this.container.querySelectorAll("button, select")).forEach(input=>{this.attach(input)}),this.quill.on(Quill.events.EDITOR_CHANGE,()=>{let[range]=this.quill.selection.getRange();this.update(range)})}addHandler(format,handler){this.handlers[format]=handler}attach(input){let format=Array.from(input.classList).find(className=>className.indexOf("ql-")===0);if(!format)return;if(format=format.slice(3),input.tagName==="BUTTON"&&input.setAttribute("type","button"),this.handlers[format]==null&&this.quill.scroll.query(format)==null){debug7.warn("ignoring attaching to nonexistent format",format,input);return}let eventName=input.tagName==="SELECT"?"change":"click";input.addEventListener(eventName,e=>{let value;if(input.tagName==="SELECT"){if(input.selectedIndex<0)return;let selected=input.options[input.selectedIndex];selected.hasAttribute("selected")?value=!1:value=selected.value||!1}else input.classList.contains("ql-active")?value=!1:value=input.value||!input.hasAttribute("value"),e.preventDefault();this.quill.focus();let[range]=this.quill.selection.getRange();if(this.handlers[format]!=null)this.handlers[format].call(this,value);else if(this.quill.scroll.query(format).prototype instanceof EmbedBlot$1){if(value=prompt(`Enter ${format}`),!value)return;this.quill.updateContents(new import_quill_delta12.default().retain(range.index).delete(range.length).insert({[format]:value}),Quill.sources.USER)}else this.quill.format(format,value,Quill.sources.USER);this.update(range)}),this.controls.push([format,input])}update(range){let formats=range==null?{}:this.quill.getFormat(range);this.controls.forEach(pair=>{let[format,input]=pair;if(input.tagName==="SELECT"){let option=null;if(range==null)option=null;else if(formats[format]==null)option=input.querySelector("option[selected]");else if(!Array.isArray(formats[format])){let value=formats[format];typeof value=="string"&&(value=value.replace(/"/g,'\\"')),option=input.querySelector(`option[value="${value}"]`)}option==null?(input.value="",input.selectedIndex=-1):option.selected=!0}else if(range==null)input.classList.remove("ql-active"),input.setAttribute("aria-pressed","false");else if(input.hasAttribute("value")){let value=formats[format],isActive=value===input.getAttribute("value")||value!=null&&value.toString()===input.getAttribute("value")||value==null&&!input.getAttribute("value");input.classList.toggle("ql-active",isActive),input.setAttribute("aria-pressed",isActive.toString())}else{let isActive=formats[format]!=null;input.classList.toggle("ql-active",isActive),input.setAttribute("aria-pressed",isActive.toString())}})}};Toolbar.DEFAULTS={};Toolbar.DEFAULTS={container:null,handlers:{clean(){let range=this.quill.getSelection();if(range!=null)if(range.length===0){let formats=this.quill.getFormat();Object.keys(formats).forEach(name=>{this.quill.scroll.query(name,Scope.INLINE)!=null&&this.quill.format(name,!1,Quill.sources.USER)})}else this.quill.removeFormat(range.index,range.length,Quill.sources.USER)},direction(value){let{align}=this.quill.getFormat();value==="rtl"&&align==null?this.quill.format("align","right",Quill.sources.USER):!value&&align==="right"&&this.quill.format("align",!1,Quill.sources.USER),this.quill.format("direction",value,Quill.sources.USER)},indent(value){let range=this.quill.getSelection(),formats=this.quill.getFormat(range),indent=parseInt(formats.indent||0,10);if(value==="+1"||value==="-1"){let modifier=value==="+1"?1:-1;formats.direction==="rtl"&&(modifier*=-1),this.quill.format("indent",indent+modifier,Quill.sources.USER)}},link(value){value===!0&&(value=prompt("Enter link URL:")),this.quill.format("link",value,Quill.sources.USER)},list(value){let range=this.quill.getSelection(),formats=this.quill.getFormat(range);value==="check"?formats.list==="checked"||formats.list==="unchecked"?this.quill.format("list",!1,Quill.sources.USER):this.quill.format("list","unchecked",Quill.sources.USER):this.quill.format("list",value,Quill.sources.USER)}}}}});var alignLeftIcon,alignCenterIcon,alignRightIcon,alignJustifyIcon,backgroundIcon,blockquoteIcon,boldIcon,cleanIcon,codeIcon,colorIcon,directionLeftToRightIcon,directionRightToLeftIcon,formulaIcon,headerIcon,header2Icon,header3Icon,header4Icon,header5Icon,header6Icon,italicIcon,imageIcon,indentIcon,outdentIcon,linkIcon,listBulletIcon,listCheckIcon,listOrderedIcon,subscriptIcon,superscriptIcon,strikeIcon,tableIcon,underlineIcon,videoIcon,icons_default,init_icons=__esm({"node_modules/quill/ui/icons.js"(){alignLeftIcon='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',alignCenterIcon='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',alignRightIcon='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',alignJustifyIcon='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',backgroundIcon='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquoteIcon='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',boldIcon='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',cleanIcon='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',codeIcon='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',colorIcon='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',directionLeftToRightIcon='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',directionRightToLeftIcon='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',formulaIcon='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',headerIcon='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',header2Icon='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',header3Icon='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',header4Icon='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',header5Icon='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',header6Icon='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',italicIcon='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',imageIcon='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indentIcon='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',outdentIcon='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',linkIcon='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',listBulletIcon='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',listCheckIcon='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',listOrderedIcon='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',subscriptIcon='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',superscriptIcon='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',strikeIcon='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',tableIcon='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underlineIcon='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',videoIcon='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',icons_default={align:{"":alignLeftIcon,center:alignCenterIcon,right:alignRightIcon,justify:alignJustifyIcon},background:backgroundIcon,blockquote:blockquoteIcon,bold:boldIcon,clean:cleanIcon,code:codeIcon,"code-block":codeIcon,color:colorIcon,direction:{"":directionLeftToRightIcon,rtl:directionRightToLeftIcon},formula:formulaIcon,header:{1:headerIcon,2:header2Icon,3:header3Icon,4:header4Icon,5:header5Icon,6:header6Icon},italic:italicIcon,image:imageIcon,indent:{"+1":indentIcon,"-1":outdentIcon},link:linkIcon,list:{bullet:listBulletIcon,check:listCheckIcon,ordered:listOrderedIcon},script:{sub:subscriptIcon,super:superscriptIcon},strike:strikeIcon,table:tableIcon,underline:underlineIcon,video:videoIcon}}});function toggleAriaAttribute(element2,attribute){element2.setAttribute(attribute,`${element2.getAttribute(attribute)!=="true"}`)}var DropdownIcon,optionsCounter,Picker,picker_default,init_picker=__esm({"node_modules/quill/ui/picker.js"(){DropdownIcon='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',optionsCounter=0;Picker=class{constructor(select){this.select=select,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",event=>{switch(event.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),event.preventDefault();break;default:}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),toggleAriaAttribute(this.label,"aria-expanded"),toggleAriaAttribute(this.options,"aria-hidden")}buildItem(option){let item=document.createElement("span");item.tabIndex="0",item.setAttribute("role","button"),item.classList.add("ql-picker-item");let value=option.getAttribute("value");return value&&item.setAttribute("data-value",value),option.textContent&&item.setAttribute("data-label",option.textContent),item.addEventListener("click",()=>{this.selectItem(item,!0)}),item.addEventListener("keydown",event=>{switch(event.key){case"Enter":this.selectItem(item,!0),event.preventDefault();break;case"Escape":this.escape(),event.preventDefault();break;default:}}),item}buildLabel(){let label=document.createElement("span");return label.classList.add("ql-picker-label"),label.innerHTML=DropdownIcon,label.tabIndex="0",label.setAttribute("role","button"),label.setAttribute("aria-expanded","false"),this.container.appendChild(label),label}buildOptions(){let options=document.createElement("span");options.classList.add("ql-picker-options"),options.setAttribute("aria-hidden","true"),options.tabIndex="-1",options.id=`ql-picker-options-${optionsCounter}`,optionsCounter+=1,this.label.setAttribute("aria-controls",options.id),this.options=options,Array.from(this.select.options).forEach(option=>{let item=this.buildItem(option);options.appendChild(item),option.selected===!0&&this.selectItem(item)}),this.container.appendChild(options)}buildPicker(){Array.from(this.select.attributes).forEach(item=>{this.container.setAttribute(item.name,item.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(item){let trigger=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,selected=this.container.querySelector(".ql-selected");item!==selected&&(selected?.classList.remove("ql-selected"),item!=null&&(item.classList.add("ql-selected"),this.select.selectedIndex=Array.from(item.parentNode.children).indexOf(item),item.hasAttribute("data-value")?this.label.setAttribute("data-value",item.getAttribute("data-value")):this.label.removeAttribute("data-value"),item.hasAttribute("data-label")?this.label.setAttribute("data-label",item.getAttribute("data-label")):this.label.removeAttribute("data-label"),trigger&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let option;if(this.select.selectedIndex>-1){let item=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];option=this.select.options[this.select.selectedIndex],this.selectItem(item)}else this.selectItem(null);let isActive=option!=null&&option!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",isActive)}},picker_default=Picker}});var ColorPicker,color_picker_default,init_color_picker=__esm({"node_modules/quill/ui/color-picker.js"(){init_picker();ColorPicker=class extends picker_default{constructor(select,label){super(select),this.label.innerHTML=label,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(item=>{item.classList.add("ql-primary")})}buildItem(option){let item=super.buildItem(option);return item.style.backgroundColor=option.getAttribute("value")||"",item}selectItem(item,trigger){super.selectItem(item,trigger);let colorLabel=this.label.querySelector(".ql-color-label"),value=item&&item.getAttribute("data-value")||"";colorLabel&&(colorLabel.tagName==="line"?colorLabel.style.stroke=value:colorLabel.style.fill=value)}},color_picker_default=ColorPicker}});var IconPicker,icon_picker_default,init_icon_picker=__esm({"node_modules/quill/ui/icon-picker.js"(){init_picker();IconPicker=class extends picker_default{constructor(select,icons){super(select),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(item=>{item.innerHTML=icons[item.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(target,trigger){super.selectItem(target,trigger);let item=target||this.defaultItem;if(item!=null){if(this.label.innerHTML===item.innerHTML)return;this.label.innerHTML=item.innerHTML}}},icon_picker_default=IconPicker}});var isScrollable,Tooltip,tooltip_default,init_tooltip=__esm({"node_modules/quill/ui/tooltip.js"(){isScrollable=el=>{let{overflowY}=getComputedStyle(el,null);return overflowY!=="visible"&&overflowY!=="clip"},Tooltip=class{constructor(quill,boundsContainer){this.quill=quill,this.boundsContainer=boundsContainer||document.body,this.root=quill.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,isScrollable(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(reference){let left=reference.left+reference.width/2-this.root.offsetWidth/2,top=reference.bottom+this.quill.root.scrollTop;this.root.style.left=`${left}px`,this.root.style.top=`${top}px`,this.root.classList.remove("ql-flip");let containerBounds=this.boundsContainer.getBoundingClientRect(),rootBounds=this.root.getBoundingClientRect(),shift=0;if(rootBounds.right>containerBounds.right&&(shift=containerBounds.right-rootBounds.right,this.root.style.left=`${left+shift}px`),rootBounds.left<containerBounds.left&&(shift=containerBounds.left-rootBounds.left,this.root.style.left=`${left+shift}px`),rootBounds.bottom>containerBounds.bottom){let height=rootBounds.bottom-rootBounds.top,verticalShift=reference.bottom-reference.top+height;this.root.style.top=`${top-verticalShift}px`,this.root.classList.add("ql-flip")}return shift}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},tooltip_default=Tooltip}});function extractVideoUrl(url){let match2=url.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||url.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return match2?`${match2[1]||"https"}://www.youtube.com/embed/${match2[2]}?showinfo=0`:(match2=url.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${match2[1]||"https"}://player.vimeo.com/video/${match2[2]}/`:url}function fillSelect(select,values){let defaultValue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;values.forEach(value=>{let option=document.createElement("option");value===defaultValue?option.setAttribute("selected","selected"):option.setAttribute("value",String(value)),select.appendChild(option)})}var ALIGNS,COLORS,FONTS,HEADERS,SIZES,BaseTheme,BaseTooltip,init_base=__esm({"node_modules/quill/themes/base.js"(){init_lodash();init_emitter();init_theme();init_color_picker();init_icon_picker();init_picker();init_tooltip();ALIGNS=[!1,"center","right","justify"],COLORS=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],FONTS=[!1,"serif","monospace"],HEADERS=["1","2","3",!1],SIZES=["small",!1,"large","huge"],BaseTheme=class extends theme_default{constructor(quill,options){super(quill,options);let listener=e=>{if(!document.body.contains(quill.root)){document.body.removeEventListener("click",listener);return}this.tooltip!=null&&!this.tooltip.root.contains(e.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(picker=>{picker.container.contains(e.target)||picker.close()})};quill.emitter.listenDOM("click",document.body,listener)}addModule(name){let module2=super.addModule(name);return name==="toolbar"&&this.extendToolbar(module2),module2}buildButtons(buttons,icons){Array.from(buttons).forEach(button=>{(button.getAttribute("class")||"").split(/\s+/).forEach(name=>{if(name.startsWith("ql-")&&(name=name.slice(3),icons[name]!=null))if(name==="direction")button.innerHTML=icons[name][""]+icons[name].rtl;else if(typeof icons[name]=="string")button.innerHTML=icons[name];else{let value=button.value||"";value!=null&&icons[name][value]&&(button.innerHTML=icons[name][value])}})})}buildPickers(selects,icons){this.pickers=Array.from(selects).map(select=>{if(select.classList.contains("ql-align")&&(select.querySelector("option")==null&&fillSelect(select,ALIGNS),typeof icons.align=="object"))return new icon_picker_default(select,icons.align);if(select.classList.contains("ql-background")||select.classList.contains("ql-color")){let format=select.classList.contains("ql-background")?"background":"color";return select.querySelector("option")==null&&fillSelect(select,COLORS,format==="background"?"#ffffff":"#000000"),new color_picker_default(select,icons[format])}return select.querySelector("option")==null&&(select.classList.contains("ql-font")?fillSelect(select,FONTS):select.classList.contains("ql-header")?fillSelect(select,HEADERS):select.classList.contains("ql-size")&&fillSelect(select,SIZES)),new picker_default(select)});let update=()=>{this.pickers.forEach(picker=>{picker.update()})};this.quill.on(emitter_default.events.EDITOR_CHANGE,update)}};BaseTheme.DEFAULTS=merge_default({},theme_default.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let fileInput=this.container.querySelector("input.ql-image[type=file]");fileInput==null&&(fileInput=document.createElement("input"),fileInput.setAttribute("type","file"),fileInput.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),fileInput.classList.add("ql-image"),fileInput.addEventListener("change",()=>{let range=this.quill.getSelection(!0);this.quill.uploader.upload(range,fileInput.files),fileInput.value=""}),this.container.appendChild(fileInput)),fileInput.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});BaseTooltip=class extends tooltip_default{constructor(quill,boundsContainer){super(quill,boundsContainer),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",event=>{event.key==="Enter"?(this.save(),event.preventDefault()):event.key==="Escape"&&(this.cancel(),event.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let mode=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",preview=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;preview!=null?this.textbox.value=preview:mode!==this.root.getAttribute("data-mode")&&(this.textbox.value="");let bounds=this.quill.getBounds(this.quill.selection.savedRange);bounds!=null&&this.position(bounds),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${mode}`)||""),this.root.setAttribute("data-mode",mode)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{let{scrollTop}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",value,emitter_default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",value,emitter_default.sources.USER)),this.quill.root.scrollTop=scrollTop;break}case"video":value=extractVideoUrl(value);case"formula":{if(!value)break;let range=this.quill.getSelection(!0);if(range!=null){let index=range.index+range.length;this.quill.insertEmbed(index,this.root.getAttribute("data-mode"),value,emitter_default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(index+1," ",emitter_default.sources.USER),this.quill.setSelection(index+2,emitter_default.sources.USER)}break}default:}this.textbox.value="",this.hide()}}}});var TOOLBAR_CONFIG,BubbleTooltip,BubbleTheme,init_bubble=__esm({"node_modules/quill/themes/bubble.js"(){init_lodash();init_emitter();init_base();init_selection();init_icons();init_quill();TOOLBAR_CONFIG=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],BubbleTooltip=class extends BaseTooltip{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(quill,bounds){super(quill,bounds),this.quill.on(emitter_default.events.EDITOR_CHANGE,(type,range,oldRange,source)=>{if(type===emitter_default.events.SELECTION_CHANGE)if(range!=null&&range.length>0&&source===emitter_default.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;let lines=this.quill.getLines(range.index,range.length);if(lines.length===1){let bounds2=this.quill.getBounds(range);bounds2!=null&&this.position(bounds2)}else{let lastLine=lines[lines.length-1],index=this.quill.getIndex(lastLine),length3=Math.min(lastLine.length()-1,range.index+range.length-index),indexBounds=this.quill.getBounds(new Range(index,length3));indexBounds!=null&&this.position(indexBounds)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(emitter_default.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;let range=this.quill.getSelection();if(range!=null){let bounds=this.quill.getBounds(range);bounds!=null&&this.position(bounds)}},1)})}cancel(){this.show()}position(reference){let shift=super.position(reference),arrow=this.root.querySelector(".ql-tooltip-arrow");return arrow.style.marginLeft="",shift!==0&&(arrow.style.marginLeft=`${-1*shift-arrow.offsetWidth/2}px`),shift}},BubbleTheme=class extends BaseTheme{constructor(quill,options){options.modules.toolbar!=null&&options.modules.toolbar.container==null&&(options.modules.toolbar.container=TOOLBAR_CONFIG),super(quill,options),this.quill.container.classList.add("ql-bubble")}extendToolbar(toolbar){this.tooltip=new BubbleTooltip(this.quill,this.options.bounds),toolbar.container!=null&&(this.tooltip.root.appendChild(toolbar.container),this.buildButtons(toolbar.container.querySelectorAll("button"),icons_default),this.buildPickers(toolbar.container.querySelectorAll("select"),icons_default))}};BubbleTheme.DEFAULTS=merge_default({},BaseTheme.DEFAULTS,{modules:{toolbar:{handlers:{link(value){value?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Quill.sources.USER)}}}}})}});var TOOLBAR_CONFIG2,SnowTooltip,SnowTheme,snow_default,init_snow=__esm({"node_modules/quill/themes/snow.js"(){init_lodash();init_emitter();init_base();init_link();init_selection();init_icons();init_quill();TOOLBAR_CONFIG2=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],SnowTooltip=class extends BaseTooltip{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",event=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),event.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",event=>{if(this.linkRange!=null){let range=this.linkRange;this.restoreFocus(),this.quill.formatText(range,"link",!1,emitter_default.sources.USER),delete this.linkRange}event.preventDefault(),this.hide()}),this.quill.on(emitter_default.events.SELECTION_CHANGE,(range,oldRange,source)=>{if(range!=null){if(range.length===0&&source===emitter_default.sources.USER){let[link,offset]=this.quill.scroll.descendant(Link,range.index);if(link!=null){this.linkRange=new Range(range.index-offset,link.length());let preview=Link.formats(link.domNode);this.preview.textContent=preview,this.preview.setAttribute("href",preview),this.show();let bounds=this.quill.getBounds(this.linkRange);bounds!=null&&this.position(bounds);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}},SnowTheme=class extends BaseTheme{constructor(quill,options){options.modules.toolbar!=null&&options.modules.toolbar.container==null&&(options.modules.toolbar.container=TOOLBAR_CONFIG2),super(quill,options),this.quill.container.classList.add("ql-snow")}extendToolbar(toolbar){toolbar.container!=null&&(toolbar.container.classList.add("ql-snow"),this.buildButtons(toolbar.container.querySelectorAll("button"),icons_default),this.buildPickers(toolbar.container.querySelectorAll("select"),icons_default),this.tooltip=new SnowTooltip(this.quill,this.options.bounds),toolbar.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(_range,context)=>{toolbar.handlers.link.call(toolbar,!context.format.link)}))}};SnowTheme.DEFAULTS=merge_default({},BaseTheme.DEFAULTS,{modules:{toolbar:{handlers:{link(value){if(value){let range=this.quill.getSelection();if(range==null||range.length===0)return;let preview=this.quill.getText(range);/^\S+@\S+\.\S+$/.test(preview)&&preview.indexOf("mailto:")!==0&&(preview=`mailto:${preview}`);let{tooltip}=this.quill.theme;tooltip.edit("link",preview)}else this.quill.format("link",!1,Quill.sources.USER)}}}}});snow_default=SnowTheme}});var quill_exports={};__export(quill_exports,{Module:()=>module_default,Parchment:()=>parchment_exports,Range:()=>Range,default:()=>quill_default});var quill_default,init_quill2=__esm({"node_modules/quill/quill.js"(){init_core();init_align();init_direction();init_indent();init_blockquote();init_header();init_list();init_background();init_color();init_font();init_size();init_bold();init_italic();init_link();init_script();init_strike();init_underline();init_formula();init_image();init_video();init_code();init_syntax();init_table2();init_toolbar();init_icons();init_picker();init_color_picker();init_icon_picker();init_tooltip();init_bubble();init_snow();init_core();core_default.register({"attributors/attribute/direction":DirectionAttribute,"attributors/class/align":AlignClass,"attributors/class/background":BackgroundClass,"attributors/class/color":ColorClass,"attributors/class/direction":DirectionClass,"attributors/class/font":FontClass,"attributors/class/size":SizeClass,"attributors/style/align":AlignStyle,"attributors/style/background":BackgroundStyle,"attributors/style/color":ColorStyle,"attributors/style/direction":DirectionStyle,"attributors/style/font":FontStyle,"attributors/style/size":SizeStyle},!0);core_default.register({"formats/align":AlignClass,"formats/direction":DirectionClass,"formats/indent":indent_default,"formats/background":BackgroundStyle,"formats/color":ColorStyle,"formats/font":FontClass,"formats/size":SizeClass,"formats/blockquote":blockquote_default,"formats/code-block":CodeBlock,"formats/header":header_default,"formats/list":ListItem,"formats/bold":bold_default,"formats/code":Code,"formats/italic":italic_default,"formats/link":Link,"formats/script":script_default,"formats/strike":strike_default,"formats/underline":underline_default,"formats/formula":formula_default,"formats/image":image_default,"formats/video":video_default,"modules/syntax":Syntax,"modules/table":table_default,"modules/toolbar":Toolbar,"themes/bubble":BubbleTheme,"themes/snow":snow_default,"ui/icons":icons_default,"ui/picker":picker_default,"ui/icon-picker":icon_picker_default,"ui/color-picker":color_picker_default,"ui/tooltip":tooltip_default},!0);quill_default=core_default}});var require_quill_cursors=__commonJS({"node_modules/quill-cursors/dist/quill-cursors.js"(exports2,module2){(function(t,e){typeof exports2=="object"&&typeof module2=="object"?module2.exports=e():typeof define=="function"&&define.amd?define([],e):typeof exports2=="object"?exports2.QuillCursors=e():t.QuillCursors=e()})(self,()=>(()=>{var t={582:(t2,e2,r2)=>{"use strict";r2.d(e2,{Z:()=>s});var n2=r2(81),i=r2.n(n2),o=r2(645),a=r2.n(o)()(i());a.push([t2.id,".ql-container{position:relative;overflow:hidden}@media(pointer: coarse){.ql-cursor-caret-container{z-index:-1}}.ql-cursor.hidden{display:none}.ql-cursor .ql-cursor-caret-container,.ql-cursor .ql-cursor-flag{position:absolute}.ql-cursor .ql-cursor-flag{z-index:1;transform:translate3d(-1px, -100%, 0);opacity:0;visibility:hidden;color:#fff;padding-bottom:2px;border-radius:0 3px 3px 0}.ql-cursor .ql-cursor-flag.flag-flipped{border-radius:3px 0 0 3px;transform:translate3d(calc(-100% + 1px ), -100%, 0)}@media screen{.ql-cursor .ql-cursor-flag{transition:opacity 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms,visibility 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms}}.ql-cursor .ql-cursor-flag .ql-cursor-name{margin-left:5px;margin-right:5px;display:inline-block;margin-top:-2px;white-space:nowrap}.ql-cursor .ql-cursor-flag.no-delay[style]{transition-delay:unset !important}.ql-cursor .ql-cursor-caret-container{cursor:text;margin-left:-9px;padding:0 9px}.ql-cursor .ql-cursor-caret-container.hover+.ql-cursor-flag{opacity:1;visibility:visible;transition:none}.ql-cursor .ql-cursor-caret-container.no-pointer{pointer-events:none}.ql-cursor .ql-cursor-caret-container .ql-cursor-caret{position:absolute;top:0;bottom:0;width:2px;margin-left:-1px;background-color:attr(data-color)}.ql-cursor .ql-cursor-selection-block{position:absolute;pointer-events:none}",""]);let s=a},645:t2=>{"use strict";t2.exports=function(t3){var e2=[];return e2.toString=function(){return this.map(function(e3){var r2="",n2=e3[5]!==void 0;return e3[4]&&(r2+="@supports (".concat(e3[4],") {")),e3[2]&&(r2+="@media ".concat(e3[2]," {")),n2&&(r2+="@layer".concat(e3[5].length>0?" ".concat(e3[5]):""," {")),r2+=t3(e3),n2&&(r2+="}"),e3[2]&&(r2+="}"),e3[4]&&(r2+="}"),r2}).join("")},e2.i=function(t4,r2,n2,i,o){typeof t4=="string"&&(t4=[[null,t4,void 0]]);var a={};if(n2)for(var s=0;s<this.length;s++){var u=this[s][0];u!=null&&(a[u]=!0)}for(var c=0;c<t4.length;c++){var l=[].concat(t4[c]);n2&&a[l[0]]||(o!==void 0&&(l[5]===void 0||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),r2&&(l[2]&&(l[1]="@media ".concat(l[2]," {").concat(l[1],"}")),l[2]=r2),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),e2.push(l))}},e2}},81:t2=>{"use strict";t2.exports=function(t3){return t3[1]}},529:t2=>{var e2=-1;function r2(t3,s2,u2,c2){if(t3===s2)return t3?[[0,t3]]:[];if(u2!=null){var l2=function(t4,e3,r3){var n3=typeof r3=="number"?{index:r3,length:0}:r3.oldRange,i2=typeof r3=="number"?null:r3.newRange,o2=t4.length,a2=e3.length;if(n3.length===0&&(i2===null||i2.length===0)){var s3=n3.index,u3=t4.slice(0,s3),c3=t4.slice(s3),l3=i2?i2.index:null,h3=s3+a2-o2;if((l3===null||l3===h3)&&!(h3<0||h3>a2)){var d2=e3.slice(0,h3);if((_=e3.slice(h3))===c3){var p2=Math.min(s3,h3);if((b=u3.slice(0,p2))===(m=d2.slice(0,p2)))return f(b,u3.slice(p2),d2.slice(p2),c3)}}if(l3===null||l3===s3){var g2=s3,_=(d2=e3.slice(0,g2),e3.slice(g2));if(d2===u3){var v=Math.min(o2-g2,a2-g2);if((y=c3.slice(c3.length-v))===(A=_.slice(_.length-v)))return f(u3,c3.slice(0,c3.length-v),_.slice(0,_.length-v),y)}}}if(n3.length>0&&i2&&i2.length===0){var b=t4.slice(0,n3.index),y=t4.slice(n3.index+n3.length);if(!(a2<(p2=b.length)+(v=y.length))){var m=e3.slice(0,p2),A=e3.slice(a2-v);if(b===m&&y===A)return f(b,t4.slice(p2,o2-v),e3.slice(p2,a2-v),y)}}return null}(t3,s2,u2);if(l2)return l2}var h2=i(t3,s2),d=t3.substring(0,h2);h2=o(t3=t3.substring(h2),s2=s2.substring(h2));var p=t3.substring(t3.length-h2),g=function(t4,a2){var s3;if(!t4)return[[1,a2]];if(!a2)return[[e2,t4]];var u3=t4.length>a2.length?t4:a2,c3=t4.length>a2.length?a2:t4,l3=u3.indexOf(c3);if(l3!==-1)return s3=[[1,u3.substring(0,l3)],[0,c3],[1,u3.substring(l3+c3.length)]],t4.length>a2.length&&(s3[0][0]=s3[2][0]=e2),s3;if(c3.length===1)return[[e2,t4],[1,a2]];var f2=function(t5,e3){var r3=t5.length>e3.length?t5:e3,n3=t5.length>e3.length?e3:t5;if(r3.length<4||2*n3.length<r3.length)return null;function a3(t6,e4,r4){for(var n4,a4,s5,u5,c5=t6.substring(r4,r4+Math.floor(t6.length/4)),l5=-1,f4="";(l5=e4.indexOf(c5,l5+1))!==-1;){var h5=i(t6.substring(r4),e4.substring(l5)),d4=o(t6.substring(0,r4),e4.substring(0,l5));f4.length<d4+h5&&(f4=e4.substring(l5-d4,l5)+e4.substring(l5,l5+h5),n4=t6.substring(0,r4-d4),a4=t6.substring(r4+h5),s5=e4.substring(0,l5-d4),u5=e4.substring(l5+h5))}return 2*f4.length>=t6.length?[n4,a4,s5,u5,f4]:null}var s4,u4,c4,l4,f3,h4=a3(r3,n3,Math.ceil(r3.length/4)),d3=a3(r3,n3,Math.ceil(r3.length/2));return h4||d3?(s4=d3?h4&&h4[4].length>d3[4].length?h4:d3:h4,t5.length>e3.length?(u4=s4[0],c4=s4[1],l4=s4[2],f3=s4[3]):(l4=s4[0],f3=s4[1],u4=s4[2],c4=s4[3]),[u4,c4,l4,f3,s4[4]]):null}(t4,a2);if(f2){var h3=f2[0],d2=f2[1],p2=f2[2],g2=f2[3],_=f2[4],v=r2(h3,p2),b=r2(d2,g2);return v.concat([[0,_]],b)}return function(t5,r3){for(var i2=t5.length,o2=r3.length,a3=Math.ceil((i2+o2)/2),s4=a3,u4=2*a3,c4=new Array(u4),l4=new Array(u4),f3=0;f3<u4;f3++)c4[f3]=-1,l4[f3]=-1;c4[s4+1]=0,l4[s4+1]=0;for(var h4=i2-o2,d3=h4%2!=0,p3=0,g3=0,_2=0,v2=0,b2=0;b2<a3;b2++){for(var y=-b2+p3;y<=b2-g3;y+=2){for(var m=s4+y,A=(S=y===-b2||y!==b2&&c4[m-1]<c4[m+1]?c4[m+1]:c4[m-1]+1)-y;S<i2&&A<o2&&t5.charAt(S)===r3.charAt(A);)S++,A++;if(c4[m]=S,S>i2)g3+=2;else if(A>o2)p3+=2;else if(d3&&(w=s4+h4-y)>=0&&w<u4&&l4[w]!==-1&&S>=(C=i2-l4[w]))return n2(t5,r3,S,A)}for(var x=-b2+_2;x<=b2-v2;x+=2){for(var C,w=s4+x,E=(C=x===-b2||x!==b2&&l4[w-1]<l4[w+1]?l4[w+1]:l4[w-1]+1)-x;C<i2&&E<o2&&t5.charAt(i2-C-1)===r3.charAt(o2-E-1);)C++,E++;if(l4[w]=C,C>i2)v2+=2;else if(E>o2)_2+=2;else if(!d3){var S;if((m=s4+h4-x)>=0&&m<u4&&c4[m]!==-1&&(A=s4+(S=c4[m])-m,S>=(C=i2-C)))return n2(t5,r3,S,A)}}}return[[e2,t5],[1,r3]]}(t4,a2)}(t3=t3.substring(0,t3.length-h2),s2=s2.substring(0,s2.length-h2));return d&&g.unshift([0,d]),p&&g.push([0,p]),a(g,c2),g}function n2(t3,e3,n3,i2){var o2=t3.substring(0,n3),a2=e3.substring(0,i2),s2=t3.substring(n3),u2=e3.substring(i2),c2=r2(o2,a2),l2=r2(s2,u2);return c2.concat(l2)}function i(t3,e3){if(!t3||!e3||t3.charAt(0)!==e3.charAt(0))return 0;for(var r3=0,n3=Math.min(t3.length,e3.length),i2=n3,o2=0;r3<i2;)t3.substring(o2,i2)==e3.substring(o2,i2)?o2=r3=i2:n3=i2,i2=Math.floor((n3-r3)/2+r3);return s(t3.charCodeAt(i2-1))&&i2--,i2}function o(t3,e3){if(!t3||!e3||t3.slice(-1)!==e3.slice(-1))return 0;for(var r3=0,n3=Math.min(t3.length,e3.length),i2=n3,o2=0;r3<i2;)t3.substring(t3.length-i2,t3.length-o2)==e3.substring(e3.length-i2,e3.length-o2)?o2=r3=i2:n3=i2,i2=Math.floor((n3-r3)/2+r3);return u(t3.charCodeAt(t3.length-i2))&&i2--,i2}function a(t3,r3){t3.push([0,""]);for(var n3,s2=0,u2=0,f2=0,h2="",d="";s2<t3.length;)if(s2<t3.length-1&&!t3[s2][1])t3.splice(s2,1);else switch(t3[s2][0]){case 1:f2++,d+=t3[s2][1],s2++;break;case e2:u2++,h2+=t3[s2][1],s2++;break;case 0:var p=s2-f2-u2-1;if(r3){if(p>=0&&l(t3[p][1])){var g=t3[p][1].slice(-1);if(t3[p][1]=t3[p][1].slice(0,-1),h2=g+h2,d=g+d,!t3[p][1]){t3.splice(p,1),s2--;var _=p-1;t3[_]&&t3[_][0]===1&&(f2++,d=t3[_][1]+d,_--),t3[_]&&t3[_][0]===e2&&(u2++,h2=t3[_][1]+h2,_--),p=_}}c(t3[s2][1])&&(g=t3[s2][1].charAt(0),t3[s2][1]=t3[s2][1].slice(1),h2+=g,d+=g)}if(s2<t3.length-1&&!t3[s2][1]){t3.splice(s2,1);break}if(h2.length>0||d.length>0){h2.length>0&&d.length>0&&((n3=i(d,h2))!==0&&(p>=0?t3[p][1]+=d.substring(0,n3):(t3.splice(0,0,[0,d.substring(0,n3)]),s2++),d=d.substring(n3),h2=h2.substring(n3)),(n3=o(d,h2))!==0&&(t3[s2][1]=d.substring(d.length-n3)+t3[s2][1],d=d.substring(0,d.length-n3),h2=h2.substring(0,h2.length-n3)));var v=f2+u2;h2.length===0&&d.length===0?(t3.splice(s2-v,v),s2-=v):h2.length===0?(t3.splice(s2-v,v,[1,d]),s2=s2-v+1):d.length===0?(t3.splice(s2-v,v,[e2,h2]),s2=s2-v+1):(t3.splice(s2-v,v,[e2,h2],[1,d]),s2=s2-v+2)}s2!==0&&t3[s2-1][0]===0?(t3[s2-1][1]+=t3[s2][1],t3.splice(s2,1)):s2++,f2=0,u2=0,h2="",d=""}t3[t3.length-1][1]===""&&t3.pop();var b=!1;for(s2=1;s2<t3.length-1;)t3[s2-1][0]===0&&t3[s2+1][0]===0&&(t3[s2][1].substring(t3[s2][1].length-t3[s2-1][1].length)===t3[s2-1][1]?(t3[s2][1]=t3[s2-1][1]+t3[s2][1].substring(0,t3[s2][1].length-t3[s2-1][1].length),t3[s2+1][1]=t3[s2-1][1]+t3[s2+1][1],t3.splice(s2-1,1),b=!0):t3[s2][1].substring(0,t3[s2+1][1].length)==t3[s2+1][1]&&(t3[s2-1][1]+=t3[s2+1][1],t3[s2][1]=t3[s2][1].substring(t3[s2+1][1].length)+t3[s2+1][1],t3.splice(s2+1,1),b=!0)),s2++;b&&a(t3,r3)}function s(t3){return t3>=55296&&t3<=56319}function u(t3){return t3>=56320&&t3<=57343}function c(t3){return u(t3.charCodeAt(0))}function l(t3){return s(t3.charCodeAt(t3.length-1))}function f(t3,r3,n3,i2){return l(t3)||c(i2)?null:function(t4){for(var e3=[],r4=0;r4<t4.length;r4++)t4[r4][1].length>0&&e3.push(t4[r4]);return e3}([[0,t3],[e2,r3],[1,n3],[0,i2]])}function h(t3,e3,n3){return r2(t3,e3,n3,!0)}h.INSERT=1,h.DELETE=e2,h.EQUAL=0,t2.exports=h},465:(t2,e2,r2)=>{t2=r2.nmd(t2);var n2="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Boolean]",s="[object Date]",u="[object Function]",c="[object GeneratorFunction]",l="[object Map]",f="[object Number]",h="[object Object]",d="[object Promise]",p="[object RegExp]",g="[object Set]",_="[object String]",v="[object Symbol]",b="[object WeakMap]",y="[object ArrayBuffer]",m="[object DataView]",A="[object Float32Array]",x="[object Float64Array]",C="[object Int8Array]",w="[object Int16Array]",E="[object Int32Array]",S="[object Uint8Array]",M="[object Uint8ClampedArray]",O="[object Uint16Array]",j="[object Uint32Array]",L=/\w*$/,k=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,R={};R[o]=R["[object Array]"]=R[y]=R[m]=R[a]=R[s]=R[A]=R[x]=R[C]=R[w]=R[E]=R[l]=R[f]=R[h]=R[p]=R[g]=R[_]=R[v]=R[S]=R[M]=R[O]=R[j]=!0,R["[object Error]"]=R[u]=R[b]=!1;var N=typeof r2.g=="object"&&r2.g&&r2.g.Object===Object&&r2.g,q=typeof self=="object"&&self&&self.Object===Object&&self,D=N||q||Function("return this")(),F=e2&&!e2.nodeType&&e2,I=F&&t2&&!t2.nodeType&&t2,P=I&&I.exports===F;function B(t3,e3){return t3.set(e3[0],e3[1]),t3}function z(t3,e3){return t3.add(e3),t3}function H(t3,e3,r3,n3){var i2=-1,o2=t3?t3.length:0;for(n3&&o2&&(r3=t3[++i2]);++i2<o2;)r3=e3(r3,t3[i2],i2,t3);return r3}function U(t3){var e3=!1;if(t3!=null&&typeof t3.toString!="function")try{e3=!!(t3+"")}catch{}return e3}function G(t3){var e3=-1,r3=Array(t3.size);return t3.forEach(function(t4,n3){r3[++e3]=[n3,t4]}),r3}function $(t3,e3){return function(r3){return t3(e3(r3))}}function V(t3){var e3=-1,r3=Array(t3.size);return t3.forEach(function(t4){r3[++e3]=t4}),r3}var W,X=Array.prototype,Q=Function.prototype,Z=Object.prototype,Y=D["__core-js_shared__"],K=(W=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",J=Q.toString,tt=Z.hasOwnProperty,et=Z.toString,rt=RegExp("^"+J.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=P?D.Buffer:void 0,it=D.Symbol,ot=D.Uint8Array,at=$(Object.getPrototypeOf,Object),st=Object.create,ut=Z.propertyIsEnumerable,ct=X.splice,lt=Object.getOwnPropertySymbols,ft=nt?nt.isBuffer:void 0,ht=$(Object.keys,Object),dt=Dt(D,"DataView"),pt=Dt(D,"Map"),gt=Dt(D,"Promise"),_t=Dt(D,"Set"),vt=Dt(D,"WeakMap"),bt=Dt(Object,"create"),yt=zt(dt),mt=zt(pt),At=zt(gt),xt=zt(_t),Ct=zt(vt),wt=it?it.prototype:void 0,Et=wt?wt.valueOf:void 0;function St(t3){var e3=-1,r3=t3?t3.length:0;for(this.clear();++e3<r3;){var n3=t3[e3];this.set(n3[0],n3[1])}}function Mt(t3){var e3=-1,r3=t3?t3.length:0;for(this.clear();++e3<r3;){var n3=t3[e3];this.set(n3[0],n3[1])}}function Ot(t3){var e3=-1,r3=t3?t3.length:0;for(this.clear();++e3<r3;){var n3=t3[e3];this.set(n3[0],n3[1])}}function jt(t3){this.__data__=new Mt(t3)}function Lt(t3,e3,r3){var n3=t3[e3];tt.call(t3,e3)&&Ht(n3,r3)&&(r3!==void 0||e3 in t3)||(t3[e3]=r3)}function kt(t3,e3){for(var r3=t3.length;r3--;)if(Ht(t3[r3][0],e3))return r3;return-1}function Tt(t3,e3,r3,n3,i2,d2,b2){var k2;if(n3&&(k2=d2?n3(t3,i2,d2,b2):n3(t3)),k2!==void 0)return k2;if(!Wt(t3))return t3;var T2=Ut(t3);if(T2){if(k2=function(t4){var e4=t4.length,r4=t4.constructor(e4);return e4&&typeof t4[0]=="string"&&tt.call(t4,"index")&&(r4.index=t4.index,r4.input=t4.input),r4}(t3),!e3)return function(t4,e4){var r4=-1,n4=t4.length;for(e4||(e4=Array(n4));++r4<n4;)e4[r4]=t4[r4];return e4}(t3,k2)}else{var N2=It(t3),q2=N2==u||N2==c;if($t(t3))return function(t4,e4){if(e4)return t4.slice();var r4=new t4.constructor(t4.length);return t4.copy(r4),r4}(t3,e3);if(N2==h||N2==o||q2&&!d2){if(U(t3))return d2?t3:{};if(k2=function(t4){return typeof t4.constructor!="function"||Bt(t4)?{}:Wt(e4=at(t4))?st(e4):{};var e4}(q2?{}:t3),!e3)return function(t4,e4){return Nt(t4,Ft(t4),e4)}(t3,function(t4,e4){return t4&&Nt(e4,Xt(e4),t4)}(k2,t3))}else{if(!R[N2])return d2?t3:{};k2=function(t4,e4,r4,n4){var i3,o2=t4.constructor;switch(e4){case y:return Rt(t4);case a:case s:return new o2(+t4);case m:return function(t5,e5){var r5=e5?Rt(t5.buffer):t5.buffer;return new t5.constructor(r5,t5.byteOffset,t5.byteLength)}(t4,n4);case A:case x:case C:case w:case E:case S:case M:case O:case j:return function(t5,e5){var r5=e5?Rt(t5.buffer):t5.buffer;return new t5.constructor(r5,t5.byteOffset,t5.length)}(t4,n4);case l:return function(t5,e5,r5){return H(e5?r5(G(t5),!0):G(t5),B,new t5.constructor)}(t4,n4,r4);case f:case _:return new o2(t4);case p:return function(t5){var e5=new t5.constructor(t5.source,L.exec(t5));return e5.lastIndex=t5.lastIndex,e5}(t4);case g:return function(t5,e5,r5){return H(e5?r5(V(t5),!0):V(t5),z,new t5.constructor)}(t4,n4,r4);case v:return i3=t4,Et?Object(Et.call(i3)):{}}}(t3,N2,Tt,e3)}}b2||(b2=new jt);var D2=b2.get(t3);if(D2)return D2;if(b2.set(t3,k2),!T2)var F2=r3?function(t4){return function(t5,e4,r4){var n4=e4(t5);return Ut(t5)?n4:function(t6,e5){for(var r5=-1,n5=e5.length,i3=t6.length;++r5<n5;)t6[i3+r5]=e5[r5];return t6}(n4,r4(t5))}(t4,Xt,Ft)}(t3):Xt(t3);return function(t4,e4){for(var r4=-1,n4=t4?t4.length:0;++r4<n4&&e4(t4[r4],r4)!==!1;);}(F2||t3,function(i3,o2){F2&&(i3=t3[o2=i3]),Lt(k2,o2,Tt(i3,e3,r3,n3,o2,t3,b2))}),k2}function Rt(t3){var e3=new t3.constructor(t3.byteLength);return new ot(e3).set(new ot(t3)),e3}function Nt(t3,e3,r3,n3){r3||(r3={});for(var i2=-1,o2=e3.length;++i2<o2;){var a2=e3[i2],s2=n3?n3(r3[a2],t3[a2],a2,r3,t3):void 0;Lt(r3,a2,s2===void 0?t3[a2]:s2)}return r3}function qt(t3,e3){var r3,n3,i2=t3.__data__;return((n3=typeof(r3=e3))=="string"||n3=="number"||n3=="symbol"||n3=="boolean"?r3!=="__proto__":r3===null)?i2[typeof e3=="string"?"string":"hash"]:i2.map}function Dt(t3,e3){var r3=function(t4,e4){return t4?.[e4]}(t3,e3);return function(t4){return!(!Wt(t4)||(e4=t4,K&&K in e4))&&(Vt(t4)||U(t4)?rt:k).test(zt(t4));var e4}(r3)?r3:void 0}St.prototype.clear=function(){this.__data__=bt?bt(null):{}},St.prototype.delete=function(t3){return this.has(t3)&&delete this.__data__[t3]},St.prototype.get=function(t3){var e3=this.__data__;if(bt){var r3=e3[t3];return r3===n2?void 0:r3}return tt.call(e3,t3)?e3[t3]:void 0},St.prototype.has=function(t3){var e3=this.__data__;return bt?e3[t3]!==void 0:tt.call(e3,t3)},St.prototype.set=function(t3,e3){return this.__data__[t3]=bt&&e3===void 0?n2:e3,this},Mt.prototype.clear=function(){this.__data__=[]},Mt.prototype.delete=function(t3){var e3=this.__data__,r3=kt(e3,t3);return!(r3<0||(r3==e3.length-1?e3.pop():ct.call(e3,r3,1),0))},Mt.prototype.get=function(t3){var e3=this.__data__,r3=kt(e3,t3);return r3<0?void 0:e3[r3][1]},Mt.prototype.has=function(t3){return kt(this.__data__,t3)>-1},Mt.prototype.set=function(t3,e3){var r3=this.__data__,n3=kt(r3,t3);return n3<0?r3.push([t3,e3]):r3[n3][1]=e3,this},Ot.prototype.clear=function(){this.__data__={hash:new St,map:new(pt||Mt),string:new St}},Ot.prototype.delete=function(t3){return qt(this,t3).delete(t3)},Ot.prototype.get=function(t3){return qt(this,t3).get(t3)},Ot.prototype.has=function(t3){return qt(this,t3).has(t3)},Ot.prototype.set=function(t3,e3){return qt(this,t3).set(t3,e3),this},jt.prototype.clear=function(){this.__data__=new Mt},jt.prototype.delete=function(t3){return this.__data__.delete(t3)},jt.prototype.get=function(t3){return this.__data__.get(t3)},jt.prototype.has=function(t3){return this.__data__.has(t3)},jt.prototype.set=function(t3,e3){var r3=this.__data__;if(r3 instanceof Mt){var n3=r3.__data__;if(!pt||n3.length<199)return n3.push([t3,e3]),this;r3=this.__data__=new Ot(n3)}return r3.set(t3,e3),this};var Ft=lt?$(lt,Object):function(){return[]},It=function(t3){return et.call(t3)};function Pt(t3,e3){return!!(e3=e3??i)&&(typeof t3=="number"||T.test(t3))&&t3>-1&&t3%1==0&&t3<e3}function Bt(t3){var e3=t3&&t3.constructor;return t3===(typeof e3=="function"&&e3.prototype||Z)}function zt(t3){if(t3!=null){try{return J.call(t3)}catch{}try{return t3+""}catch{}}return""}function Ht(t3,e3){return t3===e3||t3!=t3&&e3!=e3}(dt&&It(new dt(new ArrayBuffer(1)))!=m||pt&&It(new pt)!=l||gt&&It(gt.resolve())!=d||_t&&It(new _t)!=g||vt&&It(new vt)!=b)&&(It=function(t3){var e3=et.call(t3),r3=e3==h?t3.constructor:void 0,n3=r3?zt(r3):void 0;if(n3)switch(n3){case yt:return m;case mt:return l;case At:return d;case xt:return g;case Ct:return b}return e3});var Ut=Array.isArray;function Gt(t3){return t3!=null&&function(t4){return typeof t4=="number"&&t4>-1&&t4%1==0&&t4<=i}(t3.length)&&!Vt(t3)}var $t=ft||function(){return!1};function Vt(t3){var e3=Wt(t3)?et.call(t3):"";return e3==u||e3==c}function Wt(t3){var e3=typeof t3;return!!t3&&(e3=="object"||e3=="function")}function Xt(t3){return Gt(t3)?function(t4,e3){var r3=Ut(t4)||function(t5){return function(t6){return function(t7){return!!t7&&typeof t7=="object"}(t6)&&Gt(t6)}(t5)&&tt.call(t5,"callee")&&(!ut.call(t5,"callee")||et.call(t5)==o)}(t4)?function(t5,e4){for(var r4=-1,n4=Array(t5);++r4<t5;)n4[r4]=e4(r4);return n4}(t4.length,String):[],n3=r3.length,i2=!!n3;for(var a2 in t4)!e3&&!tt.call(t4,a2)||i2&&(a2=="length"||Pt(a2,n3))||r3.push(a2);return r3}(t3):function(t4){if(!Bt(t4))return ht(t4);var e3=[];for(var r3 in Object(t4))tt.call(t4,r3)&&r3!="constructor"&&e3.push(r3);return e3}(t3)}t2.exports=function(t3){return Tt(t3,!0,!0)}},307:(t2,e2,r2)=>{t2=r2.nmd(t2);var n2="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",u="[object Date]",c="[object Error]",l="[object Function]",f="[object Map]",h="[object Number]",d="[object Object]",p="[object Promise]",g="[object RegExp]",_="[object Set]",v="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",m="[object DataView]",A=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[o]=C[a]=C[y]=C[s]=C[m]=C[u]=C[c]=C[l]=C[f]=C[h]=C[d]=C[g]=C[_]=C[v]=C[b]=!1;var w=typeof r2.g=="object"&&r2.g&&r2.g.Object===Object&&r2.g,E=typeof self=="object"&&self&&self.Object===Object&&self,S=w||E||Function("return this")(),M=e2&&!e2.nodeType&&e2,O=M&&t2&&!t2.nodeType&&t2,j=O&&O.exports===M,L=j&&w.process,k=function(){try{return L&&L.binding&&L.binding("util")}catch{}}(),T=k&&k.isTypedArray;function R(t3,e3){for(var r3=-1,n3=t3==null?0:t3.length;++r3<n3;)if(e3(t3[r3],r3,t3))return!0;return!1}function N(t3){var e3=-1,r3=Array(t3.size);return t3.forEach(function(t4,n3){r3[++e3]=[n3,t4]}),r3}function q(t3){var e3=-1,r3=Array(t3.size);return t3.forEach(function(t4){r3[++e3]=t4}),r3}var D,F,I,P=Array.prototype,B=Function.prototype,z=Object.prototype,H=S["__core-js_shared__"],U=B.toString,G=z.hasOwnProperty,$=(D=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",V=z.toString,W=RegExp("^"+U.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X=j?S.Buffer:void 0,Q=S.Symbol,Z=S.Uint8Array,Y=z.propertyIsEnumerable,K=P.splice,J=Q?Q.toStringTag:void 0,tt=Object.getOwnPropertySymbols,et=X?X.isBuffer:void 0,rt=(F=Object.keys,I=Object,function(t3){return F(I(t3))}),nt=Ot(S,"DataView"),it=Ot(S,"Map"),ot=Ot(S,"Promise"),at=Ot(S,"Set"),st=Ot(S,"WeakMap"),ut=Ot(Object,"create"),ct=Tt(nt),lt=Tt(it),ft=Tt(ot),ht=Tt(at),dt=Tt(st),pt=Q?Q.prototype:void 0,gt=pt?pt.valueOf:void 0;function _t(t3){var e3=-1,r3=t3==null?0:t3.length;for(this.clear();++e3<r3;){var n3=t3[e3];this.set(n3[0],n3[1])}}function vt(t3){var e3=-1,r3=t3==null?0:t3.length;for(this.clear();++e3<r3;){var n3=t3[e3];this.set(n3[0],n3[1])}}function bt(t3){var e3=-1,r3=t3==null?0:t3.length;for(this.clear();++e3<r3;){var n3=t3[e3];this.set(n3[0],n3[1])}}function yt(t3){var e3=-1,r3=t3==null?0:t3.length;for(this.__data__=new bt;++e3<r3;)this.add(t3[e3])}function mt(t3){var e3=this.__data__=new vt(t3);this.size=e3.size}function At(t3,e3){for(var r3=t3.length;r3--;)if(Rt(t3[r3][0],e3))return r3;return-1}function xt(t3){return t3==null?t3===void 0?"[object Undefined]":"[object Null]":J&&J in Object(t3)?function(t4){var e3=G.call(t4,J),r3=t4[J];try{t4[J]=void 0;var n3=!0}catch{}var i2=V.call(t4);return n3&&(e3?t4[J]=r3:delete t4[J]),i2}(t3):function(t4){return V.call(t4)}(t3)}function Ct(t3){return Bt(t3)&&xt(t3)==o}function wt(t3,e3,r3,n3,i2){return t3===e3||(t3==null||e3==null||!Bt(t3)&&!Bt(e3)?t3!=t3&&e3!=e3:function(t4,e4,r4,n4,i3,l2){var p2=qt(t4),b2=qt(e4),A2=p2?a:Lt(t4),x2=b2?a:Lt(e4),C2=(A2=A2==o?d:A2)==d,w2=(x2=x2==o?d:x2)==d,E2=A2==x2;if(E2&&Dt(t4)){if(!Dt(e4))return!1;p2=!0,C2=!1}if(E2&&!C2)return l2||(l2=new mt),p2||zt(t4)?Et(t4,e4,r4,n4,i3,l2):function(t5,e5,r5,n5,i4,o2,a2){switch(r5){case m:if(t5.byteLength!=e5.byteLength||t5.byteOffset!=e5.byteOffset)return!1;t5=t5.buffer,e5=e5.buffer;case y:return!(t5.byteLength!=e5.byteLength||!o2(new Z(t5),new Z(e5)));case s:case u:case h:return Rt(+t5,+e5);case c:return t5.name==e5.name&&t5.message==e5.message;case g:case v:return t5==e5+"";case f:var l3=N;case _:var d2=1&n5;if(l3||(l3=q),t5.size!=e5.size&&!d2)return!1;var p3=a2.get(t5);if(p3)return p3==e5;n5|=2,a2.set(t5,e5);var b3=Et(l3(t5),l3(e5),n5,i4,o2,a2);return a2.delete(t5),b3;case"[object Symbol]":if(gt)return gt.call(t5)==gt.call(e5)}return!1}(t4,e4,A2,r4,n4,i3,l2);if(!(1&r4)){var S2=C2&&G.call(t4,"__wrapped__"),M2=w2&&G.call(e4,"__wrapped__");if(S2||M2){var O2=S2?t4.value():t4,j2=M2?e4.value():e4;return l2||(l2=new mt),i3(O2,j2,r4,n4,l2)}}return!!E2&&(l2||(l2=new mt),function(t5,e5,r5,n5,i4,o2){var a2=1&r5,s2=St(t5),u2=s2.length;if(u2!=St(e5).length&&!a2)return!1;for(var c2=u2;c2--;){var l3=s2[c2];if(!(a2?l3 in e5:G.call(e5,l3)))return!1}var f2=o2.get(t5);if(f2&&o2.get(e5))return f2==e5;var h2=!0;o2.set(t5,e5),o2.set(e5,t5);for(var d2=a2;++c2<u2;){var p3=t5[l3=s2[c2]],g2=e5[l3];if(n5)var _2=a2?n5(g2,p3,l3,e5,t5,o2):n5(p3,g2,l3,t5,e5,o2);if(!(_2===void 0?p3===g2||i4(p3,g2,r5,n5,o2):_2)){h2=!1;break}d2||(d2=l3=="constructor")}if(h2&&!d2){var v2=t5.constructor,b3=e5.constructor;v2==b3||!("constructor"in t5)||!("constructor"in e5)||typeof v2=="function"&&v2 instanceof v2&&typeof b3=="function"&&b3 instanceof b3||(h2=!1)}return o2.delete(t5),o2.delete(e5),h2}(t4,e4,r4,n4,i3,l2))}(t3,e3,r3,n3,wt,i2))}function Et(t3,e3,r3,n3,i2,o2){var a2=1&r3,s2=t3.length,u2=e3.length;if(s2!=u2&&!(a2&&u2>s2))return!1;var c2=o2.get(t3);if(c2&&o2.get(e3))return c2==e3;var l2=-1,f2=!0,h2=2&r3?new yt:void 0;for(o2.set(t3,e3),o2.set(e3,t3);++l2<s2;){var d2=t3[l2],p2=e3[l2];if(n3)var g2=a2?n3(p2,d2,l2,e3,t3,o2):n3(d2,p2,l2,t3,e3,o2);if(g2!==void 0){if(g2)continue;f2=!1;break}if(h2){if(!R(e3,function(t4,e4){if(a3=e4,!h2.has(a3)&&(d2===t4||i2(d2,t4,r3,n3,o2)))return h2.push(e4);var a3})){f2=!1;break}}else if(d2!==p2&&!i2(d2,p2,r3,n3,o2)){f2=!1;break}}return o2.delete(t3),o2.delete(e3),f2}function St(t3){return function(t4,e3,r3){var n3=e3(t4);return qt(t4)?n3:function(t5,e4){for(var r4=-1,n4=e4.length,i2=t5.length;++r4<n4;)t5[i2+r4]=e4[r4];return t5}(n3,r3(t4))}(t3,Ht,jt)}function Mt(t3,e3){var r3,n3,i2=t3.__data__;return((n3=typeof(r3=e3))=="string"||n3=="number"||n3=="symbol"||n3=="boolean"?r3!=="__proto__":r3===null)?i2[typeof e3=="string"?"string":"hash"]:i2.map}function Ot(t3,e3){var r3=function(t4,e4){return t4?.[e4]}(t3,e3);return function(t4){return!(!Pt(t4)||function(t5){return!!$&&$ in t5}(t4))&&(Ft(t4)?W:A).test(Tt(t4))}(r3)?r3:void 0}_t.prototype.clear=function(){this.__data__=ut?ut(null):{},this.size=0},_t.prototype.delete=function(t3){var e3=this.has(t3)&&delete this.__data__[t3];return this.size-=e3?1:0,e3},_t.prototype.get=function(t3){var e3=this.__data__;if(ut){var r3=e3[t3];return r3===n2?void 0:r3}return G.call(e3,t3)?e3[t3]:void 0},_t.prototype.has=function(t3){var e3=this.__data__;return ut?e3[t3]!==void 0:G.call(e3,t3)},_t.prototype.set=function(t3,e3){var r3=this.__data__;return this.size+=this.has(t3)?0:1,r3[t3]=ut&&e3===void 0?n2:e3,this},vt.prototype.clear=function(){this.__data__=[],this.size=0},vt.prototype.delete=function(t3){var e3=this.__data__,r3=At(e3,t3);return!(r3<0||(r3==e3.length-1?e3.pop():K.call(e3,r3,1),--this.size,0))},vt.prototype.get=function(t3){var e3=this.__data__,r3=At(e3,t3);return r3<0?void 0:e3[r3][1]},vt.prototype.has=function(t3){return At(this.__data__,t3)>-1},vt.prototype.set=function(t3,e3){var r3=this.__data__,n3=At(r3,t3);return n3<0?(++this.size,r3.push([t3,e3])):r3[n3][1]=e3,this},bt.prototype.clear=function(){this.size=0,this.__data__={hash:new _t,map:new(it||vt),string:new _t}},bt.prototype.delete=function(t3){var e3=Mt(this,t3).delete(t3);return this.size-=e3?1:0,e3},bt.prototype.get=function(t3){return Mt(this,t3).get(t3)},bt.prototype.has=function(t3){return Mt(this,t3).has(t3)},bt.prototype.set=function(t3,e3){var r3=Mt(this,t3),n3=r3.size;return r3.set(t3,e3),this.size+=r3.size==n3?0:1,this},yt.prototype.add=yt.prototype.push=function(t3){return this.__data__.set(t3,n2),this},yt.prototype.has=function(t3){return this.__data__.has(t3)},mt.prototype.clear=function(){this.__data__=new vt,this.size=0},mt.prototype.delete=function(t3){var e3=this.__data__,r3=e3.delete(t3);return this.size=e3.size,r3},mt.prototype.get=function(t3){return this.__data__.get(t3)},mt.prototype.has=function(t3){return this.__data__.has(t3)},mt.prototype.set=function(t3,e3){var r3=this.__data__;if(r3 instanceof vt){var n3=r3.__data__;if(!it||n3.length<199)return n3.push([t3,e3]),this.size=++r3.size,this;r3=this.__data__=new bt(n3)}return r3.set(t3,e3),this.size=r3.size,this};var jt=tt?function(t3){return t3==null?[]:(t3=Object(t3),function(e3,r3){for(var n3=-1,i2=e3==null?0:e3.length,o2=0,a2=[];++n3<i2;){var s2=e3[n3];u2=s2,Y.call(t3,u2)&&(a2[o2++]=s2)}var u2;return a2}(tt(t3)))}:function(){return[]},Lt=xt;function kt(t3,e3){return!!(e3=e3??i)&&(typeof t3=="number"||x.test(t3))&&t3>-1&&t3%1==0&&t3<e3}function Tt(t3){if(t3!=null){try{return U.call(t3)}catch{}try{return t3+""}catch{}}return""}function Rt(t3,e3){return t3===e3||t3!=t3&&e3!=e3}(nt&&Lt(new nt(new ArrayBuffer(1)))!=m||it&&Lt(new it)!=f||ot&&Lt(ot.resolve())!=p||at&&Lt(new at)!=_||st&&Lt(new st)!=b)&&(Lt=function(t3){var e3=xt(t3),r3=e3==d?t3.constructor:void 0,n3=r3?Tt(r3):"";if(n3)switch(n3){case ct:return m;case lt:return f;case ft:return p;case ht:return _;case dt:return b}return e3});var Nt=Ct(function(){return arguments}())?Ct:function(t3){return Bt(t3)&&G.call(t3,"callee")&&!Y.call(t3,"callee")},qt=Array.isArray,Dt=et||function(){return!1};function Ft(t3){if(!Pt(t3))return!1;var e3=xt(t3);return e3==l||e3=="[object GeneratorFunction]"||e3=="[object AsyncFunction]"||e3=="[object Proxy]"}function It(t3){return typeof t3=="number"&&t3>-1&&t3%1==0&&t3<=i}function Pt(t3){var e3=typeof t3;return t3!=null&&(e3=="object"||e3=="function")}function Bt(t3){return t3!=null&&typeof t3=="object"}var zt=T?function(t3){return function(e3){return t3(e3)}}(T):function(t3){return Bt(t3)&&It(t3.length)&&!!C[xt(t3)]};function Ht(t3){return(e3=t3)!=null&&It(e3.length)&&!Ft(e3)?function(t4,e4){var r3=qt(t4),n3=!r3&&Nt(t4),i2=!r3&&!n3&&Dt(t4),o2=!r3&&!n3&&!i2&&zt(t4),a2=r3||n3||i2||o2,s2=a2?function(t5,e5){for(var r4=-1,n4=Array(t5);++r4<t5;)n4[r4]=e5(r4);return n4}(t4.length,String):[],u2=s2.length;for(var c2 in t4)!e4&&!G.call(t4,c2)||a2&&(c2=="length"||i2&&(c2=="offset"||c2=="parent")||o2&&(c2=="buffer"||c2=="byteLength"||c2=="byteOffset")||kt(c2,u2))||s2.push(c2);return s2}(t3):function(t4){if(r3=(e4=t4)&&e4.constructor,e4!==(typeof r3=="function"&&r3.prototype||z))return rt(t4);var e4,r3,n3=[];for(var i2 in Object(t4))G.call(t4,i2)&&i2!="constructor"&&n3.push(i2);return n3}(t3);var e3}t2.exports=function(t3,e3){return wt(t3,e3)}},210:function(t2,e2,r2){"use strict";var n2=this&&this.__importDefault||function(t3){return t3&&t3.__esModule?t3:{default:t3}};Object.defineProperty(e2,"__esModule",{value:!0});var i,o=n2(r2(465)),a=n2(r2(307));(function(t3){t3.compose=function(t4,e3,r3){t4===void 0&&(t4={}),e3===void 0&&(e3={}),typeof t4!="object"&&(t4={}),typeof e3!="object"&&(e3={});var n3=o.default(e3);for(var i2 in r3||(n3=Object.keys(n3).reduce(function(t5,e4){return n3[e4]!=null&&(t5[e4]=n3[e4]),t5},{})),t4)t4[i2]!==void 0&&e3[i2]===void 0&&(n3[i2]=t4[i2]);return Object.keys(n3).length>0?n3:void 0},t3.diff=function(t4,e3){t4===void 0&&(t4={}),e3===void 0&&(e3={}),typeof t4!="object"&&(t4={}),typeof e3!="object"&&(e3={});var r3=Object.keys(t4).concat(Object.keys(e3)).reduce(function(r4,n3){return a.default(t4[n3],e3[n3])||(r4[n3]=e3[n3]===void 0?null:e3[n3]),r4},{});return Object.keys(r3).length>0?r3:void 0},t3.invert=function(t4,e3){t4===void 0&&(t4={}),e3===void 0&&(e3={}),t4=t4||{};var r3=Object.keys(e3).reduce(function(r4,n3){return e3[n3]!==t4[n3]&&t4[n3]!==void 0&&(r4[n3]=e3[n3]),r4},{});return Object.keys(t4).reduce(function(r4,n3){return t4[n3]!==e3[n3]&&e3[n3]===void 0&&(r4[n3]=null),r4},r3)},t3.transform=function(t4,e3,r3){if(r3===void 0&&(r3=!1),typeof t4!="object")return e3;if(typeof e3=="object"){if(!r3)return e3;var n3=Object.keys(e3).reduce(function(r4,n4){return t4[n4]===void 0&&(r4[n4]=e3[n4]),r4},{});return Object.keys(n3).length>0?n3:void 0}}})(i||(i={})),e2.default=i},895:function(t2,e2,r2){"use strict";var n2=this&&this.__importDefault||function(t3){return t3&&t3.__esModule?t3:{default:t3}},i=n2(r2(529)),o=n2(r2(465)),a=n2(r2(307)),s=n2(r2(210)),u=n2(r2(430)),c="\0",l=function(){function t3(t4){Array.isArray(t4)?this.ops=t4:t4!=null&&Array.isArray(t4.ops)?this.ops=t4.ops:this.ops=[]}return t3.prototype.insert=function(t4,e3){var r3={};return typeof t4=="string"&&t4.length===0?this:(r3.insert=t4,e3!=null&&typeof e3=="object"&&Object.keys(e3).length>0&&(r3.attributes=e3),this.push(r3))},t3.prototype.delete=function(t4){return t4<=0?this:this.push({delete:t4})},t3.prototype.retain=function(t4,e3){if(t4<=0)return this;var r3={retain:t4};return e3!=null&&typeof e3=="object"&&Object.keys(e3).length>0&&(r3.attributes=e3),this.push(r3)},t3.prototype.push=function(t4){var e3=this.ops.length,r3=this.ops[e3-1];if(t4=o.default(t4),typeof r3=="object"){if(typeof t4.delete=="number"&&typeof r3.delete=="number")return this.ops[e3-1]={delete:r3.delete+t4.delete},this;if(typeof r3.delete=="number"&&t4.insert!=null&&(e3-=1,typeof(r3=this.ops[e3-1])!="object"))return this.ops.unshift(t4),this;if(a.default(t4.attributes,r3.attributes)){if(typeof t4.insert=="string"&&typeof r3.insert=="string")return this.ops[e3-1]={insert:r3.insert+t4.insert},typeof t4.attributes=="object"&&(this.ops[e3-1].attributes=t4.attributes),this;if(typeof t4.retain=="number"&&typeof r3.retain=="number")return this.ops[e3-1]={retain:r3.retain+t4.retain},typeof t4.attributes=="object"&&(this.ops[e3-1].attributes=t4.attributes),this}}return e3===this.ops.length?this.ops.push(t4):this.ops.splice(e3,0,t4),this},t3.prototype.chop=function(){var t4=this.ops[this.ops.length-1];return t4&&t4.retain&&!t4.attributes&&this.ops.pop(),this},t3.prototype.filter=function(t4){return this.ops.filter(t4)},t3.prototype.forEach=function(t4){this.ops.forEach(t4)},t3.prototype.map=function(t4){return this.ops.map(t4)},t3.prototype.partition=function(t4){var e3=[],r3=[];return this.forEach(function(n3){(t4(n3)?e3:r3).push(n3)}),[e3,r3]},t3.prototype.reduce=function(t4,e3){return this.ops.reduce(t4,e3)},t3.prototype.changeLength=function(){return this.reduce(function(t4,e3){return e3.insert?t4+u.default.length(e3):e3.delete?t4-e3.delete:t4},0)},t3.prototype.length=function(){return this.reduce(function(t4,e3){return t4+u.default.length(e3)},0)},t3.prototype.slice=function(e3,r3){e3===void 0&&(e3=0),r3===void 0&&(r3=1/0);for(var n3=[],i2=u.default.iterator(this.ops),o2=0;o2<r3&&i2.hasNext();){var a2=void 0;o2<e3?a2=i2.next(e3-o2):(a2=i2.next(r3-o2),n3.push(a2)),o2+=u.default.length(a2)}return new t3(n3)},t3.prototype.compose=function(e3){var r3=u.default.iterator(this.ops),n3=u.default.iterator(e3.ops),i2=[],o2=n3.peek();if(o2!=null&&typeof o2.retain=="number"&&o2.attributes==null){for(var c2=o2.retain;r3.peekType()==="insert"&&r3.peekLength()<=c2;)c2-=r3.peekLength(),i2.push(r3.next());o2.retain-c2>0&&n3.next(o2.retain-c2)}for(var l2=new t3(i2);r3.hasNext()||n3.hasNext();)if(n3.peekType()==="insert")l2.push(n3.next());else if(r3.peekType()==="delete")l2.push(r3.next());else{var f=Math.min(r3.peekLength(),n3.peekLength()),h=r3.next(f),d=n3.next(f);if(typeof d.retain=="number"){var p={};typeof h.retain=="number"?p.retain=f:p.insert=h.insert;var g=s.default.compose(h.attributes,d.attributes,typeof h.retain=="number");if(g&&(p.attributes=g),l2.push(p),!n3.hasNext()&&a.default(l2.ops[l2.ops.length-1],p)){var _=new t3(r3.rest());return l2.concat(_).chop()}}else typeof d.delete=="number"&&typeof h.retain=="number"&&l2.push(d)}return l2.chop()},t3.prototype.concat=function(e3){var r3=new t3(this.ops.slice());return e3.ops.length>0&&(r3.push(e3.ops[0]),r3.ops=r3.ops.concat(e3.ops.slice(1))),r3},t3.prototype.diff=function(e3,r3){if(this.ops===e3.ops)return new t3;var n3=[this,e3].map(function(t4){return t4.map(function(r4){if(r4.insert!=null)return typeof r4.insert=="string"?r4.insert:c;throw new Error("diff() called "+(t4===e3?"on":"with")+" non-document")}).join("")}),o2=new t3,l2=i.default(n3[0],n3[1],r3),f=u.default.iterator(this.ops),h=u.default.iterator(e3.ops);return l2.forEach(function(t4){for(var e4=t4[1].length;e4>0;){var r4=0;switch(t4[0]){case i.default.INSERT:r4=Math.min(h.peekLength(),e4),o2.push(h.next(r4));break;case i.default.DELETE:r4=Math.min(e4,f.peekLength()),f.next(r4),o2.delete(r4);break;case i.default.EQUAL:r4=Math.min(f.peekLength(),h.peekLength(),e4);var n4=f.next(r4),u2=h.next(r4);a.default(n4.insert,u2.insert)?o2.retain(r4,s.default.diff(n4.attributes,u2.attributes)):o2.push(u2).delete(r4)}e4-=r4}}),o2.chop()},t3.prototype.eachLine=function(e3,r3){r3===void 0&&(r3=`
`);for(var n3=u.default.iterator(this.ops),i2=new t3,o2=0;n3.hasNext();){if(n3.peekType()!=="insert")return;var a2=n3.peek(),s2=u.default.length(a2)-n3.peekLength(),c2=typeof a2.insert=="string"?a2.insert.indexOf(r3,s2)-s2:-1;if(c2<0)i2.push(n3.next());else if(c2>0)i2.push(n3.next(c2));else{if(e3(i2,n3.next(1).attributes||{},o2)===!1)return;o2+=1,i2=new t3}}i2.length()>0&&e3(i2,{},o2)},t3.prototype.invert=function(e3){var r3=new t3;return this.reduce(function(t4,n3){if(n3.insert)r3.delete(u.default.length(n3));else{if(n3.retain&&n3.attributes==null)return r3.retain(n3.retain),t4+n3.retain;if(n3.delete||n3.retain&&n3.attributes){var i2=n3.delete||n3.retain;return e3.slice(t4,t4+i2).forEach(function(t5){n3.delete?r3.push(t5):n3.retain&&n3.attributes&&r3.retain(u.default.length(t5),s.default.invert(n3.attributes,t5.attributes))}),t4+i2}}return t4},0),r3.chop()},t3.prototype.transform=function(e3,r3){if(r3===void 0&&(r3=!1),r3=!!r3,typeof e3=="number")return this.transformPosition(e3,r3);for(var n3=e3,i2=u.default.iterator(this.ops),o2=u.default.iterator(n3.ops),a2=new t3;i2.hasNext()||o2.hasNext();)if(i2.peekType()!=="insert"||!r3&&o2.peekType()==="insert")if(o2.peekType()==="insert")a2.push(o2.next());else{var c2=Math.min(i2.peekLength(),o2.peekLength()),l2=i2.next(c2),f=o2.next(c2);if(l2.delete)continue;f.delete?a2.push(f):a2.retain(c2,s.default.transform(l2.attributes,f.attributes,r3))}else a2.retain(u.default.length(i2.next()));return a2.chop()},t3.prototype.transformPosition=function(t4,e3){e3===void 0&&(e3=!1),e3=!!e3;for(var r3=u.default.iterator(this.ops),n3=0;r3.hasNext()&&n3<=t4;){var i2=r3.peekLength(),o2=r3.peekType();r3.next(),o2!=="delete"?(o2==="insert"&&(n3<t4||!e3)&&(t4+=i2),n3+=i2):t4-=Math.min(i2,t4-n3)}return t4},t3.Op=u.default,t3.AttributeMap=s.default,t3}();t2.exports=l},977:function(t2,e2,r2){"use strict";var n2=this&&this.__importDefault||function(t3){return t3&&t3.__esModule?t3:{default:t3}};Object.defineProperty(e2,"__esModule",{value:!0});var i=n2(r2(430)),o=function(){function t3(t4){this.ops=t4,this.index=0,this.offset=0}return t3.prototype.hasNext=function(){return this.peekLength()<1/0},t3.prototype.next=function(t4){t4||(t4=1/0);var e3=this.ops[this.index];if(e3){var r3=this.offset,n3=i.default.length(e3);if(t4>=n3-r3?(t4=n3-r3,this.index+=1,this.offset=0):this.offset+=t4,typeof e3.delete=="number")return{delete:t4};var o2={};return e3.attributes&&(o2.attributes=e3.attributes),typeof e3.retain=="number"?o2.retain=t4:typeof e3.insert=="string"?o2.insert=e3.insert.substr(r3,t4):o2.insert=e3.insert,o2}return{retain:1/0}},t3.prototype.peek=function(){return this.ops[this.index]},t3.prototype.peekLength=function(){return this.ops[this.index]?i.default.length(this.ops[this.index])-this.offset:1/0},t3.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},t3.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var t4=this.offset,e3=this.index,r3=this.next(),n3=this.ops.slice(this.index);return this.offset=t4,this.index=e3,[r3].concat(n3)}return[]},t3}();e2.default=o},430:function(t2,e2,r2){"use strict";var n2=this&&this.__importDefault||function(t3){return t3&&t3.__esModule?t3:{default:t3}};Object.defineProperty(e2,"__esModule",{value:!0});var i,o=n2(r2(977));(function(t3){t3.iterator=function(t4){return new o.default(t4)},t3.length=function(t4){return typeof t4.delete=="number"?t4.delete:typeof t4.retain=="number"?t4.retain:typeof t4.insert=="string"?t4.insert.length:1}})(i||(i={})),e2.default=i},165:function(t2,e2,r2){var n2,i;(i=typeof(n2=function(){var t3,e3={};function r3(t4,e4,r4){var n4=t4.getClientRects();if(n4.length===2){var i3=t4.getBoundingClientRect();return n4[e4][r4]<i3[r4]}return!1}function n3(t4){if(!t4||screen.deviceXDPI===screen.logicalXDPI)return t4;if("length"in t4)return Array.prototype.map.call(t4,n3);var e4=screen.deviceXDPI/screen.logicalXDPI;return{top:t4.top/e4,bottom:t4.bottom/e4,left:t4.left/e4,right:t4.right/e4,width:t4.width/e4,height:t4.height/e4}}function i2(t4,e4){var r4,n4=0,i3=1024;if(i3>=e4.length)return Array.prototype.push.apply(t4,e4);for(;n4<e4.length;)r4=Array.prototype.push.apply(t4,Array.prototype.slice.call(e4,n4,n4+i3)),n4+=i3;return r4}return e3.isBroken=function(){if(t3===void 0){var e4=document.createElement("p"),n4=document.createElement("span"),i3=document.createTextNode("aa"),o=document.createTextNode("aa"),a=document.createElement("img");a.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=");var s=document.createRange();if(t3={},e4.appendChild(i3),e4.appendChild(n4),n4.appendChild(a),n4.appendChild(o),document.body.appendChild(e4),s.setStart(i3,1),s.setEnd(n4,0),t3.getClientRects=t3.getBoundingClientRect=s.getClientRects().length>1,t3.getClientRects||(s.setEnd(o,1),t3.getClientRects=t3.getBoundingClientRect=s.getClientRects().length===2),!t3.getBoundingClientRect){s.setEnd(s.startContainer,s.startOffset);var u=s.getBoundingClientRect();t3.getBoundingClientRect=u.top===0&&u.left===0}if(document.body.removeChild(e4),!t3.getBoundingClientRect){var c=document.createElement("p");c.style.width="0px",c.style.fontSize="20px",c.style.whiteSpace="normal",c.style.wordBreak="normal";var l=document.createTextNode("m mm");c.appendChild(l),document.body.appendChild(c),s.setStart(l,1),s.setEnd(l,2),r3(s,1,"left")?t3.getBoundingClientRect=!0:(s.setStart(l,1),s.setEnd(l,3),r3(s,0,"top")&&(t3.getBoundingClientRect=!0)),document.body.removeChild(c)}var f=window.ActiveXObject&&new Function("/*@cc_on return @_jscript_version; @*/")();t3.ieZoom=!!f&&f<=10}return t3},e3.getClientRects=function(t4){var e4=this.isBroken();if(e4.ieZoom)return n3(t4.getClientRects());if(!e4.getClientRects)return t4.getClientRects();var r4=[],o=[],a=t4.endContainer,s=t4.endOffset,u=document.createRange();function c(t5){for(var e5=0;t5=t5.previousSibling;)e5++;return e5}for(;a!==t4.commonAncestorContainer;)u.setStart(a,0),u.setEnd(a,s),i2(o,u.getClientRects()),s=c(a),a=a.parentNode;return(u=t4.cloneRange()).setEnd(a,s),i2(r4,u.getClientRects()),i2(r4,o),r4},e3.getBoundingClientRect=function(t4){var e4=this.getClientRects(t4);if(e4.length===0)return null;var r4,i3=t4.getBoundingClientRect(),o=this.isBroken();if(o.ieZoom)return n3(i3);if(!o.getBoundingClientRect)return i3;if(i3.width===0&&i3.height===0)return e4[0];for(var a=0,s=e4.length;a<s;a++){var u=e4[a];r4?(r4.left=Math.min(r4.left,u.left),r4.top=Math.min(r4.top,u.top),r4.right=Math.max(r4.right,u.right),r4.bottom=Math.max(r4.bottom,u.bottom)):r4={left:u.left,top:u.top,right:u.right,bottom:u.bottom}}return r4&&(r4.width=r4.right-r4.left,r4.height=r4.bottom-r4.top),r4},e3})=="function"?n2.call(e2,r2,e2,t2):n2)===void 0||(t2.exports=i)},33:(t2,e2,r2)=>{"use strict";r2.r(e2),r2.d(e2,{default:()=>C});var n2=function(){if(typeof Map<"u")return Map;function t3(t4,e3){var r3=-1;return t4.some(function(t5,n3){return t5[0]===e3&&(r3=n3,!0)}),r3}return function(){function e3(){this.__entries__=[]}return Object.defineProperty(e3.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e3.prototype.get=function(e4){var r3=t3(this.__entries__,e4),n3=this.__entries__[r3];return n3&&n3[1]},e3.prototype.set=function(e4,r3){var n3=t3(this.__entries__,e4);~n3?this.__entries__[n3][1]=r3:this.__entries__.push([e4,r3])},e3.prototype.delete=function(e4){var r3=this.__entries__,n3=t3(r3,e4);~n3&&r3.splice(n3,1)},e3.prototype.has=function(e4){return!!~t3(this.__entries__,e4)},e3.prototype.clear=function(){this.__entries__.splice(0)},e3.prototype.forEach=function(t4,e4){e4===void 0&&(e4=null);for(var r3=0,n3=this.__entries__;r3<n3.length;r3++){var i2=n3[r3];t4.call(e4,i2[1],i2[0])}},e3}()}(),i=typeof window<"u"&&typeof document<"u"&&window.document===document,o=r2.g!==void 0&&r2.g.Math===Math?r2.g:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),a=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(o):function(t3){return setTimeout(function(){return t3(Date.now())},1e3/60)},s=["top","right","bottom","left","width","height","size","weight"],u=typeof MutationObserver<"u",c=function(){function t3(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t4,e3){var r3=!1,n3=!1,i2=0;function o2(){r3&&(r3=!1,t4()),n3&&u2()}function s2(){a(o2)}function u2(){var t5=Date.now();if(r3){if(t5-i2<2)return;n3=!0}else r3=!0,n3=!1,setTimeout(s2,20);i2=t5}return u2}(this.refresh.bind(this))}return t3.prototype.addObserver=function(t4){~this.observers_.indexOf(t4)||this.observers_.push(t4),this.connected_||this.connect_()},t3.prototype.removeObserver=function(t4){var e3=this.observers_,r3=e3.indexOf(t4);~r3&&e3.splice(r3,1),!e3.length&&this.connected_&&this.disconnect_()},t3.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t3.prototype.updateObservers_=function(){var t4=this.observers_.filter(function(t5){return t5.gatherActive(),t5.hasActive()});return t4.forEach(function(t5){return t5.broadcastActive()}),t4.length>0},t3.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t3.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t3.prototype.onTransitionEnd_=function(t4){var e3=t4.propertyName,r3=e3===void 0?"":e3;s.some(function(t5){return!!~r3.indexOf(t5)})&&this.refresh()},t3.getInstance=function(){return this.instance_||(this.instance_=new t3),this.instance_},t3.instance_=null,t3}(),l=function(t3,e3){for(var r3=0,n3=Object.keys(e3);r3<n3.length;r3++){var i2=n3[r3];Object.defineProperty(t3,i2,{value:e3[i2],enumerable:!1,writable:!1,configurable:!0})}return t3},f=function(t3){return t3&&t3.ownerDocument&&t3.ownerDocument.defaultView||o},h=v(0,0,0,0);function d(t3){return parseFloat(t3)||0}function p(t3){for(var e3=[],r3=1;r3<arguments.length;r3++)e3[r3-1]=arguments[r3];return e3.reduce(function(e4,r4){return e4+d(t3["border-"+r4+"-width"])},0)}var g=typeof SVGGraphicsElement<"u"?function(t3){return t3 instanceof f(t3).SVGGraphicsElement}:function(t3){return t3 instanceof f(t3).SVGElement&&typeof t3.getBBox=="function"};function _(t3){return i?g(t3)?function(t4){var e3=t4.getBBox();return v(0,0,e3.width,e3.height)}(t3):function(t4){var e3=t4.clientWidth,r3=t4.clientHeight;if(!e3&&!r3)return h;var n3=f(t4).getComputedStyle(t4),i2=function(t5){for(var e4={},r4=0,n4=["top","right","bottom","left"];r4<n4.length;r4++){var i3=n4[r4],o3=t5["padding-"+i3];e4[i3]=d(o3)}return e4}(n3),o2=i2.left+i2.right,a2=i2.top+i2.bottom,s2=d(n3.width),u2=d(n3.height);if(n3.boxSizing==="border-box"&&(Math.round(s2+o2)!==e3&&(s2-=p(n3,"left","right")+o2),Math.round(u2+a2)!==r3&&(u2-=p(n3,"top","bottom")+a2)),!function(t5){return t5===f(t5).document.documentElement}(t4)){var c2=Math.round(s2+o2)-e3,l2=Math.round(u2+a2)-r3;Math.abs(c2)!==1&&(s2-=c2),Math.abs(l2)!==1&&(u2-=l2)}return v(i2.left,i2.top,s2,u2)}(t3):h}function v(t3,e3,r3,n3){return{x:t3,y:e3,width:r3,height:n3}}var b=function(){function t3(t4){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=t4}return t3.prototype.isActive=function(){var t4=_(this.target);return this.contentRect_=t4,t4.width!==this.broadcastWidth||t4.height!==this.broadcastHeight},t3.prototype.broadcastRect=function(){var t4=this.contentRect_;return this.broadcastWidth=t4.width,this.broadcastHeight=t4.height,t4},t3}(),y=function(t3,e3){var r3,n3,i2,o2,a2,s2,u2,c2=(n3=(r3=e3).x,i2=r3.y,o2=r3.width,a2=r3.height,s2=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u2=Object.create(s2.prototype),l(u2,{x:n3,y:i2,width:o2,height:a2,top:i2,right:n3+o2,bottom:a2+i2,left:n3}),u2);l(this,{target:t3,contentRect:c2})},m=function(){function t3(t4,e3,r3){if(this.activeObservations_=[],this.observations_=new n2,typeof t4!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t4,this.controller_=e3,this.callbackCtx_=r3}return t3.prototype.observe=function(t4){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(t4 instanceof f(t4).Element))throw new TypeError('parameter 1 is not of type "Element".');var e3=this.observations_;e3.has(t4)||(e3.set(t4,new b(t4)),this.controller_.addObserver(this),this.controller_.refresh())}},t3.prototype.unobserve=function(t4){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(t4 instanceof f(t4).Element))throw new TypeError('parameter 1 is not of type "Element".');var e3=this.observations_;e3.has(t4)&&(e3.delete(t4),e3.size||this.controller_.removeObserver(this))}},t3.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t3.prototype.gatherActive=function(){var t4=this;this.clearActive(),this.observations_.forEach(function(e3){e3.isActive()&&t4.activeObservations_.push(e3)})},t3.prototype.broadcastActive=function(){if(this.hasActive()){var t4=this.callbackCtx_,e3=this.activeObservations_.map(function(t5){return new y(t5.target,t5.broadcastRect())});this.callback_.call(t4,e3,t4),this.clearActive()}},t3.prototype.clearActive=function(){this.activeObservations_.splice(0)},t3.prototype.hasActive=function(){return this.activeObservations_.length>0},t3}(),A=typeof WeakMap<"u"?new WeakMap:new n2,x=function t3(e3){if(!(this instanceof t3))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r3=c.getInstance(),n3=new m(e3,r3,this);A.set(this,n3)};["observe","unobserve","disconnect"].forEach(function(t3){x.prototype[t3]=function(){var e3;return(e3=A.get(this))[t3].apply(e3,arguments)}});let C=o.ResizeObserver!==void 0?o.ResizeObserver:x},413:(t2,e2,r2)=>{"use strict";r2.r(e2),r2.d(e2,{default:()=>v});var n2=r2(379),i=r2.n(n2),o=r2(795),a=r2.n(o),s=r2(569),u=r2.n(s),c=r2(565),l=r2.n(c),f=r2(216),h=r2.n(f),d=r2(589),p=r2.n(d),g=r2(582),_={};_.styleTagTransform=p(),_.setAttributes=l(),_.insert=u().bind(null,"head"),_.domAPI=a(),_.insertStyleElement=h(),i()(g.Z,_);let v=g.Z&&g.Z.locals?g.Z.locals:void 0},379:t2=>{"use strict";var e2=[];function r2(t3){for(var r3=-1,n3=0;n3<e2.length;n3++)if(e2[n3].identifier===t3){r3=n3;break}return r3}function n2(t3,n3){for(var o={},a=[],s=0;s<t3.length;s++){var u=t3[s],c=n3.base?u[0]+n3.base:u[0],l=o[c]||0,f="".concat(c," ").concat(l);o[c]=l+1;var h=r2(f),d={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(h!==-1)e2[h].references++,e2[h].updater(d);else{var p=i(d,n3);n3.byIndex=s,e2.splice(s,0,{identifier:f,updater:p,references:1})}a.push(f)}return a}function i(t3,e3){var r3=e3.domAPI(e3);return r3.update(t3),function(e4){if(e4){if(e4.css===t3.css&&e4.media===t3.media&&e4.sourceMap===t3.sourceMap&&e4.supports===t3.supports&&e4.layer===t3.layer)return;r3.update(t3=e4)}else r3.remove()}}t2.exports=function(t3,i2){var o=n2(t3=t3||[],i2=i2||{});return function(t4){t4=t4||[];for(var a=0;a<o.length;a++){var s=r2(o[a]);e2[s].references--}for(var u=n2(t4,i2),c=0;c<o.length;c++){var l=r2(o[c]);e2[l].references===0&&(e2[l].updater(),e2.splice(l,1))}o=u}}},569:t2=>{"use strict";var e2={};t2.exports=function(t3,r2){var n2=function(t4){if(e2[t4]===void 0){var r3=document.querySelector(t4);if(window.HTMLIFrameElement&&r3 instanceof window.HTMLIFrameElement)try{r3=r3.contentDocument.head}catch{r3=null}e2[t4]=r3}return e2[t4]}(t3);if(!n2)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n2.appendChild(r2)}},216:t2=>{"use strict";t2.exports=function(t3){var e2=document.createElement("style");return t3.setAttributes(e2,t3.attributes),t3.insert(e2,t3.options),e2}},565:(t2,e2,r2)=>{"use strict";t2.exports=function(t3){var e3=r2.nc;e3&&t3.setAttribute("nonce",e3)}},795:t2=>{"use strict";t2.exports=function(t3){var e2=t3.insertStyleElement(t3);return{update:function(r2){(function(t4,e3,r3){var n2="";r3.supports&&(n2+="@supports (".concat(r3.supports,") {")),r3.media&&(n2+="@media ".concat(r3.media," {"));var i=r3.layer!==void 0;i&&(n2+="@layer".concat(r3.layer.length>0?" ".concat(r3.layer):""," {")),n2+=r3.css,i&&(n2+="}"),r3.media&&(n2+="}"),r3.supports&&(n2+="}");var o=r3.sourceMap;o&&typeof btoa<"u"&&(n2+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e3.styleTagTransform(n2,t4,e3.options)})(e2,t3,r2)},remove:function(){(function(t4){if(t4.parentNode===null)return!1;t4.parentNode.removeChild(t4)})(e2)}}}},589:t2=>{"use strict";t2.exports=function(t3,e2){if(e2.styleSheet)e2.styleSheet.cssText=t3;else{for(;e2.firstChild;)e2.removeChild(e2.firstChild);e2.appendChild(document.createTextNode(t3))}}},607:function(t2,e2,r2){"use strict";var n2=this&&this.__importDefault||function(t3){return t3&&t3.__esModule?t3:{default:t3}};Object.defineProperty(e2,"__esModule",{value:!0}),e2.Cursor=e2.default=void 0;var i=n2(r2(678));e2.default=i.default;var o=n2(r2(353));e2.Cursor=o.default,r2(413)},353:(t2,e2,r2)=>{"use strict";Object.defineProperty(e2,"__esModule",{value:!0});var n2=r2(207),i=function(){function t3(t4,e3,r3){this.id=t4,this.name=e3,this.color=r3,this.toggleNearCursor=this.toggleNearCursor.bind(this),this._toggleOpenedCursor=this._toggleOpenedCursor.bind(this),this._setHoverState=this._setHoverState.bind(this)}return t3.prototype.build=function(e3){var r3=document.createElement(t3.CONTAINER_ELEMENT_TAG);r3.classList.add(t3.CURSOR_CLASS),r3.id="ql-cursor-".concat(this.id),r3.innerHTML=e3.template;var n3=r3.getElementsByClassName(t3.SELECTION_CLASS)[0],i2=r3.getElementsByClassName(t3.CARET_CONTAINER_CLASS)[0],o=i2.getElementsByClassName(t3.CARET_CLASS)[0],a=r3.getElementsByClassName(t3.FLAG_CLASS)[0];return a.style.backgroundColor=this.color,o.style.backgroundColor=this.color,r3.getElementsByClassName(t3.NAME_CLASS)[0].textContent=this.name,this._hideDelay="".concat(e3.hideDelayMs,"ms"),this._hideSpeedMs=e3.hideSpeedMs,this._positionFlag=e3.positionFlag,a.style.transitionDelay=this._hideDelay,a.style.transitionDuration="".concat(this._hideSpeedMs,"ms"),this._el=r3,this._selectionEl=n3,this._caretEl=i2,this._flagEl=a,i2.addEventListener("mouseover",this._setHoverState,{passive:!0}),this._el},t3.prototype.show=function(){this._el.classList.remove(t3.HIDDEN_CLASS)},t3.prototype.hide=function(){this._el.classList.add(t3.HIDDEN_CLASS)},t3.prototype.remove=function(){this._el.parentNode.removeChild(this._el)},t3.prototype.toggleNearCursor=function(e3,r3){var n3=this._getCoordinates(),i2=n3.left,o=n3.right,a=n3.top,s=n3.bottom,u=e3>=i2&&e3<=o&&r3>=a&&r3<=s;return this._caretEl.classList.toggle(t3.CONTAINER_HOVER_CLASS,u),u},t3.prototype.toggleFlag=function(e3){var r3=this;this._caretEl.classList.toggle(t3.CONTAINER_HOVER_CLASS,e3)||(this._flagEl.classList.add(t3.NO_DELAY_CLASS),setTimeout(function(){return r3._flagEl.classList.remove(t3.NO_DELAY_CLASS)},this._hideSpeedMs))},t3.prototype.updateCaret=function(t4,e3){this._caretEl.style.top="".concat(t4.top,"px"),this._caretEl.style.left="".concat(t4.left,"px"),this._caretEl.style.height="".concat(t4.height,"px"),this._positionFlag?this._positionFlag(this._flagEl,t4,e3):this._updateCaretFlag(t4,e3)},t3.prototype.updateSelection=function(t4,e3){var r3=this;this._clearSelection(),t4=t4||[],t4=Array.from(t4),t4=this._sanitize(t4),(t4=this._sortByDomPosition(t4)).forEach(function(t5){return r3._addSelection(t5,e3)})},t3.prototype._setHoverState=function(){document.addEventListener("mousemove",this._toggleOpenedCursor,{passive:!0})},t3.prototype._toggleOpenedCursor=function(e3){var r3=this.toggleNearCursor(e3.clientX,e3.clientY);this._caretEl.classList.toggle(t3.CONTAINER_NO_POINTER_CLASS,r3),r3||document.removeEventListener("mousemove",this._toggleOpenedCursor)},t3.prototype._getCoordinates=function(){return this._caretEl.getBoundingClientRect()},t3.prototype._updateCaretFlag=function(e3,r3){this._flagEl.style.width="";var n3=this._flagEl.getBoundingClientRect();this._flagEl.classList.remove(t3.FLAG_FLIPPED_CLASS),e3.left>r3.width-n3.width&&this._flagEl.classList.add(t3.FLAG_FLIPPED_CLASS),this._flagEl.style.left="".concat(e3.left,"px"),this._flagEl.style.top="".concat(e3.top,"px"),this._flagEl.style.width="".concat(Math.ceil(n3.width),"px")},t3.prototype._clearSelection=function(){this._selectionEl.innerHTML=""},t3.prototype._addSelection=function(t4,e3){var r3=this._selectionBlock(t4,e3);this._selectionEl.appendChild(r3)},t3.prototype._selectionBlock=function(e3,r3){var i2=document.createElement(t3.SELECTION_ELEMENT_TAG);return i2.classList.add(t3.SELECTION_BLOCK_CLASS),i2.style.top="".concat(e3.top-r3.top,"px"),i2.style.left="".concat(e3.left-r3.left,"px"),i2.style.width="".concat(e3.width,"px"),i2.style.height="".concat(e3.height,"px"),i2.style.backgroundColor=n2(this.color).setAlpha(.3).toString(),i2},t3.prototype._sortByDomPosition=function(t4){return t4.sort(function(t5,e3){return t5.top===e3.top?t5.left-e3.left:t5.top-e3.top})},t3.prototype._sanitize=function(t4){var e3=this,r3=new Set;return t4.filter(function(t5){if(!t5.width||!t5.height)return!1;var n3=e3._serialize(t5);return!r3.has(n3)&&(r3.add(n3),!0)})},t3.prototype._serialize=function(t4){return["top:".concat(t4.top),"right:".concat(t4.right),"bottom:".concat(t4.bottom),"left:".concat(t4.left)].join(";")},t3.CONTAINER_ELEMENT_TAG="SPAN",t3.SELECTION_ELEMENT_TAG="SPAN",t3.CURSOR_CLASS="ql-cursor",t3.SELECTION_CLASS="ql-cursor-selections",t3.SELECTION_BLOCK_CLASS="ql-cursor-selection-block",t3.CARET_CLASS="ql-cursor-caret",t3.CARET_CONTAINER_CLASS="ql-cursor-caret-container",t3.CONTAINER_HOVER_CLASS="hover",t3.CONTAINER_NO_POINTER_CLASS="no-pointer",t3.FLAG_CLASS="ql-cursor-flag",t3.FLAG_FLIPPED_CLASS="flag-flipped",t3.NAME_CLASS="ql-cursor-name",t3.HIDDEN_CLASS="hidden",t3.NO_DELAY_CLASS="no-delay",t3}();e2.default=i},678:function(t2,e2,r2){"use strict";var n2=this&&this.__createBinding||(Object.create?function(t3,e3,r3,n3){n3===void 0&&(n3=r3);var i2=Object.getOwnPropertyDescriptor(e3,r3);i2&&!("get"in i2?!e3.__esModule:i2.writable||i2.configurable)||(i2={enumerable:!0,get:function(){return e3[r3]}}),Object.defineProperty(t3,n3,i2)}:function(t3,e3,r3,n3){n3===void 0&&(n3=r3),t3[n3]=e3[r3]}),i=this&&this.__setModuleDefault||(Object.create?function(t3,e3){Object.defineProperty(t3,"default",{enumerable:!0,value:e3})}:function(t3,e3){t3.default=e3}),o=this&&this.__importStar||function(t3){if(t3&&t3.__esModule)return t3;var e3={};if(t3!=null)for(var r3 in t3)r3!=="default"&&Object.prototype.hasOwnProperty.call(t3,r3)&&n2(e3,t3,r3);return i(e3,t3),e3},a=this&&this.__importDefault||function(t3){return t3&&t3.__esModule?t3:{default:t3}};Object.defineProperty(e2,"__esModule",{value:!0});var s=a(r2(353)),u=o(r2(165)),c=a(r2(338)),l=a(r2(33)),f=r2(895),h=function(){function t3(t4,e3){e3===void 0&&(e3={}),this._cursors={},this._isObserving=!1,this._handleCursorTouch=this._handleCursorTouch.bind(this),this.quill=t4,this.options=this._setDefaults(e3),this._container=this.quill.addContainer(this.options.containerClass),this._boundsContainer=this.options.boundsContainer||this.quill.container,this._currentSelection=this.quill.getSelection(),this._registerSelectionChangeListeners(),this._registerTextChangeListener(),this._registerDomListeners()}return t3.prototype.createCursor=function(t4,e3,r3){var n3=this._cursors[t4];if(!n3){n3=new s.default(t4,e3,r3),this._cursors[t4]=n3;var i2=n3.build(this.options);this._container.appendChild(i2)}return n3},t3.prototype.moveCursor=function(t4,e3){var r3=this._cursors[t4];r3&&(r3.range=e3,this._updateCursor(r3))},t3.prototype.removeCursor=function(t4){var e3=this._cursors[t4];e3&&(e3.remove(),delete this._cursors[t4])},t3.prototype.update=function(){var t4=this;this.cursors().forEach(function(e3){return t4._updateCursor(e3)})},t3.prototype.clearCursors=function(){var t4=this;this.cursors().forEach(function(e3){return t4.removeCursor(e3.id)})},t3.prototype.toggleFlag=function(t4,e3){var r3=this._cursors[t4];r3&&r3.toggleFlag(e3)},t3.prototype.cursors=function(){var t4=this;return Object.keys(this._cursors).map(function(e3){return t4._cursors[e3]})},t3.prototype._registerSelectionChangeListeners=function(){var t4=this;this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(e3){t4._currentSelection=e3})},t3.prototype._registerTextChangeListener=function(){var t4=this;this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(e3){return t4._handleTextChange(e3)})},t3.prototype._registerDomListeners=function(){var t4=this,e3=this.quill.container.getElementsByClassName("ql-editor")[0];e3.addEventListener("scroll",function(){return t4.update()},{passive:!0}),e3.addEventListener("touchstart",this._handleCursorTouch,{passive:!0})},t3.prototype._handleCursorTouch=function(t4){var e3=this;this.cursors().forEach(function(r3){r3.toggleNearCursor(t4.pageX,t4.pageY),setTimeout(function(){return r3.toggleFlag(!1)},e3.options.hideDelayMs)})},t3.prototype._registerResizeObserver=function(){var t4=this;if(!this._isObserving){var e3=this.quill.container.getElementsByClassName("ql-editor")[0],r3=new l.default(function(e4){if(!e4[0].target.isConnected)return r3.disconnect(),void(t4._isObserving=!1);t4.update()});r3.observe(e3),this._isObserving=!0}},t3.prototype._updateCursor=function(t4){if(this._registerResizeObserver(),!t4.range)return t4.hide();var e3=this._indexWithinQuillBounds(t4.range.index),r3=this._indexWithinQuillBounds(t4.range.index+t4.range.length),n3=this.quill.getLeaf(e3),i2=this.quill.getLeaf(r3);if(!this._leafIsValid(n3)||!this._leafIsValid(i2))return t4.hide();t4.show();var o2=this._boundsContainer.getBoundingClientRect(),a2=this.quill.getBounds(r3);t4.updateCaret(a2,o2);var s2=this._lineRanges(t4,n3,i2).reduce(function(t5,e4){return t5.concat(Array.from(u.getClientRects(e4)))},[]);t4.updateSelection(s2,o2)},t3.prototype._indexWithinQuillBounds=function(t4){var e3=this.quill.getLength(),r3=e3?e3-1:0;return t4=Math.max(t4,0),Math.min(t4,r3)},t3.prototype._leafIsValid=function(t4){return t4&&t4[0]&&t4[0].domNode&&t4[1]>=0},t3.prototype._handleTextChange=function(t4){var e3=this;window.setTimeout(function(){e3.options.transformOnTextChange&&e3._transformCursors(t4),e3.options.selectionChangeSource&&(e3._emitSelection(),e3.update())})},t3.prototype._emitSelection=function(){this.quill.emitter.emit(this.quill.constructor.events.SELECTION_CHANGE,this.quill.getSelection(),this._currentSelection,this.options.selectionChangeSource)},t3.prototype._setDefaults=function(e3){return(e3=Object.assign({},e3)).template||(e3.template=t3.DEFAULTS.template),e3.containerClass||(e3.containerClass=t3.DEFAULTS.containerClass),e3.selectionChangeSource!==null&&(e3.selectionChangeSource||(e3.selectionChangeSource=t3.DEFAULTS.selectionChangeSource)),e3.hideDelayMs=Number.isInteger(e3.hideDelayMs)?e3.hideDelayMs:t3.DEFAULTS.hideDelayMs,e3.hideSpeedMs=Number.isInteger(e3.hideSpeedMs)?e3.hideSpeedMs:t3.DEFAULTS.hideSpeedMs,e3.transformOnTextChange=!!e3.transformOnTextChange,e3},t3.prototype._lineRanges=function(t4,e3,r3){var n3=this.quill.getLines(t4.range);return n3.reduce(function(t5,i2,o2){if(!i2.children){var a2=document.createRange();return a2.selectNode(i2.domNode),t5.concat(a2)}var s2=o2===0?e3:i2.path(0).pop(),u2=s2[0],c2=s2[1],l2=o2===n3.length-1?r3:i2.path(i2.length()-1).pop(),f2=l2[0],h2=l2[1],d=document.createRange();return u2.domNode.nodeType===Node.TEXT_NODE?d.setStart(u2.domNode,c2):d.setStartBefore(u2.domNode),f2.domNode.nodeType===Node.TEXT_NODE?d.setEnd(f2.domNode,h2):d.setEndAfter(f2.domNode),t5.concat(d)},[])},t3.prototype._transformCursors=function(t4){var e3=this;t4=new f(t4),this.cursors().filter(function(t5){return t5.range}).forEach(function(r3){r3.range.index=t4.transformPosition(r3.range.index),e3._updateCursor(r3)})},t3.DEFAULTS={template:c.default,containerClass:"ql-cursors",selectionChangeSource:"api",hideDelayMs:3e3,hideSpeedMs:400},t3}();e2.default=h},338:function(t2,e2,r2){"use strict";var n2=this&&this.__importDefault||function(t3){return t3&&t3.__esModule?t3:{default:t3}};Object.defineProperty(e2,"__esModule",{value:!0});var i=n2(r2(353)),o=`
  <span class="`.concat(i.default.SELECTION_CLASS,`"></span>
  <span class="`).concat(i.default.CARET_CONTAINER_CLASS,`">
    <span class="`).concat(i.default.CARET_CLASS,`"></span>
  </span>
  <div class="`).concat(i.default.FLAG_CLASS,`">
    <small class="`).concat(i.default.NAME_CLASS,`"></small>
  </div>
`);e2.default=o},207:function(t2){t2.exports=function(){"use strict";let t3=/^\s+/,e2=/\s+$/;function r2(n3,i2){if(i2=i2||{},(n3=n3||"")instanceof r2)return n3;if(!(this instanceof r2))return new r2(n3,i2);var o2=function(r3){var n4={r:0,g:0,b:0},i3=1,o3=null,a2=null,s2=null,u2=!1,c2=!1;return typeof r3=="string"&&(r3=function(r4){r4=r4.replace(t3,"").replace(e2,"").toLowerCase();var n5,i4=!1;if(y[r4])r4=y[r4],i4=!0;else if(r4=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(n5=T.rgb.exec(r4))?{r:n5[1],g:n5[2],b:n5[3]}:(n5=T.rgba.exec(r4))?{r:n5[1],g:n5[2],b:n5[3],a:n5[4]}:(n5=T.hsl.exec(r4))?{h:n5[1],s:n5[2],l:n5[3]}:(n5=T.hsla.exec(r4))?{h:n5[1],s:n5[2],l:n5[3],a:n5[4]}:(n5=T.hsv.exec(r4))?{h:n5[1],s:n5[2],v:n5[3]}:(n5=T.hsva.exec(r4))?{h:n5[1],s:n5[2],v:n5[3],a:n5[4]}:(n5=T.hex8.exec(r4))?{r:w(n5[1]),g:w(n5[2]),b:w(n5[3]),a:O(n5[4]),format:i4?"name":"hex8"}:(n5=T.hex6.exec(r4))?{r:w(n5[1]),g:w(n5[2]),b:w(n5[3]),format:i4?"name":"hex"}:(n5=T.hex4.exec(r4))?{r:w(n5[1]+""+n5[1]),g:w(n5[2]+""+n5[2]),b:w(n5[3]+""+n5[3]),a:O(n5[4]+""+n5[4]),format:i4?"name":"hex8"}:!!(n5=T.hex3.exec(r4))&&{r:w(n5[1]+""+n5[1]),g:w(n5[2]+""+n5[2]),b:w(n5[3]+""+n5[3]),format:i4?"name":"hex"}}(r3)),typeof r3=="object"&&(R(r3.r)&&R(r3.g)&&R(r3.b)?(l2=r3.r,f2=r3.g,h2=r3.b,n4={r:255*x(l2,255),g:255*x(f2,255),b:255*x(h2,255)},u2=!0,c2=String(r3.r).substr(-1)==="%"?"prgb":"rgb"):R(r3.h)&&R(r3.s)&&R(r3.v)?(o3=S(r3.s),a2=S(r3.v),n4=function(t4,e3,r4){t4=6*x(t4,360),e3=x(e3,100),r4=x(r4,100);var n5=Math.floor(t4),i4=t4-n5,o4=r4*(1-e3),a3=r4*(1-i4*e3),s3=r4*(1-(1-i4)*e3),u3=n5%6;return{r:255*[r4,a3,o4,o4,s3,r4][u3],g:255*[s3,r4,r4,a3,o4,o4][u3],b:255*[o4,o4,s3,r4,r4,a3][u3]}}(r3.h,o3,a2),u2=!0,c2="hsv"):R(r3.h)&&R(r3.s)&&R(r3.l)&&(o3=S(r3.s),s2=S(r3.l),n4=function(t4,e3,r4){var n5,i4,o4;function a3(t5,e4,r5){return r5<0&&(r5+=1),r5>1&&(r5-=1),r5<1/6?t5+6*(e4-t5)*r5:r5<.5?e4:r5<2/3?t5+(e4-t5)*(2/3-r5)*6:t5}if(t4=x(t4,360),e3=x(e3,100),r4=x(r4,100),e3===0)n5=i4=o4=r4;else{var s3=r4<.5?r4*(1+e3):r4+e3-r4*e3,u3=2*r4-s3;n5=a3(u3,s3,t4+1/3),i4=a3(u3,s3,t4),o4=a3(u3,s3,t4-1/3)}return{r:255*n5,g:255*i4,b:255*o4}}(r3.h,o3,s2),u2=!0,c2="hsl"),r3.hasOwnProperty("a")&&(i3=r3.a)),i3=A(i3),{ok:u2,format:r3.format||c2,r:Math.min(255,Math.max(n4.r,0)),g:Math.min(255,Math.max(n4.g,0)),b:Math.min(255,Math.max(n4.b,0)),a:i3};var l2,f2,h2}(n3);this._originalInput=n3,this._r=o2.r,this._g=o2.g,this._b=o2.b,this._a=o2.a,this._roundA=Math.round(100*this._a)/100,this._format=i2.format||o2.format,this._gradientType=i2.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=o2.ok}function n2(t4,e3,r3){t4=x(t4,255),e3=x(e3,255),r3=x(r3,255);var n3,i2,o2=Math.max(t4,e3,r3),a2=Math.min(t4,e3,r3),s2=(o2+a2)/2;if(o2==a2)n3=i2=0;else{var u2=o2-a2;switch(i2=s2>.5?u2/(2-o2-a2):u2/(o2+a2),o2){case t4:n3=(e3-r3)/u2+(e3<r3?6:0);break;case e3:n3=(r3-t4)/u2+2;break;case r3:n3=(t4-e3)/u2+4}n3/=6}return{h:n3,s:i2,l:s2}}function i(t4,e3,r3){t4=x(t4,255),e3=x(e3,255),r3=x(r3,255);var n3,i2,o2=Math.max(t4,e3,r3),a2=Math.min(t4,e3,r3),s2=o2,u2=o2-a2;if(i2=o2===0?0:u2/o2,o2==a2)n3=0;else{switch(o2){case t4:n3=(e3-r3)/u2+(e3<r3?6:0);break;case e3:n3=(r3-t4)/u2+2;break;case r3:n3=(t4-e3)/u2+4}n3/=6}return{h:n3,s:i2,v:s2}}function o(t4,e3,r3,n3){var i2=[E(Math.round(t4).toString(16)),E(Math.round(e3).toString(16)),E(Math.round(r3).toString(16))];return n3&&i2[0].charAt(0)==i2[0].charAt(1)&&i2[1].charAt(0)==i2[1].charAt(1)&&i2[2].charAt(0)==i2[2].charAt(1)?i2[0].charAt(0)+i2[1].charAt(0)+i2[2].charAt(0):i2.join("")}function a(t4,e3,r3,n3){return[E(M(n3)),E(Math.round(t4).toString(16)),E(Math.round(e3).toString(16)),E(Math.round(r3).toString(16))].join("")}function s(t4,e3){e3=e3===0?0:e3||10;var n3=r2(t4).toHsl();return n3.s-=e3/100,n3.s=C(n3.s),r2(n3)}function u(t4,e3){e3=e3===0?0:e3||10;var n3=r2(t4).toHsl();return n3.s+=e3/100,n3.s=C(n3.s),r2(n3)}function c(t4){return r2(t4).desaturate(100)}function l(t4,e3){e3=e3===0?0:e3||10;var n3=r2(t4).toHsl();return n3.l+=e3/100,n3.l=C(n3.l),r2(n3)}function f(t4,e3){e3=e3===0?0:e3||10;var n3=r2(t4).toRgb();return n3.r=Math.max(0,Math.min(255,n3.r-Math.round(-e3/100*255))),n3.g=Math.max(0,Math.min(255,n3.g-Math.round(-e3/100*255))),n3.b=Math.max(0,Math.min(255,n3.b-Math.round(-e3/100*255))),r2(n3)}function h(t4,e3){e3=e3===0?0:e3||10;var n3=r2(t4).toHsl();return n3.l-=e3/100,n3.l=C(n3.l),r2(n3)}function d(t4,e3){var n3=r2(t4).toHsl(),i2=(n3.h+e3)%360;return n3.h=i2<0?360+i2:i2,r2(n3)}function p(t4){var e3=r2(t4).toHsl();return e3.h=(e3.h+180)%360,r2(e3)}function g(t4,e3){if(isNaN(e3)||e3<=0)throw new Error("Argument to polyad must be a positive number");for(var n3=r2(t4).toHsl(),i2=[r2(t4)],o2=360/e3,a2=1;a2<e3;a2++)i2.push(r2({h:(n3.h+a2*o2)%360,s:n3.s,l:n3.l}));return i2}function _(t4){var e3=r2(t4).toHsl(),n3=e3.h;return[r2(t4),r2({h:(n3+72)%360,s:e3.s,l:e3.l}),r2({h:(n3+216)%360,s:e3.s,l:e3.l})]}function v(t4,e3,n3){e3=e3||6,n3=n3||30;var i2=r2(t4).toHsl(),o2=360/n3,a2=[r2(t4)];for(i2.h=(i2.h-(o2*e3>>1)+720)%360;--e3;)i2.h=(i2.h+o2)%360,a2.push(r2(i2));return a2}function b(t4,e3){e3=e3||6;for(var n3=r2(t4).toHsv(),i2=n3.h,o2=n3.s,a2=n3.v,s2=[],u2=1/e3;e3--;)s2.push(r2({h:i2,s:o2,v:a2})),a2=(a2+u2)%1;return s2}r2.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t4=this.toRgb();return(299*t4.r+587*t4.g+114*t4.b)/1e3},getLuminance:function(){var t4,e3,r3,n3=this.toRgb();return t4=n3.r/255,e3=n3.g/255,r3=n3.b/255,.2126*(t4<=.03928?t4/12.92:Math.pow((t4+.055)/1.055,2.4))+.7152*(e3<=.03928?e3/12.92:Math.pow((e3+.055)/1.055,2.4))+.0722*(r3<=.03928?r3/12.92:Math.pow((r3+.055)/1.055,2.4))},setAlpha:function(t4){return this._a=A(t4),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t4=i(this._r,this._g,this._b);return{h:360*t4.h,s:t4.s,v:t4.v,a:this._a}},toHsvString:function(){var t4=i(this._r,this._g,this._b),e3=Math.round(360*t4.h),r3=Math.round(100*t4.s),n3=Math.round(100*t4.v);return this._a==1?"hsv("+e3+", "+r3+"%, "+n3+"%)":"hsva("+e3+", "+r3+"%, "+n3+"%, "+this._roundA+")"},toHsl:function(){var t4=n2(this._r,this._g,this._b);return{h:360*t4.h,s:t4.s,l:t4.l,a:this._a}},toHslString:function(){var t4=n2(this._r,this._g,this._b),e3=Math.round(360*t4.h),r3=Math.round(100*t4.s),i2=Math.round(100*t4.l);return this._a==1?"hsl("+e3+", "+r3+"%, "+i2+"%)":"hsla("+e3+", "+r3+"%, "+i2+"%, "+this._roundA+")"},toHex:function(t4){return o(this._r,this._g,this._b,t4)},toHexString:function(t4){return"#"+this.toHex(t4)},toHex8:function(t4){return function(t5,e3,r3,n3,i2){var o2=[E(Math.round(t5).toString(16)),E(Math.round(e3).toString(16)),E(Math.round(r3).toString(16)),E(M(n3))];return i2&&o2[0].charAt(0)==o2[0].charAt(1)&&o2[1].charAt(0)==o2[1].charAt(1)&&o2[2].charAt(0)==o2[2].charAt(1)&&o2[3].charAt(0)==o2[3].charAt(1)?o2[0].charAt(0)+o2[1].charAt(0)+o2[2].charAt(0)+o2[3].charAt(0):o2.join("")}(this._r,this._g,this._b,this._a,t4)},toHex8String:function(t4){return"#"+this.toHex8(t4)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*x(this._r,255))+"%",g:Math.round(100*x(this._g,255))+"%",b:Math.round(100*x(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*x(this._r,255))+"%, "+Math.round(100*x(this._g,255))+"%, "+Math.round(100*x(this._b,255))+"%)":"rgba("+Math.round(100*x(this._r,255))+"%, "+Math.round(100*x(this._g,255))+"%, "+Math.round(100*x(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(m[o(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t4){var e3="#"+a(this._r,this._g,this._b,this._a),n3=e3,i2=this._gradientType?"GradientType = 1, ":"";if(t4){var o2=r2(t4);n3="#"+a(o2._r,o2._g,o2._b,o2._a)}return"progid:DXImageTransform.Microsoft.gradient("+i2+"startColorstr="+e3+",endColorstr="+n3+")"},toString:function(t4){var e3=!!t4;t4=t4||this._format;var r3=!1,n3=this._a<1&&this._a>=0;return e3||!n3||t4!=="hex"&&t4!=="hex6"&&t4!=="hex3"&&t4!=="hex4"&&t4!=="hex8"&&t4!=="name"?(t4==="rgb"&&(r3=this.toRgbString()),t4==="prgb"&&(r3=this.toPercentageRgbString()),t4!=="hex"&&t4!=="hex6"||(r3=this.toHexString()),t4==="hex3"&&(r3=this.toHexString(!0)),t4==="hex4"&&(r3=this.toHex8String(!0)),t4==="hex8"&&(r3=this.toHex8String()),t4==="name"&&(r3=this.toName()),t4==="hsl"&&(r3=this.toHslString()),t4==="hsv"&&(r3=this.toHsvString()),r3||this.toHexString()):t4==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return r2(this.toString())},_applyModification:function(t4,e3){var r3=t4.apply(null,[this].concat([].slice.call(e3)));return this._r=r3._r,this._g=r3._g,this._b=r3._b,this.setAlpha(r3._a),this},lighten:function(){return this._applyModification(l,arguments)},brighten:function(){return this._applyModification(f,arguments)},darken:function(){return this._applyModification(h,arguments)},desaturate:function(){return this._applyModification(s,arguments)},saturate:function(){return this._applyModification(u,arguments)},greyscale:function(){return this._applyModification(c,arguments)},spin:function(){return this._applyModification(d,arguments)},_applyCombination:function(t4,e3){return t4.apply(null,[this].concat([].slice.call(e3)))},analogous:function(){return this._applyCombination(v,arguments)},complement:function(){return this._applyCombination(p,arguments)},monochromatic:function(){return this._applyCombination(b,arguments)},splitcomplement:function(){return this._applyCombination(_,arguments)},triad:function(){return this._applyCombination(g,[3])},tetrad:function(){return this._applyCombination(g,[4])}},r2.fromRatio=function(t4,e3){if(typeof t4=="object"){var n3={};for(var i2 in t4)t4.hasOwnProperty(i2)&&(n3[i2]=i2==="a"?t4[i2]:S(t4[i2]));t4=n3}return r2(t4,e3)},r2.equals=function(t4,e3){return!(!t4||!e3)&&r2(t4).toRgbString()==r2(e3).toRgbString()},r2.random=function(){return r2.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},r2.mix=function(t4,e3,n3){n3=n3===0?0:n3||50;var i2=r2(t4).toRgb(),o2=r2(e3).toRgb(),a2=n3/100;return r2({r:(o2.r-i2.r)*a2+i2.r,g:(o2.g-i2.g)*a2+i2.g,b:(o2.b-i2.b)*a2+i2.b,a:(o2.a-i2.a)*a2+i2.a})},r2.readability=function(t4,e3){var n3=r2(t4),i2=r2(e3);return(Math.max(n3.getLuminance(),i2.getLuminance())+.05)/(Math.min(n3.getLuminance(),i2.getLuminance())+.05)},r2.isReadable=function(t4,e3,n3){var i2,o2,a2,s2,u2,c2=r2.readability(t4,e3);switch(o2=!1,(a2=n3,(s2=((a2=a2||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&s2!=="AAA"&&(s2="AA"),(u2=(a2.size||"small").toLowerCase())!=="small"&&u2!=="large"&&(u2="small"),i2={level:s2,size:u2}).level+i2.size){case"AAsmall":case"AAAlarge":o2=c2>=4.5;break;case"AAlarge":o2=c2>=3;break;case"AAAsmall":o2=c2>=7}return o2},r2.mostReadable=function(t4,e3,n3){var i2,o2,a2,s2,u2=null,c2=0;o2=(n3=n3||{}).includeFallbackColors,a2=n3.level,s2=n3.size;for(var l2=0;l2<e3.length;l2++)(i2=r2.readability(t4,e3[l2]))>c2&&(c2=i2,u2=r2(e3[l2]));return r2.isReadable(t4,u2,{level:a2,size:s2})||!o2?u2:(n3.includeFallbackColors=!1,r2.mostReadable(t4,["#fff","#000"],n3))};var y=r2.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},m=r2.hexNames=function(t4){var e3={};for(var r3 in t4)t4.hasOwnProperty(r3)&&(e3[t4[r3]]=r3);return e3}(y);function A(t4){return t4=parseFloat(t4),(isNaN(t4)||t4<0||t4>1)&&(t4=1),t4}function x(t4,e3){(function(t5){return typeof t5=="string"&&t5.indexOf(".")!=-1&&parseFloat(t5)===1})(t4)&&(t4="100%");var r3=function(t5){return typeof t5=="string"&&t5.indexOf("%")!=-1}(t4);return t4=Math.min(e3,Math.max(0,parseFloat(t4))),r3&&(t4=parseInt(t4*e3,10)/100),Math.abs(t4-e3)<1e-6?1:t4%e3/parseFloat(e3)}function C(t4){return Math.min(1,Math.max(0,t4))}function w(t4){return parseInt(t4,16)}function E(t4){return t4.length==1?"0"+t4:""+t4}function S(t4){return t4<=1&&(t4=100*t4+"%"),t4}function M(t4){return Math.round(255*parseFloat(t4)).toString(16)}function O(t4){return w(t4)/255}var j,L,k,T=(L="[\\s|\\(]+("+(j="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",k="[\\s|\\(]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",{CSS_UNIT:new RegExp(j),rgb:new RegExp("rgb"+L),rgba:new RegExp("rgba"+k),hsl:new RegExp("hsl"+L),hsla:new RegExp("hsla"+k),hsv:new RegExp("hsv"+L),hsva:new RegExp("hsva"+k),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function R(t4){return!!T.CSS_UNIT.exec(t4)}return r2}()}},e={};function r(n2){var i=e[n2];if(i!==void 0)return i.exports;var o=e[n2]={id:n2,loaded:!1,exports:{}};return t[n2].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=t2=>{var e2=t2&&t2.__esModule?()=>t2.default:()=>t2;return r.d(e2,{a:e2}),e2},r.d=(t2,e2)=>{for(var n2 in e2)r.o(e2,n2)&&!r.o(t2,n2)&&Object.defineProperty(t2,n2,{enumerable:!0,get:e2[n2]})},r.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),r.o=(t2,e2)=>Object.prototype.hasOwnProperty.call(t2,e2),r.r=t2=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t2,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t2,"__esModule",{value:!0})},r.nmd=t2=>(t2.paths=[],t2.children||(t2.children=[]),t2),r.nc=void 0;var n=r(607);return n.default})())}});var reconnectTimeoutBase,maxReconnectTimeout,messageReconnectTimeout,setupWS,WebsocketClient,init_websocket=__esm({"node_modules/lib0/websocket.js"(){init_observable();init_time();init_math();reconnectTimeoutBase=1200,maxReconnectTimeout=2500,messageReconnectTimeout=3e4,setupWS=wsclient=>{if(wsclient.shouldConnect&&wsclient.ws===null){let websocket=new WebSocket(wsclient.url),binaryType=wsclient.binaryType,pingTimeout=null;binaryType&&(websocket.binaryType=binaryType),wsclient.ws=websocket,wsclient.connecting=!0,wsclient.connected=!1,websocket.onmessage=event=>{wsclient.lastMessageReceived=getUnixTime();let data=event.data,message=typeof data=="string"?JSON.parse(data):data;message&&message.type==="pong"&&(clearTimeout(pingTimeout),pingTimeout=setTimeout(sendPing,messageReconnectTimeout/2)),wsclient.emit("message",[message,wsclient])};let onclose=error=>{wsclient.ws!==null&&(wsclient.ws=null,wsclient.connecting=!1,wsclient.connected?(wsclient.connected=!1,wsclient.emit("disconnect",[{type:"disconnect",error},wsclient])):wsclient.unsuccessfulReconnects++,setTimeout(setupWS,min(log10(wsclient.unsuccessfulReconnects+1)*reconnectTimeoutBase,maxReconnectTimeout),wsclient)),clearTimeout(pingTimeout)},sendPing=()=>{wsclient.ws===websocket&&wsclient.send({type:"ping"})};websocket.onclose=()=>onclose(null),websocket.onerror=error=>onclose(error),websocket.onopen=()=>{wsclient.lastMessageReceived=getUnixTime(),wsclient.connecting=!1,wsclient.connected=!0,wsclient.unsuccessfulReconnects=0,wsclient.emit("connect",[{type:"connect"},wsclient]),pingTimeout=setTimeout(sendPing,messageReconnectTimeout/2)}}},WebsocketClient=class extends Observable{constructor(url,{binaryType}={}){super(),this.url=url,this.ws=null,this.binaryType=binaryType||null,this.connected=!1,this.connecting=!1,this.unsuccessfulReconnects=0,this.lastMessageReceived=0,this.shouldConnect=!0,this._checkInterval=setInterval(()=>{this.connected&&messageReconnectTimeout<getUnixTime()-this.lastMessageReceived&&this.ws.close()},messageReconnectTimeout/2),setupWS(this)}send(message){this.ws&&this.ws.send(JSON.stringify(message))}destroy(){clearInterval(this._checkInterval),this.disconnect(),super.destroy()}disconnect(){this.shouldConnect=!1,this.ws!==null&&this.ws.close()}connect(){this.shouldConnect=!0,!this.connected&&this.ws===null&&setupWS(this)}}}});var channels,LocalStoragePolyfill,BC,getChannel,subscribe,unsubscribe,publish,init_broadcastchannel=__esm({"node_modules/lib0/broadcastchannel.js"(){init_map();init_set();init_buffer();init_storage();channels=new Map,LocalStoragePolyfill=class{constructor(room){this.room=room,this.onmessage=null,this._onChange=e=>e.key===room&&this.onmessage!==null&&this.onmessage({data:fromBase64(e.newValue||"")}),onChange(this._onChange)}postMessage(buf){varStorage.setItem(this.room,toBase64(createUint8ArrayFromArrayBuffer(buf)))}close(){offChange(this._onChange)}},BC=typeof BroadcastChannel>"u"?LocalStoragePolyfill:BroadcastChannel,getChannel=room=>setIfUndefined(channels,room,()=>{let subs=create(),bc=new BC(room);return bc.onmessage=e=>subs.forEach(sub=>sub(e.data,"broadcastchannel")),{bc,subs}}),subscribe=(room,f)=>(getChannel(room).subs.add(f),f),unsubscribe=(room,f)=>{let channel=getChannel(room),unsubscribed=channel.subs.delete(f);return unsubscribed&&channel.subs.size===0&&(channel.bc.close(),channels.delete(room)),unsubscribed},publish=(room,data,origin=null)=>{let c=getChannel(room);c.bc.postMessage(data),c.subs.forEach(sub=>sub(data,origin))}}});var createMutex,init_mutex=__esm({"node_modules/lib0/mutex.js"(){createMutex=()=>{let token=!0;return(f,g)=>{if(token){token=!1;try{f()}finally{token=!0}}else g!==void 0&&g()}}}});var require_simplepeer_min=__commonJS({"node_modules/simple-peer/simplepeer.min.js"(exports2,module2){(function(e){if(typeof exports2=="object"&&typeof module2<"u")module2.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var t;t=typeof window>"u"?typeof global>"u"?typeof self>"u"?this:self:global:window,t.SimplePeer=e()}})(function(){var t=Math.floor,n=Math.abs,r=Math.pow;return function(){function d(s,e,n2){function t2(o,i){if(!e[o]){if(!s[o]){var l=typeof __require=="function"&&__require;if(!i&&l)return l(o,!0);if(r2)return r2(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var a2=e[o]={exports:{}};s[o][0].call(a2.exports,function(e2){var r3=s[o][1][e2];return t2(r3||e2)},a2,a2.exports,d,s,e,n2)}return e[o].exports}for(var r2=typeof __require=="function"&&__require,a=0;a<n2.length;a++)t2(n2[a]);return t2}return d}()({1:[function(e,t2,n2){"use strict";function r2(e2){var t3=e2.length;if(0<t3%4)throw new Error("Invalid string. Length must be a multiple of 4");var n3=e2.indexOf("=");n3===-1&&(n3=t3);var r3=n3===t3?0:4-n3%4;return[n3,r3]}function a(e2,t3,n3){return 3*(t3+n3)/4-n3}function o(e2){var t3,n3,o2=r2(e2),d2=o2[0],s2=o2[1],l2=new p(a(e2,d2,s2)),c2=0,f2=0<s2?d2-4:d2;for(n3=0;n3<f2;n3+=4)t3=u[e2.charCodeAt(n3)]<<18|u[e2.charCodeAt(n3+1)]<<12|u[e2.charCodeAt(n3+2)]<<6|u[e2.charCodeAt(n3+3)],l2[c2++]=255&t3>>16,l2[c2++]=255&t3>>8,l2[c2++]=255&t3;return s2===2&&(t3=u[e2.charCodeAt(n3)]<<2|u[e2.charCodeAt(n3+1)]>>4,l2[c2++]=255&t3),s2===1&&(t3=u[e2.charCodeAt(n3)]<<10|u[e2.charCodeAt(n3+1)]<<4|u[e2.charCodeAt(n3+2)]>>2,l2[c2++]=255&t3>>8,l2[c2++]=255&t3),l2}function d(e2){return c[63&e2>>18]+c[63&e2>>12]+c[63&e2>>6]+c[63&e2]}function s(e2,t3,n3){for(var r3,a2=[],o2=t3;o2<n3;o2+=3)r3=(16711680&e2[o2]<<16)+(65280&e2[o2+1]<<8)+(255&e2[o2+2]),a2.push(d(r3));return a2.join("")}function l(e2){for(var t3,n3=e2.length,r3=n3%3,a2=[],o2=16383,d2=0,l2=n3-r3;d2<l2;d2+=o2)a2.push(s(e2,d2,d2+o2>l2?l2:d2+o2));return r3===1?(t3=e2[n3-1],a2.push(c[t3>>2]+c[63&t3<<4]+"==")):r3===2&&(t3=(e2[n3-2]<<8)+e2[n3-1],a2.push(c[t3>>10]+c[63&t3>>4]+c[63&t3<<2]+"=")),a2.join("")}n2.byteLength=function(e2){var t3=r2(e2),n3=t3[0],a2=t3[1];return 3*(n3+a2)/4-a2},n2.toByteArray=o,n2.fromByteArray=l;for(var c=[],u=[],p=typeof Uint8Array>"u"?Array:Uint8Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,_=f.length;g<_;++g)c[g]=f[g],u[f.charCodeAt(g)]=g;u[45]=62,u[95]=63},{}],2:[function(){},{}],3:[function(e,t2,n2){(function(){(function(){"use strict";var t3=String.fromCharCode,o=Math.min;function d(e2){if(2147483647<e2)throw new RangeError('The value "'+e2+'" is invalid for option "size"');var t4=new Uint8Array(e2);return t4.__proto__=s.prototype,t4}function s(e2,t4,n3){if(typeof e2=="number"){if(typeof t4=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(e2)}return l(e2,t4,n3)}function l(e2,t4,n3){if(typeof e2=="string")return f(e2,t4);if(ArrayBuffer.isView(e2))return g(e2);if(e2==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e2);if(K(e2,ArrayBuffer)||e2&&K(e2.buffer,ArrayBuffer))return _(e2,t4,n3);if(typeof e2=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var r2=e2.valueOf&&e2.valueOf();if(r2!=null&&r2!==e2)return s.from(r2,t4,n3);var a=h(e2);if(a)return a;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e2[Symbol.toPrimitive]=="function")return s.from(e2[Symbol.toPrimitive]("string"),t4,n3);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e2)}function c(e2){if(typeof e2!="number")throw new TypeError('"size" argument must be of type number');if(0>e2)throw new RangeError('The value "'+e2+'" is invalid for option "size"')}function u(e2,t4,n3){return c(e2),0>=e2||t4===void 0?d(e2):typeof n3=="string"?d(e2).fill(t4,n3):d(e2).fill(t4)}function p(e2){return c(e2),d(0>e2?0:0|m(e2))}function f(e2,t4){if((typeof t4!="string"||t4==="")&&(t4="utf8"),!s.isEncoding(t4))throw new TypeError("Unknown encoding: "+t4);var n3=0|b(e2,t4),r2=d(n3),a=r2.write(e2,t4);return a!==n3&&(r2=r2.slice(0,a)),r2}function g(e2){for(var t4=0>e2.length?0:0|m(e2.length),n3=d(t4),r2=0;r2<t4;r2+=1)n3[r2]=255&e2[r2];return n3}function _(e2,t4,n3){if(0>t4||e2.byteLength<t4)throw new RangeError('"offset" is outside of buffer bounds');if(e2.byteLength<t4+(n3||0))throw new RangeError('"length" is outside of buffer bounds');var r2;return r2=t4===void 0&&n3===void 0?new Uint8Array(e2):n3===void 0?new Uint8Array(e2,t4):new Uint8Array(e2,t4,n3),r2.__proto__=s.prototype,r2}function h(e2){if(s.isBuffer(e2)){var t4=0|m(e2.length),n3=d(t4);return n3.length===0||e2.copy(n3,0,0,t4),n3}return e2.length===void 0?e2.type==="Buffer"&&Array.isArray(e2.data)?g(e2.data):void 0:typeof e2.length!="number"||X(e2.length)?d(0):g(e2)}function m(e2){if(e2>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e2}function b(e2,t4){if(s.isBuffer(e2))return e2.length;if(ArrayBuffer.isView(e2)||K(e2,ArrayBuffer))return e2.byteLength;if(typeof e2!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e2);var n3=e2.length,r2=2<arguments.length&&arguments[2]===!0;if(!r2&&n3===0)return 0;for(var a=!1;;)switch(t4){case"ascii":case"latin1":case"binary":return n3;case"utf8":case"utf-8":return H(e2).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n3;case"hex":return n3>>>1;case"base64":return z(e2).length;default:if(a)return r2?-1:H(e2).length;t4=(""+t4).toLowerCase(),a=!0}}function y(e2,t4,n3){var r2=!1;if((t4===void 0||0>t4)&&(t4=0),t4>this.length||((n3===void 0||n3>this.length)&&(n3=this.length),0>=n3)||(n3>>>=0,t4>>>=0,n3<=t4))return"";for(e2||(e2="utf8");;)switch(e2){case"hex":return P(this,t4,n3);case"utf8":case"utf-8":return x(this,t4,n3);case"ascii":return D(this,t4,n3);case"latin1":case"binary":return I(this,t4,n3);case"base64":return A(this,t4,n3);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t4,n3);default:if(r2)throw new TypeError("Unknown encoding: "+e2);e2=(e2+"").toLowerCase(),r2=!0}}function C(e2,t4,n3){var r2=e2[t4];e2[t4]=e2[n3],e2[n3]=r2}function R(e2,t4,n3,r2,a){if(e2.length===0)return-1;if(typeof n3=="string"?(r2=n3,n3=0):2147483647<n3?n3=2147483647:-2147483648>n3&&(n3=-2147483648),n3=+n3,X(n3)&&(n3=a?0:e2.length-1),0>n3&&(n3=e2.length+n3),n3>=e2.length){if(a)return-1;n3=e2.length-1}else if(0>n3)if(a)n3=0;else return-1;if(typeof t4=="string"&&(t4=s.from(t4,r2)),s.isBuffer(t4))return t4.length===0?-1:E(e2,t4,n3,r2,a);if(typeof t4=="number")return t4&=255,typeof Uint8Array.prototype.indexOf=="function"?a?Uint8Array.prototype.indexOf.call(e2,t4,n3):Uint8Array.prototype.lastIndexOf.call(e2,t4,n3):E(e2,[t4],n3,r2,a);throw new TypeError("val must be string, number or Buffer")}function E(e2,t4,n3,r2,a){function o2(e3,t5){return d2===1?e3[t5]:e3.readUInt16BE(t5*d2)}var d2=1,s2=e2.length,l2=t4.length;if(r2!==void 0&&(r2=(r2+"").toLowerCase(),r2==="ucs2"||r2==="ucs-2"||r2==="utf16le"||r2==="utf-16le")){if(2>e2.length||2>t4.length)return-1;d2=2,s2/=2,l2/=2,n3/=2}var c2;if(a){var u2=-1;for(c2=n3;c2<s2;c2++)if(o2(e2,c2)!==o2(t4,u2===-1?0:c2-u2))u2!==-1&&(c2-=c2-u2),u2=-1;else if(u2===-1&&(u2=c2),c2-u2+1===l2)return u2*d2}else for(n3+l2>s2&&(n3=s2-l2),c2=n3;0<=c2;c2--){for(var p2=!0,f2=0;f2<l2;f2++)if(o2(e2,c2+f2)!==o2(t4,f2)){p2=!1;break}if(p2)return c2}return-1}function w(e2,t4,n3,r2){n3=+n3||0;var a=e2.length-n3;r2?(r2=+r2,r2>a&&(r2=a)):r2=a;var o2=t4.length;r2>o2/2&&(r2=o2/2);for(var d2,s2=0;s2<r2;++s2){if(d2=parseInt(t4.substr(2*s2,2),16),X(d2))return s2;e2[n3+s2]=d2}return s2}function S(e2,t4,n3,r2){return G(H(t4,e2.length-n3),e2,n3,r2)}function T(e2,t4,n3,r2){return G(Y(t4),e2,n3,r2)}function v(e2,t4,n3,r2){return T(e2,t4,n3,r2)}function k(e2,t4,n3,r2){return G(z(t4),e2,n3,r2)}function L(e2,t4,n3,r2){return G(V(t4,e2.length-n3),e2,n3,r2)}function A(e2,t4,n3){return t4===0&&n3===e2.length?$.fromByteArray(e2):$.fromByteArray(e2.slice(t4,n3))}function x(e2,t4,n3){n3=o(e2.length,n3);for(var r2=[],a=t4;a<n3;){var d2=e2[a],s2=null,l2=239<d2?4:223<d2?3:191<d2?2:1;if(a+l2<=n3){var c2,u2,p2,f2;l2===1?128>d2&&(s2=d2):l2===2?(c2=e2[a+1],(192&c2)==128&&(f2=(31&d2)<<6|63&c2,127<f2&&(s2=f2))):l2===3?(c2=e2[a+1],u2=e2[a+2],(192&c2)==128&&(192&u2)==128&&(f2=(15&d2)<<12|(63&c2)<<6|63&u2,2047<f2&&(55296>f2||57343<f2)&&(s2=f2))):l2===4&&(c2=e2[a+1],u2=e2[a+2],p2=e2[a+3],(192&c2)==128&&(192&u2)==128&&(192&p2)==128&&(f2=(15&d2)<<18|(63&c2)<<12|(63&u2)<<6|63&p2,65535<f2&&1114112>f2&&(s2=f2)))}s2===null?(s2=65533,l2=1):65535<s2&&(s2-=65536,r2.push(55296|1023&s2>>>10),s2=56320|1023&s2),r2.push(s2),a+=l2}return N(r2)}function N(e2){var n3=e2.length;if(n3<=4096)return t3.apply(String,e2);for(var r2="",a=0;a<n3;)r2+=t3.apply(String,e2.slice(a,a+=4096));return r2}function D(e2,n3,r2){var a="";r2=o(e2.length,r2);for(var d2=n3;d2<r2;++d2)a+=t3(127&e2[d2]);return a}function I(e2,n3,r2){var a="";r2=o(e2.length,r2);for(var d2=n3;d2<r2;++d2)a+=t3(e2[d2]);return a}function P(e2,t4,n3){var r2=e2.length;(!t4||0>t4)&&(t4=0),(!n3||0>n3||n3>r2)&&(n3=r2);for(var a="",o2=t4;o2<n3;++o2)a+=W(e2[o2]);return a}function M(e2,n3,r2){for(var a=e2.slice(n3,r2),o2="",d2=0;d2<a.length;d2+=2)o2+=t3(a[d2]+256*a[d2+1]);return o2}function O(e2,t4,n3){if(e2%1!=0||0>e2)throw new RangeError("offset is not uint");if(e2+t4>n3)throw new RangeError("Trying to access beyond buffer length")}function F(e2,t4,n3,r2,a,o2){if(!s.isBuffer(e2))throw new TypeError('"buffer" argument must be a Buffer instance');if(t4>a||t4<o2)throw new RangeError('"value" argument is out of bounds');if(n3+r2>e2.length)throw new RangeError("Index out of range")}function B(e2,t4,n3,r2){if(n3+r2>e2.length)throw new RangeError("Index out of range");if(0>n3)throw new RangeError("Index out of range")}function U(e2,t4,n3,r2,a){return t4=+t4,n3>>>=0,a||B(e2,t4,n3,4,34028234663852886e22,-34028234663852886e22),J.write(e2,t4,n3,r2,23,4),n3+4}function j(e2,t4,n3,r2,a){return t4=+t4,n3>>>=0,a||B(e2,t4,n3,8,17976931348623157e292,-17976931348623157e292),J.write(e2,t4,n3,r2,52,8),n3+8}function q(e2){if(e2=e2.split("=")[0],e2=e2.trim().replace(Q,""),2>e2.length)return"";for(;e2.length%4!=0;)e2+="=";return e2}function W(e2){return 16>e2?"0"+e2.toString(16):e2.toString(16)}function H(e2,t4){t4=t4||1/0;for(var n3,r2=e2.length,a=null,o2=[],d2=0;d2<r2;++d2){if(n3=e2.charCodeAt(d2),55295<n3&&57344>n3){if(!a){if(56319<n3){-1<(t4-=3)&&o2.push(239,191,189);continue}else if(d2+1===r2){-1<(t4-=3)&&o2.push(239,191,189);continue}a=n3;continue}if(56320>n3){-1<(t4-=3)&&o2.push(239,191,189),a=n3;continue}n3=(a-55296<<10|n3-56320)+65536}else a&&-1<(t4-=3)&&o2.push(239,191,189);if(a=null,128>n3){if(0>(t4-=1))break;o2.push(n3)}else if(2048>n3){if(0>(t4-=2))break;o2.push(192|n3>>6,128|63&n3)}else if(65536>n3){if(0>(t4-=3))break;o2.push(224|n3>>12,128|63&n3>>6,128|63&n3)}else if(1114112>n3){if(0>(t4-=4))break;o2.push(240|n3>>18,128|63&n3>>12,128|63&n3>>6,128|63&n3)}else throw new Error("Invalid code point")}return o2}function Y(e2){for(var t4=[],n3=0;n3<e2.length;++n3)t4.push(255&e2.charCodeAt(n3));return t4}function V(e2,t4){for(var n3,r2,a,o2=[],d2=0;d2<e2.length&&!(0>(t4-=2));++d2)n3=e2.charCodeAt(d2),r2=n3>>8,a=n3%256,o2.push(a),o2.push(r2);return o2}function z(e2){return $.toByteArray(q(e2))}function G(e2,t4,n3,r2){for(var a=0;a<r2&&!(a+n3>=t4.length||a>=e2.length);++a)t4[a+n3]=e2[a];return a}function K(e2,t4){return e2 instanceof t4||e2!=null&&e2.constructor!=null&&e2.constructor.name!=null&&e2.constructor.name===t4.name}function X(e2){return e2!==e2}var $=e("base64-js"),J=e("ieee754");n2.Buffer=s,n2.SlowBuffer=function(e2){return+e2!=e2&&(e2=0),s.alloc(+e2)},n2.INSPECT_MAX_BYTES=50,n2.kMaxLength=2147483647,s.TYPED_ARRAY_SUPPORT=function(){try{var e2=new Uint8Array(1);return e2.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},e2.foo()===42}catch{return!1}}(),s.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){return s.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){return s.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&Symbol.species!=null&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(e2,t4,n3){return l(e2,t4,n3)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(e2,t4,n3){return u(e2,t4,n3)},s.allocUnsafe=function(e2){return p(e2)},s.allocUnsafeSlow=function(e2){return p(e2)},s.isBuffer=function(e2){return e2!=null&&e2._isBuffer===!0&&e2!==s.prototype},s.compare=function(e2,t4){if(K(e2,Uint8Array)&&(e2=s.from(e2,e2.offset,e2.byteLength)),K(t4,Uint8Array)&&(t4=s.from(t4,t4.offset,t4.byteLength)),!s.isBuffer(e2)||!s.isBuffer(t4))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e2===t4)return 0;for(var n3=e2.length,r2=t4.length,d2=0,l2=o(n3,r2);d2<l2;++d2)if(e2[d2]!==t4[d2]){n3=e2[d2],r2=t4[d2];break}return n3<r2?-1:r2<n3?1:0},s.isEncoding=function(e2){switch((e2+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e2,t4){if(!Array.isArray(e2))throw new TypeError('"list" argument must be an Array of Buffers');if(e2.length===0)return s.alloc(0);var n3;if(t4===void 0)for(t4=0,n3=0;n3<e2.length;++n3)t4+=e2[n3].length;var r2=s.allocUnsafe(t4),a=0;for(n3=0;n3<e2.length;++n3){var o2=e2[n3];if(K(o2,Uint8Array)&&(o2=s.from(o2)),!s.isBuffer(o2))throw new TypeError('"list" argument must be an Array of Buffers');o2.copy(r2,a),a+=o2.length}return r2},s.byteLength=b,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e2=this.length;if(e2%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t4=0;t4<e2;t4+=2)C(this,t4,t4+1);return this},s.prototype.swap32=function(){var e2=this.length;if(e2%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t4=0;t4<e2;t4+=4)C(this,t4,t4+3),C(this,t4+1,t4+2);return this},s.prototype.swap64=function(){var e2=this.length;if(e2%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t4=0;t4<e2;t4+=8)C(this,t4,t4+7),C(this,t4+1,t4+6),C(this,t4+2,t4+5),C(this,t4+3,t4+4);return this},s.prototype.toString=function(){var e2=this.length;return e2===0?"":arguments.length===0?x(this,0,e2):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e2){if(!s.isBuffer(e2))throw new TypeError("Argument must be a Buffer");return this===e2||s.compare(this,e2)===0},s.prototype.inspect=function(){var e2="",t4=n2.INSPECT_MAX_BYTES;return e2=this.toString("hex",0,t4).replace(/(.{2})/g,"$1 ").trim(),this.length>t4&&(e2+=" ... "),"<Buffer "+e2+">"},s.prototype.compare=function(e2,t4,n3,r2,a){if(K(e2,Uint8Array)&&(e2=s.from(e2,e2.offset,e2.byteLength)),!s.isBuffer(e2))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e2);if(t4===void 0&&(t4=0),n3===void 0&&(n3=e2?e2.length:0),r2===void 0&&(r2=0),a===void 0&&(a=this.length),0>t4||n3>e2.length||0>r2||a>this.length)throw new RangeError("out of range index");if(r2>=a&&t4>=n3)return 0;if(r2>=a)return-1;if(t4>=n3)return 1;if(t4>>>=0,n3>>>=0,r2>>>=0,a>>>=0,this===e2)return 0;for(var d2=a-r2,l2=n3-t4,c2=o(d2,l2),u2=this.slice(r2,a),p2=e2.slice(t4,n3),f2=0;f2<c2;++f2)if(u2[f2]!==p2[f2]){d2=u2[f2],l2=p2[f2];break}return d2<l2?-1:l2<d2?1:0},s.prototype.includes=function(e2,t4,n3){return this.indexOf(e2,t4,n3)!==-1},s.prototype.indexOf=function(e2,t4,n3){return R(this,e2,t4,n3,!0)},s.prototype.lastIndexOf=function(e2,t4,n3){return R(this,e2,t4,n3,!1)},s.prototype.write=function(e2,t4,n3,r2){if(t4===void 0)r2="utf8",n3=this.length,t4=0;else if(n3===void 0&&typeof t4=="string")r2=t4,n3=this.length,t4=0;else if(isFinite(t4))t4>>>=0,isFinite(n3)?(n3>>>=0,r2===void 0&&(r2="utf8")):(r2=n3,n3=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var a=this.length-t4;if((n3===void 0||n3>a)&&(n3=a),0<e2.length&&(0>n3||0>t4)||t4>this.length)throw new RangeError("Attempt to write outside buffer bounds");r2||(r2="utf8");for(var o2=!1;;)switch(r2){case"hex":return w(this,e2,t4,n3);case"utf8":case"utf-8":return S(this,e2,t4,n3);case"ascii":return T(this,e2,t4,n3);case"latin1":case"binary":return v(this,e2,t4,n3);case"base64":return k(this,e2,t4,n3);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e2,t4,n3);default:if(o2)throw new TypeError("Unknown encoding: "+r2);r2=(""+r2).toLowerCase(),o2=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e2,t4){var n3=this.length;e2=~~e2,t4=t4===void 0?n3:~~t4,0>e2?(e2+=n3,0>e2&&(e2=0)):e2>n3&&(e2=n3),0>t4?(t4+=n3,0>t4&&(t4=0)):t4>n3&&(t4=n3),t4<e2&&(t4=e2);var r2=this.subarray(e2,t4);return r2.__proto__=s.prototype,r2},s.prototype.readUIntLE=function(e2,t4,n3){e2>>>=0,t4>>>=0,n3||O(e2,t4,this.length);for(var r2=this[e2],a=1,o2=0;++o2<t4&&(a*=256);)r2+=this[e2+o2]*a;return r2},s.prototype.readUIntBE=function(e2,t4,n3){e2>>>=0,t4>>>=0,n3||O(e2,t4,this.length);for(var r2=this[e2+--t4],a=1;0<t4&&(a*=256);)r2+=this[e2+--t4]*a;return r2},s.prototype.readUInt8=function(e2,t4){return e2>>>=0,t4||O(e2,1,this.length),this[e2]},s.prototype.readUInt16LE=function(e2,t4){return e2>>>=0,t4||O(e2,2,this.length),this[e2]|this[e2+1]<<8},s.prototype.readUInt16BE=function(e2,t4){return e2>>>=0,t4||O(e2,2,this.length),this[e2]<<8|this[e2+1]},s.prototype.readUInt32LE=function(e2,t4){return e2>>>=0,t4||O(e2,4,this.length),(this[e2]|this[e2+1]<<8|this[e2+2]<<16)+16777216*this[e2+3]},s.prototype.readUInt32BE=function(e2,t4){return e2>>>=0,t4||O(e2,4,this.length),16777216*this[e2]+(this[e2+1]<<16|this[e2+2]<<8|this[e2+3])},s.prototype.readIntLE=function(e2,t4,n3){e2>>>=0,t4>>>=0,n3||O(e2,t4,this.length);for(var a=this[e2],o2=1,d2=0;++d2<t4&&(o2*=256);)a+=this[e2+d2]*o2;return o2*=128,a>=o2&&(a-=r(2,8*t4)),a},s.prototype.readIntBE=function(e2,t4,n3){e2>>>=0,t4>>>=0,n3||O(e2,t4,this.length);for(var a=t4,o2=1,d2=this[e2+--a];0<a&&(o2*=256);)d2+=this[e2+--a]*o2;return o2*=128,d2>=o2&&(d2-=r(2,8*t4)),d2},s.prototype.readInt8=function(e2,t4){return e2>>>=0,t4||O(e2,1,this.length),128&this[e2]?-1*(255-this[e2]+1):this[e2]},s.prototype.readInt16LE=function(e2,t4){e2>>>=0,t4||O(e2,2,this.length);var n3=this[e2]|this[e2+1]<<8;return 32768&n3?4294901760|n3:n3},s.prototype.readInt16BE=function(e2,t4){e2>>>=0,t4||O(e2,2,this.length);var n3=this[e2+1]|this[e2]<<8;return 32768&n3?4294901760|n3:n3},s.prototype.readInt32LE=function(e2,t4){return e2>>>=0,t4||O(e2,4,this.length),this[e2]|this[e2+1]<<8|this[e2+2]<<16|this[e2+3]<<24},s.prototype.readInt32BE=function(e2,t4){return e2>>>=0,t4||O(e2,4,this.length),this[e2]<<24|this[e2+1]<<16|this[e2+2]<<8|this[e2+3]},s.prototype.readFloatLE=function(e2,t4){return e2>>>=0,t4||O(e2,4,this.length),J.read(this,e2,!0,23,4)},s.prototype.readFloatBE=function(e2,t4){return e2>>>=0,t4||O(e2,4,this.length),J.read(this,e2,!1,23,4)},s.prototype.readDoubleLE=function(e2,t4){return e2>>>=0,t4||O(e2,8,this.length),J.read(this,e2,!0,52,8)},s.prototype.readDoubleBE=function(e2,t4){return e2>>>=0,t4||O(e2,8,this.length),J.read(this,e2,!1,52,8)},s.prototype.writeUIntLE=function(e2,t4,n3,a){if(e2=+e2,t4>>>=0,n3>>>=0,!a){var o2=r(2,8*n3)-1;F(this,e2,t4,n3,o2,0)}var d2=1,s2=0;for(this[t4]=255&e2;++s2<n3&&(d2*=256);)this[t4+s2]=255&e2/d2;return t4+n3},s.prototype.writeUIntBE=function(e2,t4,n3,a){if(e2=+e2,t4>>>=0,n3>>>=0,!a){var o2=r(2,8*n3)-1;F(this,e2,t4,n3,o2,0)}var d2=n3-1,s2=1;for(this[t4+d2]=255&e2;0<=--d2&&(s2*=256);)this[t4+d2]=255&e2/s2;return t4+n3},s.prototype.writeUInt8=function(e2,t4,n3){return e2=+e2,t4>>>=0,n3||F(this,e2,t4,1,255,0),this[t4]=255&e2,t4+1},s.prototype.writeUInt16LE=function(e2,t4,n3){return e2=+e2,t4>>>=0,n3||F(this,e2,t4,2,65535,0),this[t4]=255&e2,this[t4+1]=e2>>>8,t4+2},s.prototype.writeUInt16BE=function(e2,t4,n3){return e2=+e2,t4>>>=0,n3||F(this,e2,t4,2,65535,0),this[t4]=e2>>>8,this[t4+1]=255&e2,t4+2},s.prototype.writeUInt32LE=function(e2,t4,n3){return e2=+e2,t4>>>=0,n3||F(this,e2,t4,4,4294967295,0),this[t4+3]=e2>>>24,this[t4+2]=e2>>>16,this[t4+1]=e2>>>8,this[t4]=255&e2,t4+4},s.prototype.writeUInt32BE=function(e2,t4,n3){return e2=+e2,t4>>>=0,n3||F(this,e2,t4,4,4294967295,0),this[t4]=e2>>>24,this[t4+1]=e2>>>16,this[t4+2]=e2>>>8,this[t4+3]=255&e2,t4+4},s.prototype.writeIntLE=function(e2,t4,n3,a){if(e2=+e2,t4>>>=0,!a){var o2=r(2,8*n3-1);F(this,e2,t4,n3,o2-1,-o2)}var d2=0,s2=1,l2=0;for(this[t4]=255&e2;++d2<n3&&(s2*=256);)0>e2&&l2===0&&this[t4+d2-1]!==0&&(l2=1),this[t4+d2]=255&(e2/s2>>0)-l2;return t4+n3},s.prototype.writeIntBE=function(e2,t4,n3,a){if(e2=+e2,t4>>>=0,!a){var o2=r(2,8*n3-1);F(this,e2,t4,n3,o2-1,-o2)}var d2=n3-1,s2=1,l2=0;for(this[t4+d2]=255&e2;0<=--d2&&(s2*=256);)0>e2&&l2===0&&this[t4+d2+1]!==0&&(l2=1),this[t4+d2]=255&(e2/s2>>0)-l2;return t4+n3},s.prototype.writeInt8=function(e2,t4,n3){return e2=+e2,t4>>>=0,n3||F(this,e2,t4,1,127,-128),0>e2&&(e2=255+e2+1),this[t4]=255&e2,t4+1},s.prototype.writeInt16LE=function(e2,t4,n3){return e2=+e2,t4>>>=0,n3||F(this,e2,t4,2,32767,-32768),this[t4]=255&e2,this[t4+1]=e2>>>8,t4+2},s.prototype.writeInt16BE=function(e2,t4,n3){return e2=+e2,t4>>>=0,n3||F(this,e2,t4,2,32767,-32768),this[t4]=e2>>>8,this[t4+1]=255&e2,t4+2},s.prototype.writeInt32LE=function(e2,t4,n3){return e2=+e2,t4>>>=0,n3||F(this,e2,t4,4,2147483647,-2147483648),this[t4]=255&e2,this[t4+1]=e2>>>8,this[t4+2]=e2>>>16,this[t4+3]=e2>>>24,t4+4},s.prototype.writeInt32BE=function(e2,t4,n3){return e2=+e2,t4>>>=0,n3||F(this,e2,t4,4,2147483647,-2147483648),0>e2&&(e2=4294967295+e2+1),this[t4]=e2>>>24,this[t4+1]=e2>>>16,this[t4+2]=e2>>>8,this[t4+3]=255&e2,t4+4},s.prototype.writeFloatLE=function(e2,t4,n3){return U(this,e2,t4,!0,n3)},s.prototype.writeFloatBE=function(e2,t4,n3){return U(this,e2,t4,!1,n3)},s.prototype.writeDoubleLE=function(e2,t4,n3){return j(this,e2,t4,!0,n3)},s.prototype.writeDoubleBE=function(e2,t4,n3){return j(this,e2,t4,!1,n3)},s.prototype.copy=function(e2,t4,n3,r2){if(!s.isBuffer(e2))throw new TypeError("argument should be a Buffer");if(n3||(n3=0),r2||r2===0||(r2=this.length),t4>=e2.length&&(t4=e2.length),t4||(t4=0),0<r2&&r2<n3&&(r2=n3),r2===n3||e2.length===0||this.length===0)return 0;if(0>t4)throw new RangeError("targetStart out of bounds");if(0>n3||n3>=this.length)throw new RangeError("Index out of range");if(0>r2)throw new RangeError("sourceEnd out of bounds");r2>this.length&&(r2=this.length),e2.length-t4<r2-n3&&(r2=e2.length-t4+n3);var a=r2-n3;if(this===e2&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(t4,n3,r2);else if(this===e2&&n3<t4&&t4<r2)for(var o2=a-1;0<=o2;--o2)e2[o2+t4]=this[o2+n3];else Uint8Array.prototype.set.call(e2,this.subarray(n3,r2),t4);return a},s.prototype.fill=function(e2,t4,n3,r2){if(typeof e2=="string"){if(typeof t4=="string"?(r2=t4,t4=0,n3=this.length):typeof n3=="string"&&(r2=n3,n3=this.length),r2!==void 0&&typeof r2!="string")throw new TypeError("encoding must be a string");if(typeof r2=="string"&&!s.isEncoding(r2))throw new TypeError("Unknown encoding: "+r2);if(e2.length===1){var a=e2.charCodeAt(0);(r2==="utf8"&&128>a||r2==="latin1")&&(e2=a)}}else typeof e2=="number"&&(e2&=255);if(0>t4||this.length<t4||this.length<n3)throw new RangeError("Out of range index");if(n3<=t4)return this;t4>>>=0,n3=n3===void 0?this.length:n3>>>0,e2||(e2=0);var o2;if(typeof e2=="number")for(o2=t4;o2<n3;++o2)this[o2]=e2;else{var d2=s.isBuffer(e2)?e2:s.from(e2,r2),l2=d2.length;if(l2===0)throw new TypeError('The value "'+e2+'" is invalid for argument "value"');for(o2=0;o2<n3-t4;++o2)this[o2+t4]=d2[o2%l2]}return this};var Q=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(e,t2,n2){(function(a){(function(){function r2(){let e2;try{e2=n2.storage.getItem("debug")}catch{}return!e2&&typeof a<"u"&&"env"in a&&(e2=a.env.DEBUG),e2}n2.formatArgs=function(e2){if(e2[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e2[0]+(this.useColors?"%c ":" ")+"+"+t2.exports.humanize(this.diff),!this.useColors)return;let n3="color: "+this.color;e2.splice(1,0,n3,"color: inherit");let r3=0,a2=0;e2[0].replace(/%[a-zA-Z%]/g,e3=>{e3==="%%"||(r3++,e3==="%c"&&(a2=r3))}),e2.splice(a2,0,n3)},n2.save=function(e2){try{e2?n2.storage.setItem("debug",e2):n2.storage.removeItem("debug")}catch{}},n2.load=r2,n2.useColors=function(){return!!(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n2.storage=function(){try{return localStorage}catch{}}(),n2.destroy=(()=>{let e2=!1;return()=>{e2||(e2=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n2.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n2.log=console.debug||console.log||(()=>{}),t2.exports=e("./common")(n2);let{formatters:o}=t2.exports;o.j=function(e2){try{return JSON.stringify(e2)}catch(e3){return"[UnexpectedJSONParseError]: "+e3.message}}}).call(this)}).call(this,e("_process"))},{"./common":5,_process:12}],5:[function(e,t2){t2.exports=function(t3){function r2(e2){function t4(...e3){if(!t4.enabled)return;let a2=t4,o3=+new Date,i=o3-(n2||o3);a2.diff=i,a2.prev=n2,a2.curr=o3,n2=o3,e3[0]=r2.coerce(e3[0]),typeof e3[0]!="string"&&e3.unshift("%O");let d=0;e3[0]=e3[0].replace(/%([a-zA-Z%])/g,(t5,n3)=>{if(t5==="%%")return"%";d++;let o4=r2.formatters[n3];if(typeof o4=="function"){let n4=e3[d];t5=o4.call(a2,n4),e3.splice(d,1),d--}return t5}),r2.formatArgs.call(a2,e3),(a2.log||r2.log).apply(a2,e3)}let n2,o2=null;return t4.namespace=e2,t4.useColors=r2.useColors(),t4.color=r2.selectColor(e2),t4.extend=a,t4.destroy=r2.destroy,Object.defineProperty(t4,"enabled",{enumerable:!0,configurable:!1,get:()=>o2===null?r2.enabled(e2):o2,set:e3=>{o2=e3}}),typeof r2.init=="function"&&r2.init(t4),t4}function a(e2,t4){let n2=r2(this.namespace+(typeof t4>"u"?":":t4)+e2);return n2.log=this.log,n2}function o(e2){return e2.toString().substring(2,e2.toString().length-2).replace(/\.\*\?$/,"*")}return r2.debug=r2,r2.default=r2,r2.coerce=function(e2){return e2 instanceof Error?e2.stack||e2.message:e2},r2.disable=function(){let e2=[...r2.names.map(o),...r2.skips.map(o).map(e3=>"-"+e3)].join(",");return r2.enable(""),e2},r2.enable=function(e2){r2.save(e2),r2.names=[],r2.skips=[];let t4,n2=(typeof e2=="string"?e2:"").split(/[\s,]+/),a2=n2.length;for(t4=0;t4<a2;t4++)n2[t4]&&(e2=n2[t4].replace(/\*/g,".*?"),e2[0]==="-"?r2.skips.push(new RegExp("^"+e2.substr(1)+"$")):r2.names.push(new RegExp("^"+e2+"$")))},r2.enabled=function(e2){if(e2[e2.length-1]==="*")return!0;let t4,n2;for(t4=0,n2=r2.skips.length;t4<n2;t4++)if(r2.skips[t4].test(e2))return!1;for(t4=0,n2=r2.names.length;t4<n2;t4++)if(r2.names[t4].test(e2))return!0;return!1},r2.humanize=e("ms"),r2.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t3).forEach(e2=>{r2[e2]=t3[e2]}),r2.names=[],r2.skips=[],r2.formatters={},r2.selectColor=function(e2){let t4=0;for(let n2=0;n2<e2.length;n2++)t4=(t4<<5)-t4+e2.charCodeAt(n2),t4|=0;return r2.colors[n(t4)%r2.colors.length]},r2.enable(r2.load()),r2}},{ms:11}],6:[function(e,t2){"use strict";function n2(e2,t3){for(let n3 in t3)Object.defineProperty(e2,n3,{value:t3[n3],enumerable:!0,configurable:!0});return e2}t2.exports=function(e2,t3,r2){if(!e2||typeof e2=="string")throw new TypeError("Please pass an Error to err-code");r2||(r2={}),typeof t3=="object"&&(r2=t3,t3=""),t3&&(r2.code=t3);try{return n2(e2,r2)}catch{r2.message=e2.message,r2.stack=e2.stack;let a=function(){};return a.prototype=Object.create(Object.getPrototypeOf(e2)),n2(new a,r2)}}},{}],7:[function(e,t2){"use strict";function n2(e2){console&&console.warn&&console.warn(e2)}function r2(){r2.init.call(this)}function a(e2){if(typeof e2!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e2)}function o(e2){return e2._maxListeners===void 0?r2.defaultMaxListeners:e2._maxListeners}function i(e2,t3,r3,i2){var d2,s2,l2;if(a(r3),s2=e2._events,s2===void 0?(s2=e2._events=Object.create(null),e2._eventsCount=0):(s2.newListener!==void 0&&(e2.emit("newListener",t3,r3.listener?r3.listener:r3),s2=e2._events),l2=s2[t3]),l2===void 0)l2=s2[t3]=r3,++e2._eventsCount;else if(typeof l2=="function"?l2=s2[t3]=i2?[r3,l2]:[l2,r3]:i2?l2.unshift(r3):l2.push(r3),d2=o(e2),0<d2&&l2.length>d2&&!l2.warned){l2.warned=!0;var c2=new Error("Possible EventEmitter memory leak detected. "+l2.length+" "+(t3+" listeners added. Use emitter.setMaxListeners() to increase limit"));c2.name="MaxListenersExceededWarning",c2.emitter=e2,c2.type=t3,c2.count=l2.length,n2(c2)}return e2}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function s(e2,t3,n3){var r3={fired:!1,wrapFn:void 0,target:e2,type:t3,listener:n3},a2=d.bind(r3);return a2.listener=n3,r3.wrapFn=a2,a2}function l(e2,t3,n3){var r3=e2._events;if(r3===void 0)return[];var a2=r3[t3];return a2===void 0?[]:typeof a2=="function"?n3?[a2.listener||a2]:[a2]:n3?f(a2):u(a2,a2.length)}function c(e2){var t3=this._events;if(t3!==void 0){var n3=t3[e2];if(typeof n3=="function")return 1;if(n3!==void 0)return n3.length}return 0}function u(e2,t3){for(var n3=Array(t3),r3=0;r3<t3;++r3)n3[r3]=e2[r3];return n3}function p(e2,t3){for(;t3+1<e2.length;t3++)e2[t3]=e2[t3+1];e2.pop()}function f(e2){for(var t3=Array(e2.length),n3=0;n3<t3.length;++n3)t3[n3]=e2[n3].listener||e2[n3];return t3}function g(e2,t3,n3){typeof e2.on=="function"&&_(e2,"error",t3,n3)}function _(e2,t3,n3,r3){if(typeof e2.on=="function")r3.once?e2.once(t3,n3):e2.on(t3,n3);else if(typeof e2.addEventListener=="function")e2.addEventListener(t3,function a2(o2){r3.once&&e2.removeEventListener(t3,a2),n3(o2)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e2)}var h,m=typeof Reflect=="object"?Reflect:null,b=m&&typeof m.apply=="function"?m.apply:function(e2,t3,n3){return Function.prototype.apply.call(e2,t3,n3)};h=m&&typeof m.ownKeys=="function"?m.ownKeys:Object.getOwnPropertySymbols?function(e2){return Object.getOwnPropertyNames(e2).concat(Object.getOwnPropertySymbols(e2))}:function(e2){return Object.getOwnPropertyNames(e2)};var y=Number.isNaN||function(e2){return e2!==e2};t2.exports=r2,t2.exports.once=function(e2,t3){return new Promise(function(n3,r3){function a2(n4){e2.removeListener(t3,o2),r3(n4)}function o2(){typeof e2.removeListener=="function"&&e2.removeListener("error",a2),n3([].slice.call(arguments))}_(e2,t3,o2,{once:!0}),t3!=="error"&&g(e2,a2,{once:!0})})},r2.EventEmitter=r2,r2.prototype._events=void 0,r2.prototype._eventsCount=0,r2.prototype._maxListeners=void 0;var C=10;Object.defineProperty(r2,"defaultMaxListeners",{enumerable:!0,get:function(){return C},set:function(e2){if(typeof e2!="number"||0>e2||y(e2))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e2+".");C=e2}}),r2.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r2.prototype.setMaxListeners=function(e2){if(typeof e2!="number"||0>e2||y(e2))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e2+".");return this._maxListeners=e2,this},r2.prototype.getMaxListeners=function(){return o(this)},r2.prototype.emit=function(e2){for(var t3=[],n3=1;n3<arguments.length;n3++)t3.push(arguments[n3]);var r3=e2==="error",a2=this._events;if(a2!==void 0)r3=r3&&a2.error===void 0;else if(!r3)return!1;if(r3){var o2;if(0<t3.length&&(o2=t3[0]),o2 instanceof Error)throw o2;var d2=new Error("Unhandled error."+(o2?" ("+o2.message+")":""));throw d2.context=o2,d2}var s2=a2[e2];if(s2===void 0)return!1;if(typeof s2=="function")b(s2,this,t3);else for(var l2=s2.length,c2=u(s2,l2),n3=0;n3<l2;++n3)b(c2[n3],this,t3);return!0},r2.prototype.addListener=function(e2,t3){return i(this,e2,t3,!1)},r2.prototype.on=r2.prototype.addListener,r2.prototype.prependListener=function(e2,t3){return i(this,e2,t3,!0)},r2.prototype.once=function(e2,t3){return a(t3),this.on(e2,s(this,e2,t3)),this},r2.prototype.prependOnceListener=function(e2,t3){return a(t3),this.prependListener(e2,s(this,e2,t3)),this},r2.prototype.removeListener=function(e2,t3){var n3,r3,o2,d2,s2;if(a(t3),r3=this._events,r3===void 0)return this;if(n3=r3[e2],n3===void 0)return this;if(n3===t3||n3.listener===t3)--this._eventsCount==0?this._events=Object.create(null):(delete r3[e2],r3.removeListener&&this.emit("removeListener",e2,n3.listener||t3));else if(typeof n3!="function"){for(o2=-1,d2=n3.length-1;0<=d2;d2--)if(n3[d2]===t3||n3[d2].listener===t3){s2=n3[d2].listener,o2=d2;break}if(0>o2)return this;o2===0?n3.shift():p(n3,o2),n3.length===1&&(r3[e2]=n3[0]),r3.removeListener!==void 0&&this.emit("removeListener",e2,s2||t3)}return this},r2.prototype.off=r2.prototype.removeListener,r2.prototype.removeAllListeners=function(e2){var t3,n3,r3;if(n3=this._events,n3===void 0)return this;if(n3.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n3[e2]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n3[e2]),this;if(arguments.length===0){var a2,o2=Object.keys(n3);for(r3=0;r3<o2.length;++r3)a2=o2[r3],a2!=="removeListener"&&this.removeAllListeners(a2);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t3=n3[e2],typeof t3=="function")this.removeListener(e2,t3);else if(t3!==void 0)for(r3=t3.length-1;0<=r3;r3--)this.removeListener(e2,t3[r3]);return this},r2.prototype.listeners=function(e2){return l(this,e2,!0)},r2.prototype.rawListeners=function(e2){return l(this,e2,!1)},r2.listenerCount=function(e2,t3){return typeof e2.listenerCount=="function"?e2.listenerCount(t3):c.call(e2,t3)},r2.prototype.listenerCount=c,r2.prototype.eventNames=function(){return 0<this._eventsCount?h(this._events):[]}},{}],8:[function(e,t2){t2.exports=function(){if(typeof globalThis>"u")return null;var e2={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e2.RTCPeerConnection?e2:null}},{}],9:[function(e,a,o){o.read=function(t2,n2,a2,o2,l){var c,u,p=8*l-o2-1,f=(1<<p)-1,g=f>>1,_=-7,h=a2?l-1:0,b=a2?-1:1,d=t2[n2+h];for(h+=b,c=d&(1<<-_)-1,d>>=-_,_+=p;0<_;c=256*c+t2[n2+h],h+=b,_-=8);for(u=c&(1<<-_)-1,c>>=-_,_+=o2;0<_;u=256*u+t2[n2+h],h+=b,_-=8);if(c===0)c=1-g;else{if(c===f)return u?NaN:(d?-1:1)*(1/0);u+=r(2,o2),c-=g}return(d?-1:1)*u*r(2,c-o2)},o.write=function(a2,o2,l,u,p,f){var h,b,y,g=Math.LN2,_=Math.log,C=8*f-p-1,R=(1<<C)-1,E=R>>1,w=p===23?r(2,-24)-r(2,-77):0,S=u?0:f-1,T=u?1:-1,d=0>o2||o2===0&&0>1/o2?1:0;for(o2=n(o2),isNaN(o2)||o2===1/0?(b=isNaN(o2)?1:0,h=R):(h=t(_(o2)/g),1>o2*(y=r(2,-h))&&(h--,y*=2),o2+=1<=h+E?w/y:w*r(2,1-E),2<=o2*y&&(h++,y/=2),h+E>=R?(b=0,h=R):1<=h+E?(b=(o2*y-1)*r(2,p),h+=E):(b=o2*r(2,E-1)*r(2,p),h=0));8<=p;a2[l+S]=255&b,S+=T,b/=256,p-=8);for(h=h<<p|b,C+=p;0<C;a2[l+S]=255&h,S+=T,h/=256,C-=8);a2[l+S-T]|=128*d}},{}],10:[function(e,t2){t2.exports=typeof Object.create=="function"?function(e2,t3){t3&&(e2.super_=t3,e2.prototype=Object.create(t3.prototype,{constructor:{value:e2,enumerable:!1,writable:!0,configurable:!0}}))}:function(e2,t3){if(t3){e2.super_=t3;var n2=function(){};n2.prototype=t3.prototype,e2.prototype=new n2,e2.prototype.constructor=e2}}},{}],11:[function(e,t2){var r2=Math.round;function a(e2){if(e2+="",!(100<e2.length)){var t3=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e2);if(t3){var r3=parseFloat(t3[1]),n2=(t3[2]||"ms").toLowerCase();return n2==="years"||n2==="year"||n2==="yrs"||n2==="yr"||n2==="y"?315576e5*r3:n2==="weeks"||n2==="week"||n2==="w"?6048e5*r3:n2==="days"||n2==="day"||n2==="d"?864e5*r3:n2==="hours"||n2==="hour"||n2==="hrs"||n2==="hr"||n2==="h"?36e5*r3:n2==="minutes"||n2==="minute"||n2==="mins"||n2==="min"||n2==="m"?6e4*r3:n2==="seconds"||n2==="second"||n2==="secs"||n2==="sec"||n2==="s"?1e3*r3:n2==="milliseconds"||n2==="millisecond"||n2==="msecs"||n2==="msec"||n2==="ms"?r3:void 0}}}function o(e2){var t3=n(e2);return 864e5<=t3?r2(e2/864e5)+"d":36e5<=t3?r2(e2/36e5)+"h":6e4<=t3?r2(e2/6e4)+"m":1e3<=t3?r2(e2/1e3)+"s":e2+"ms"}function i(e2){var t3=n(e2);return 864e5<=t3?s(e2,t3,864e5,"day"):36e5<=t3?s(e2,t3,36e5,"hour"):6e4<=t3?s(e2,t3,6e4,"minute"):1e3<=t3?s(e2,t3,1e3,"second"):e2+" ms"}function s(e2,t3,a2,n2){return r2(e2/a2)+" "+n2+(t3>=1.5*a2?"s":"")}var l=24*(60*6e4);t2.exports=function(e2,t3){t3=t3||{};var n2=typeof e2;if(n2=="string"&&0<e2.length)return a(e2);if(n2==="number"&&isFinite(e2))return t3.long?i(e2):o(e2);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e2))}},{}],12:[function(e,t2){function n2(){throw new Error("setTimeout has not been defined")}function r2(){throw new Error("clearTimeout has not been defined")}function a(t3){if(c===setTimeout)return setTimeout(t3,0);if((c===n2||!c)&&setTimeout)return c=setTimeout,setTimeout(t3,0);try{return c(t3,0)}catch{try{return c.call(null,t3,0)}catch{return c.call(this,t3,0)}}}function o(t3){if(u===clearTimeout)return clearTimeout(t3);if((u===r2||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t3);try{return u(t3)}catch{try{return u.call(null,t3)}catch{return u.call(this,t3)}}}function i(){_&&f&&(_=!1,f.length?g=f.concat(g):h=-1,g.length&&d())}function d(){if(!_){var e2=a(i);_=!0;for(var t3=g.length;t3;){for(f=g,g=[];++h<t3;)f&&f[h].run();h=-1,t3=g.length}f=null,_=!1,o(e2)}}function s(e2,t3){this.fun=e2,this.array=t3}function l(){}var c,u,p=t2.exports={};(function(){try{c=typeof setTimeout=="function"?setTimeout:n2}catch{c=n2}try{u=typeof clearTimeout=="function"?clearTimeout:r2}catch{u=r2}})();var f,g=[],_=!1,h=-1;p.nextTick=function(e2){var t3=Array(arguments.length-1);if(1<arguments.length)for(var n3=1;n3<arguments.length;n3++)t3[n3-1]=arguments[n3];g.push(new s(e2,t3)),g.length!==1||_||a(d)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(){return[]},p.binding=function(){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],13:[function(e,t2){(function(e2){(function(){let n2;t2.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window>"u"?e2:window):e3=>(n2||(n2=Promise.resolve())).then(e3).catch(e4=>setTimeout(()=>{throw e4},0))}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{}],14:[function(e,t2){(function(n2,r2){(function(){"use strict";var a=e("safe-buffer").Buffer,o=r2.crypto||r2.msCrypto;t2.exports=o&&o.getRandomValues?function(e2,t3){if(e2>4294967295)throw new RangeError("requested too many random bytes");var r3=a.allocUnsafe(e2);if(0<e2)if(65536<e2)for(var i=0;i<e2;i+=65536)o.getRandomValues(r3.slice(i,i+65536));else o.getRandomValues(r3);return typeof t3=="function"?n2.nextTick(function(){t3(null,r3)}):r3}:function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{_process:12,"safe-buffer":30}],15:[function(e,t2){"use strict";function n2(e2,t3){e2.prototype=Object.create(t3.prototype),e2.prototype.constructor=e2,e2.__proto__=t3}function r2(e2,t3,r3){function a2(e3,n3,r4){return typeof t3=="string"?t3:t3(e3,n3,r4)}r3||(r3=Error);var o2=function(e3){function t4(t5,n3,r4){return e3.call(this,a2(t5,n3,r4))||this}return n2(t4,e3),t4}(r3);o2.prototype.name=r3.name,o2.prototype.code=e2,s[e2]=o2}function a(e2,t3){if(Array.isArray(e2)){var n3=e2.length;return e2=e2.map(function(e3){return e3+""}),2<n3?"one of ".concat(t3," ").concat(e2.slice(0,n3-1).join(", "),", or ")+e2[n3-1]:n3===2?"one of ".concat(t3," ").concat(e2[0]," or ").concat(e2[1]):"of ".concat(t3," ").concat(e2[0])}return"of ".concat(t3," ").concat(e2+"")}function o(e2,t3,n3){return e2.substr(!n3||0>n3?0:+n3,t3.length)===t3}function i(e2,t3,n3){return(n3===void 0||n3>e2.length)&&(n3=e2.length),e2.substring(n3-t3.length,n3)===t3}function d(e2,t3,n3){return typeof n3!="number"&&(n3=0),!(n3+t3.length>e2.length)&&e2.indexOf(t3,n3)!==-1}var s={};r2("ERR_INVALID_OPT_VALUE",function(e2,t3){return'The value "'+t3+'" is invalid for option "'+e2+'"'},TypeError),r2("ERR_INVALID_ARG_TYPE",function(e2,t3,n3){var r3;typeof t3=="string"&&o(t3,"not ")?(r3="must not be",t3=t3.replace(/^not /,"")):r3="must be";var s2;if(i(e2," argument"))s2="The ".concat(e2," ").concat(r3," ").concat(a(t3,"type"));else{var l=d(e2,".")?"property":"argument";s2='The "'.concat(e2,'" ').concat(l," ").concat(r3," ").concat(a(t3,"type"))}return s2+=". Received type ".concat(typeof n3),s2},TypeError),r2("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r2("ERR_METHOD_NOT_IMPLEMENTED",function(e2){return"The "+e2+" method is not implemented"}),r2("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r2("ERR_STREAM_DESTROYED",function(e2){return"Cannot call "+e2+" after a stream was destroyed"}),r2("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r2("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r2("ERR_STREAM_WRITE_AFTER_END","write after end"),r2("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r2("ERR_UNKNOWN_ENCODING",function(e2){return"Unknown encoding: "+e2},TypeError),r2("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t2.exports.codes=s},{}],16:[function(e,t2){(function(n2){(function(){"use strict";function r2(e2){return this instanceof r2?(d.call(this,e2),s.call(this,e2),this.allowHalfOpen=!0,void(e2&&(e2.readable===!1&&(this.readable=!1),e2.writable===!1&&(this.writable=!1),e2.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a))))):new r2(e2)}function a(){this._writableState.ended||n2.nextTick(o,this)}function o(e2){e2.end()}var i=Object.keys||function(e2){var t3=[];for(var n3 in e2)t3.push(n3);return t3};t2.exports=r2;var d=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(r2,d);for(var l,c=i(s.prototype),u=0;u<c.length;u++)l=c[u],r2.prototype[l]||(r2.prototype[l]=s.prototype[l]);Object.defineProperty(r2.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r2.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r2.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(r2.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e2){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e2,this._writableState.destroyed=e2)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(e,t2){"use strict";function n2(e2){return this instanceof n2?void r2.call(this,e2):new n2(e2)}t2.exports=n2;var r2=e("./_stream_transform");e("inherits")(n2,r2),n2.prototype._transform=function(e2,t3,n3){n3(null,e2)}},{"./_stream_transform":19,inherits:10}],18:[function(e,t2){(function(n2,r2){(function(){"use strict";function a(e2){return P.from(e2)}function o(e2){return P.isBuffer(e2)||e2 instanceof M}function i(e2,t3,n3){return typeof e2.prependListener=="function"?e2.prependListener(t3,n3):void(e2._events&&e2._events[t3]?Array.isArray(e2._events[t3])?e2._events[t3].unshift(n3):e2._events[t3]=[n3,e2._events[t3]]:e2.on(t3,n3))}function d(t3,n3,r3){A=A||e("./_stream_duplex"),t3=t3||{},typeof r3!="boolean"&&(r3=n3 instanceof A),this.objectMode=!!t3.objectMode,r3&&(this.objectMode=this.objectMode||!!t3.readableObjectMode),this.highWaterMark=H(this,t3,"readableHighWaterMark",r3),this.buffer=new j,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t3.emitClose!==!1,this.autoDestroy=!!t3.autoDestroy,this.destroyed=!1,this.defaultEncoding=t3.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t3.encoding&&(!F&&(F=e("string_decoder/").StringDecoder),this.decoder=new F(t3.encoding),this.encoding=t3.encoding)}function s(t3){if(A=A||e("./_stream_duplex"),!(this instanceof s))return new s(t3);var n3=this instanceof A;this._readableState=new d(t3,this,n3),this.readable=!0,t3&&(typeof t3.read=="function"&&(this._read=t3.read),typeof t3.destroy=="function"&&(this._destroy=t3.destroy)),I.call(this)}function l(e2,t3,n3,r3,o2){x("readableAddChunk",t3);var i2=e2._readableState;if(t3===null)i2.reading=!1,g(e2,i2);else{var d2;if(o2||(d2=u(i2,t3)),d2)X(e2,d2);else if(!(i2.objectMode||t3&&0<t3.length))r3||(i2.reading=!1,m(e2,i2));else if(typeof t3=="string"||i2.objectMode||Object.getPrototypeOf(t3)===P.prototype||(t3=a(t3)),r3)i2.endEmitted?X(e2,new K):c(e2,i2,t3,!0);else if(i2.ended)X(e2,new z);else{if(i2.destroyed)return!1;i2.reading=!1,i2.decoder&&!n3?(t3=i2.decoder.write(t3),i2.objectMode||t3.length!==0?c(e2,i2,t3,!1):m(e2,i2)):c(e2,i2,t3,!1)}}return!i2.ended&&(i2.length<i2.highWaterMark||i2.length===0)}function c(e2,t3,n3,r3){t3.flowing&&t3.length===0&&!t3.sync?(t3.awaitDrain=0,e2.emit("data",n3)):(t3.length+=t3.objectMode?1:n3.length,r3?t3.buffer.unshift(n3):t3.buffer.push(n3),t3.needReadable&&_(e2)),m(e2,t3)}function u(e2,t3){var n3;return o(t3)||typeof t3=="string"||t3===void 0||e2.objectMode||(n3=new V("chunk",["string","Buffer","Uint8Array"],t3)),n3}function p(e2){return 1073741824<=e2?e2=1073741824:(e2--,e2|=e2>>>1,e2|=e2>>>2,e2|=e2>>>4,e2|=e2>>>8,e2|=e2>>>16,e2++),e2}function f(e2,t3){return 0>=e2||t3.length===0&&t3.ended?0:t3.objectMode?1:e2===e2?(e2>t3.highWaterMark&&(t3.highWaterMark=p(e2)),e2<=t3.length?e2:t3.ended?t3.length:(t3.needReadable=!0,0)):t3.flowing&&t3.length?t3.buffer.head.data.length:t3.length}function g(e2,t3){if(x("onEofChunk"),!t3.ended){if(t3.decoder){var n3=t3.decoder.end();n3&&n3.length&&(t3.buffer.push(n3),t3.length+=t3.objectMode?1:n3.length)}t3.ended=!0,t3.sync?_(e2):(t3.needReadable=!1,!t3.emittedReadable&&(t3.emittedReadable=!0,h(e2)))}}function _(e2){var t3=e2._readableState;x("emitReadable",t3.needReadable,t3.emittedReadable),t3.needReadable=!1,t3.emittedReadable||(x("emitReadable",t3.flowing),t3.emittedReadable=!0,n2.nextTick(h,e2))}function h(e2){var t3=e2._readableState;x("emitReadable_",t3.destroyed,t3.length,t3.ended),!t3.destroyed&&(t3.length||t3.ended)&&(e2.emit("readable"),t3.emittedReadable=!1),t3.needReadable=!t3.flowing&&!t3.ended&&t3.length<=t3.highWaterMark,S(e2)}function m(e2,t3){t3.readingMore||(t3.readingMore=!0,n2.nextTick(b,e2,t3))}function b(e2,t3){for(;!t3.reading&&!t3.ended&&(t3.length<t3.highWaterMark||t3.flowing&&t3.length===0);){var n3=t3.length;if(x("maybeReadMore read 0"),e2.read(0),n3===t3.length)break}t3.readingMore=!1}function y(e2){return function(){var t3=e2._readableState;x("pipeOnDrain",t3.awaitDrain),t3.awaitDrain&&t3.awaitDrain--,t3.awaitDrain===0&&D(e2,"data")&&(t3.flowing=!0,S(e2))}}function C(e2){var t3=e2._readableState;t3.readableListening=0<e2.listenerCount("readable"),t3.resumeScheduled&&!t3.paused?t3.flowing=!0:0<e2.listenerCount("data")&&e2.resume()}function R(e2){x("readable nexttick read 0"),e2.read(0)}function E(e2,t3){t3.resumeScheduled||(t3.resumeScheduled=!0,n2.nextTick(w,e2,t3))}function w(e2,t3){x("resume",t3.reading),t3.reading||e2.read(0),t3.resumeScheduled=!1,e2.emit("resume"),S(e2),t3.flowing&&!t3.reading&&e2.read(0)}function S(e2){var t3=e2._readableState;for(x("flow",t3.flowing);t3.flowing&&e2.read()!==null;);}function T(e2,t3){if(t3.length===0)return null;var n3;return t3.objectMode?n3=t3.buffer.shift():!e2||e2>=t3.length?(n3=t3.decoder?t3.buffer.join(""):t3.buffer.length===1?t3.buffer.first():t3.buffer.concat(t3.length),t3.buffer.clear()):n3=t3.buffer.consume(e2,t3.decoder),n3}function v(e2){var t3=e2._readableState;x("endReadable",t3.endEmitted),t3.endEmitted||(t3.ended=!0,n2.nextTick(k,t3,e2))}function k(e2,t3){if(x("endReadableNT",e2.endEmitted,e2.length),!e2.endEmitted&&e2.length===0&&(e2.endEmitted=!0,t3.readable=!1,t3.emit("end"),e2.autoDestroy)){var n3=t3._writableState;(!n3||n3.autoDestroy&&n3.finished)&&t3.destroy()}}function L(e2,t3){for(var n3=0,r3=e2.length;n3<r3;n3++)if(e2[n3]===t3)return n3;return-1}t2.exports=s;var A;s.ReadableState=d;var x,N=e("events").EventEmitter,D=function(e2,t3){return e2.listeners(t3).length},I=e("./internal/streams/stream"),P=e("buffer").Buffer,M=r2.Uint8Array||function(){},O=e("util");x=O&&O.debuglog?O.debuglog("stream"):function(){};var F,B,U,j=e("./internal/streams/buffer_list"),q=e("./internal/streams/destroy"),W=e("./internal/streams/state"),H=W.getHighWaterMark,Y=e("../errors").codes,V=Y.ERR_INVALID_ARG_TYPE,z=Y.ERR_STREAM_PUSH_AFTER_EOF,G=Y.ERR_METHOD_NOT_IMPLEMENTED,K=Y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(s,I);var X=q.errorOrDestroy,$=["error","close","destroy","pause","resume"];Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(e2){this._readableState&&(this._readableState.destroyed=e2)}}),s.prototype.destroy=q.destroy,s.prototype._undestroy=q.undestroy,s.prototype._destroy=function(e2,t3){t3(e2)},s.prototype.push=function(e2,t3){var n3,r3=this._readableState;return r3.objectMode?n3=!0:typeof e2=="string"&&(t3=t3||r3.defaultEncoding,t3!==r3.encoding&&(e2=P.from(e2,t3),t3=""),n3=!0),l(this,e2,t3,!1,n3)},s.prototype.unshift=function(e2){return l(this,e2,null,!0,!1)},s.prototype.isPaused=function(){return this._readableState.flowing===!1},s.prototype.setEncoding=function(t3){F||(F=e("string_decoder/").StringDecoder);var n3=new F(t3);this._readableState.decoder=n3,this._readableState.encoding=this._readableState.decoder.encoding;for(var r3=this._readableState.buffer.head,a2="";r3!==null;)a2+=n3.write(r3.data),r3=r3.next;return this._readableState.buffer.clear(),a2!==""&&this._readableState.buffer.push(a2),this._readableState.length=a2.length,this},s.prototype.read=function(e2){x("read",e2),e2=parseInt(e2,10);var t3=this._readableState,r3=e2;if(e2!==0&&(t3.emittedReadable=!1),e2===0&&t3.needReadable&&((t3.highWaterMark===0?0<t3.length:t3.length>=t3.highWaterMark)||t3.ended))return x("read: emitReadable",t3.length,t3.ended),t3.length===0&&t3.ended?v(this):_(this),null;if(e2=f(e2,t3),e2===0&&t3.ended)return t3.length===0&&v(this),null;var a2=t3.needReadable;x("need readable",a2),(t3.length===0||t3.length-e2<t3.highWaterMark)&&(a2=!0,x("length less than watermark",a2)),t3.ended||t3.reading?(a2=!1,x("reading or ended",a2)):a2&&(x("do read"),t3.reading=!0,t3.sync=!0,t3.length===0&&(t3.needReadable=!0),this._read(t3.highWaterMark),t3.sync=!1,!t3.reading&&(e2=f(r3,t3)));var o2;return o2=0<e2?T(e2,t3):null,o2===null?(t3.needReadable=t3.length<=t3.highWaterMark,e2=0):(t3.length-=e2,t3.awaitDrain=0),t3.length===0&&(!t3.ended&&(t3.needReadable=!0),r3!==e2&&t3.ended&&v(this)),o2!==null&&this.emit("data",o2),o2},s.prototype._read=function(){X(this,new G("_read()"))},s.prototype.pipe=function(e2,t3){function r3(e3,t4){x("onunpipe"),e3===p2&&t4&&t4.hasUnpiped===!1&&(t4.hasUnpiped=!0,o2())}function a2(){x("onend"),e2.end()}function o2(){x("cleanup"),e2.removeListener("close",l2),e2.removeListener("finish",c2),e2.removeListener("drain",h2),e2.removeListener("error",s2),e2.removeListener("unpipe",r3),p2.removeListener("end",a2),p2.removeListener("end",u2),p2.removeListener("data",d2),m2=!0,f2.awaitDrain&&(!e2._writableState||e2._writableState.needDrain)&&h2()}function d2(t4){x("ondata");var n3=e2.write(t4);x("dest.write",n3),n3===!1&&((f2.pipesCount===1&&f2.pipes===e2||1<f2.pipesCount&&L(f2.pipes,e2)!==-1)&&!m2&&(x("false write response, pause",f2.awaitDrain),f2.awaitDrain++),p2.pause())}function s2(t4){x("onerror",t4),u2(),e2.removeListener("error",s2),D(e2,"error")===0&&X(e2,t4)}function l2(){e2.removeListener("finish",c2),u2()}function c2(){x("onfinish"),e2.removeListener("close",l2),u2()}function u2(){x("unpipe"),p2.unpipe(e2)}var p2=this,f2=this._readableState;switch(f2.pipesCount){case 0:f2.pipes=e2;break;case 1:f2.pipes=[f2.pipes,e2];break;default:f2.pipes.push(e2)}f2.pipesCount+=1,x("pipe count=%d opts=%j",f2.pipesCount,t3);var g2=(!t3||t3.end!==!1)&&e2!==n2.stdout&&e2!==n2.stderr,_2=g2?a2:u2;f2.endEmitted?n2.nextTick(_2):p2.once("end",_2),e2.on("unpipe",r3);var h2=y(p2);e2.on("drain",h2);var m2=!1;return p2.on("data",d2),i(e2,"error",s2),e2.once("close",l2),e2.once("finish",c2),e2.emit("pipe",p2),f2.flowing||(x("pipe resume"),p2.resume()),e2},s.prototype.unpipe=function(e2){var t3=this._readableState,n3={hasUnpiped:!1};if(t3.pipesCount===0)return this;if(t3.pipesCount===1)return e2&&e2!==t3.pipes?this:(e2||(e2=t3.pipes),t3.pipes=null,t3.pipesCount=0,t3.flowing=!1,e2&&e2.emit("unpipe",this,n3),this);if(!e2){var r3=t3.pipes,a2=t3.pipesCount;t3.pipes=null,t3.pipesCount=0,t3.flowing=!1;for(var o2=0;o2<a2;o2++)r3[o2].emit("unpipe",this,{hasUnpiped:!1});return this}var d2=L(t3.pipes,e2);return d2===-1?this:(t3.pipes.splice(d2,1),t3.pipesCount-=1,t3.pipesCount===1&&(t3.pipes=t3.pipes[0]),e2.emit("unpipe",this,n3),this)},s.prototype.on=function(e2,t3){var r3=I.prototype.on.call(this,e2,t3),a2=this._readableState;return e2==="data"?(a2.readableListening=0<this.listenerCount("readable"),a2.flowing!==!1&&this.resume()):e2=="readable"&&!a2.endEmitted&&!a2.readableListening&&(a2.readableListening=a2.needReadable=!0,a2.flowing=!1,a2.emittedReadable=!1,x("on readable",a2.length,a2.reading),a2.length?_(this):!a2.reading&&n2.nextTick(R,this)),r3},s.prototype.addListener=s.prototype.on,s.prototype.removeListener=function(e2,t3){var r3=I.prototype.removeListener.call(this,e2,t3);return e2==="readable"&&n2.nextTick(C,this),r3},s.prototype.removeAllListeners=function(e2){var t3=I.prototype.removeAllListeners.apply(this,arguments);return(e2==="readable"||e2===void 0)&&n2.nextTick(C,this),t3},s.prototype.resume=function(){var e2=this._readableState;return e2.flowing||(x("resume"),e2.flowing=!e2.readableListening,E(this,e2)),e2.paused=!1,this},s.prototype.pause=function(){return x("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(x("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},s.prototype.wrap=function(e2){var t3=this,r3=this._readableState,a2=!1;for(var o2 in e2.on("end",function(){if(x("wrapped end"),r3.decoder&&!r3.ended){var e3=r3.decoder.end();e3&&e3.length&&t3.push(e3)}t3.push(null)}),e2.on("data",function(n3){if(x("wrapped data"),r3.decoder&&(n3=r3.decoder.write(n3)),!(r3.objectMode&&n3==null)&&(r3.objectMode||n3&&n3.length)){var o3=t3.push(n3);o3||(a2=!0,e2.pause())}}),e2)this[o2]===void 0&&typeof e2[o2]=="function"&&(this[o2]=function(t4){return function(){return e2[t4].apply(e2,arguments)}}(o2));for(var i2=0;i2<$.length;i2++)e2.on($[i2],this.emit.bind(this,$[i2]));return this._read=function(t4){x("wrapped _read",t4),a2&&(a2=!1,e2.resume())},this},typeof Symbol=="function"&&(s.prototype[Symbol.asyncIterator]=function(){return B===void 0&&(B=e("./internal/streams/async_iterator")),B(this)}),Object.defineProperty(s.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(s.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(s.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e2){this._readableState&&(this._readableState.flowing=e2)}}),s._fromList=T,Object.defineProperty(s.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(s.from=function(t3,n3){return U===void 0&&(U=e("./internal/streams/from")),U(s,t3,n3)})}).call(this)}).call(this,e("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(e,t2){"use strict";function n2(e2,t3){var n3=this._transformState;n3.transforming=!1;var r3=n3.writecb;if(r3===null)return this.emit("error",new s);n3.writechunk=null,n3.writecb=null,t3!=null&&this.push(t3),r3(e2);var a2=this._readableState;a2.reading=!1,(a2.needReadable||a2.length<a2.highWaterMark)&&this._read(a2.highWaterMark)}function r2(e2){return this instanceof r2?(u.call(this,e2),this._transformState={afterTransform:n2.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e2&&(typeof e2.transform=="function"&&(this._transform=e2.transform),typeof e2.flush=="function"&&(this._flush=e2.flush)),void this.on("prefinish",a)):new r2(e2)}function a(){var e2=this;typeof this._flush!="function"||this._readableState.destroyed?o(this,null,null):this._flush(function(t3,n3){o(e2,t3,n3)})}function o(e2,t3,n3){if(t3)return e2.emit("error",t3);if(n3!=null&&e2.push(n3),e2._writableState.length)throw new c;if(e2._transformState.transforming)throw new l;return e2.push(null)}t2.exports=r2;var i=e("../errors").codes,d=i.ERR_METHOD_NOT_IMPLEMENTED,s=i.ERR_MULTIPLE_CALLBACK,l=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=i.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");e("inherits")(r2,u),r2.prototype.push=function(e2,t3){return this._transformState.needTransform=!1,u.prototype.push.call(this,e2,t3)},r2.prototype._transform=function(e2,t3,n3){n3(new d("_transform()"))},r2.prototype._write=function(e2,t3,n3){var r3=this._transformState;if(r3.writecb=n3,r3.writechunk=e2,r3.writeencoding=t3,!r3.transforming){var a2=this._readableState;(r3.needTransform||a2.needReadable||a2.length<a2.highWaterMark)&&this._read(a2.highWaterMark)}},r2.prototype._read=function(){var e2=this._transformState;e2.writechunk===null||e2.transforming?e2.needTransform=!0:(e2.transforming=!0,this._transform(e2.writechunk,e2.writeencoding,e2.afterTransform))},r2.prototype._destroy=function(e2,t3){u.prototype._destroy.call(this,e2,function(e3){t3(e3)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(e,t2){(function(n2,r2){(function(){"use strict";function a(e2){var t3=this;this.next=null,this.entry=null,this.finish=function(){v(t3,e2)}}function o(e2){return x.from(e2)}function i(e2){return x.isBuffer(e2)||e2 instanceof N}function d(){}function s(t3,n3,r3){k=k||e("./_stream_duplex"),t3=t3||{},typeof r3!="boolean"&&(r3=n3 instanceof k),this.objectMode=!!t3.objectMode,r3&&(this.objectMode=this.objectMode||!!t3.writableObjectMode),this.highWaterMark=P(this,t3,"writableHighWaterMark",r3),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o2=t3.decodeStrings===!1;this.decodeStrings=!o2,this.defaultEncoding=t3.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e2){m(n3,e2)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t3.emitClose!==!1,this.autoDestroy=!!t3.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function l(t3){k=k||e("./_stream_duplex");var n3=this instanceof k;return n3||V.call(l,this)?(this._writableState=new s(t3,this,n3),this.writable=!0,t3&&(typeof t3.write=="function"&&(this._write=t3.write),typeof t3.writev=="function"&&(this._writev=t3.writev),typeof t3.destroy=="function"&&(this._destroy=t3.destroy),typeof t3.final=="function"&&(this._final=t3.final)),void A.call(this)):new l(t3)}function c(e2,t3){var r3=new W;Y(e2,r3),n2.nextTick(t3,r3)}function u(e2,t3,r3,a2){var o2;return r3===null?o2=new q:typeof r3!="string"&&!t3.objectMode&&(o2=new O("chunk",["string","Buffer"],r3)),!o2||(Y(e2,o2),n2.nextTick(a2,o2),!1)}function p(e2,t3,n3){return e2.objectMode||e2.decodeStrings===!1||typeof t3!="string"||(t3=x.from(t3,n3)),t3}function f(e2,t3,n3,r3,a2,o2){if(!n3){var i2=p(t3,r3,a2);r3!==i2&&(n3=!0,a2="buffer",r3=i2)}var d2=t3.objectMode?1:r3.length;t3.length+=d2;var s2=t3.length<t3.highWaterMark;if(s2||(t3.needDrain=!0),t3.writing||t3.corked){var l2=t3.lastBufferedRequest;t3.lastBufferedRequest={chunk:r3,encoding:a2,isBuf:n3,callback:o2,next:null},l2?l2.next=t3.lastBufferedRequest:t3.bufferedRequest=t3.lastBufferedRequest,t3.bufferedRequestCount+=1}else g(e2,t3,!1,d2,r3,a2,o2);return s2}function g(e2,t3,n3,r3,a2,o2,i2){t3.writelen=r3,t3.writecb=i2,t3.writing=!0,t3.sync=!0,t3.destroyed?t3.onwrite(new j("write")):n3?e2._writev(a2,t3.onwrite):e2._write(a2,o2,t3.onwrite),t3.sync=!1}function _(e2,t3,r3,a2,o2){--t3.pendingcb,r3?(n2.nextTick(o2,a2),n2.nextTick(S,e2,t3),e2._writableState.errorEmitted=!0,Y(e2,a2)):(o2(a2),e2._writableState.errorEmitted=!0,Y(e2,a2),S(e2,t3))}function h(e2){e2.writing=!1,e2.writecb=null,e2.length-=e2.writelen,e2.writelen=0}function m(e2,t3){var r3=e2._writableState,a2=r3.sync,o2=r3.writecb;if(typeof o2!="function")throw new B;if(h(r3),t3)_(e2,r3,a2,t3,o2);else{var i2=R(r3)||e2.destroyed;i2||r3.corked||r3.bufferProcessing||!r3.bufferedRequest||C(e2,r3),a2?n2.nextTick(b,e2,r3,i2,o2):b(e2,r3,i2,o2)}}function b(e2,t3,n3,r3){n3||y(e2,t3),t3.pendingcb--,r3(),S(e2,t3)}function y(e2,t3){t3.length===0&&t3.needDrain&&(t3.needDrain=!1,e2.emit("drain"))}function C(e2,t3){t3.bufferProcessing=!0;var n3=t3.bufferedRequest;if(e2._writev&&n3&&n3.next){var r3=t3.bufferedRequestCount,o2=Array(r3),i2=t3.corkedRequestsFree;i2.entry=n3;for(var d2=0,s2=!0;n3;)o2[d2]=n3,n3.isBuf||(s2=!1),n3=n3.next,d2+=1;o2.allBuffers=s2,g(e2,t3,!0,t3.length,o2,"",i2.finish),t3.pendingcb++,t3.lastBufferedRequest=null,i2.next?(t3.corkedRequestsFree=i2.next,i2.next=null):t3.corkedRequestsFree=new a(t3),t3.bufferedRequestCount=0}else{for(;n3;){var l2=n3.chunk,c2=n3.encoding,u2=n3.callback,p2=t3.objectMode?1:l2.length;if(g(e2,t3,!1,p2,l2,c2,u2),n3=n3.next,t3.bufferedRequestCount--,t3.writing)break}n3===null&&(t3.lastBufferedRequest=null)}t3.bufferedRequest=n3,t3.bufferProcessing=!1}function R(e2){return e2.ending&&e2.length===0&&e2.bufferedRequest===null&&!e2.finished&&!e2.writing}function E(e2,t3){e2._final(function(n3){t3.pendingcb--,n3&&Y(e2,n3),t3.prefinished=!0,e2.emit("prefinish"),S(e2,t3)})}function w(e2,t3){t3.prefinished||t3.finalCalled||(typeof e2._final!="function"||t3.destroyed?(t3.prefinished=!0,e2.emit("prefinish")):(t3.pendingcb++,t3.finalCalled=!0,n2.nextTick(E,e2,t3)))}function S(e2,t3){var n3=R(t3);if(n3&&(w(e2,t3),t3.pendingcb===0&&(t3.finished=!0,e2.emit("finish"),t3.autoDestroy))){var r3=e2._readableState;(!r3||r3.autoDestroy&&r3.endEmitted)&&e2.destroy()}return n3}function T(e2,t3,r3){t3.ending=!0,S(e2,t3),r3&&(t3.finished?n2.nextTick(r3):e2.once("finish",r3)),t3.ended=!0,e2.writable=!1}function v(e2,t3,n3){var r3=e2.entry;for(e2.entry=null;r3;){var a2=r3.callback;t3.pendingcb--,a2(n3),r3=r3.next}t3.corkedRequestsFree.next=e2}t2.exports=l;var k;l.WritableState=s;var L={deprecate:e("util-deprecate")},A=e("./internal/streams/stream"),x=e("buffer").Buffer,N=r2.Uint8Array||function(){},D=e("./internal/streams/destroy"),I=e("./internal/streams/state"),P=I.getHighWaterMark,M=e("../errors").codes,O=M.ERR_INVALID_ARG_TYPE,F=M.ERR_METHOD_NOT_IMPLEMENTED,B=M.ERR_MULTIPLE_CALLBACK,U=M.ERR_STREAM_CANNOT_PIPE,j=M.ERR_STREAM_DESTROYED,q=M.ERR_STREAM_NULL_VALUES,W=M.ERR_STREAM_WRITE_AFTER_END,H=M.ERR_UNKNOWN_ENCODING,Y=D.errorOrDestroy;e("inherits")(l,A),s.prototype.getBuffer=function(){for(var e2=this.bufferedRequest,t3=[];e2;)t3.push(e2),e2=e2.next;return t3},function(){try{Object.defineProperty(s.prototype,"buffer",{get:L.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var V;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(V=Function.prototype[Symbol.hasInstance],Object.defineProperty(l,Symbol.hasInstance,{value:function(e2){return!!V.call(this,e2)||this===l&&e2&&e2._writableState instanceof s}})):V=function(e2){return e2 instanceof this},l.prototype.pipe=function(){Y(this,new U)},l.prototype.write=function(e2,t3,n3){var r3=this._writableState,a2=!1,s2=!r3.objectMode&&i(e2);return s2&&!x.isBuffer(e2)&&(e2=o(e2)),typeof t3=="function"&&(n3=t3,t3=null),s2?t3="buffer":!t3&&(t3=r3.defaultEncoding),typeof n3!="function"&&(n3=d),r3.ending?c(this,n3):(s2||u(this,r3,e2,n3))&&(r3.pendingcb++,a2=f(this,r3,s2,e2,t3,n3)),a2},l.prototype.cork=function(){this._writableState.corked++},l.prototype.uncork=function(){var e2=this._writableState;e2.corked&&(e2.corked--,!e2.writing&&!e2.corked&&!e2.bufferProcessing&&e2.bufferedRequest&&C(this,e2))},l.prototype.setDefaultEncoding=function(e2){if(typeof e2=="string"&&(e2=e2.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e2+"").toLowerCase())))throw new H(e2);return this._writableState.defaultEncoding=e2,this},Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),l.prototype._write=function(e2,t3,n3){n3(new F("_write()"))},l.prototype._writev=null,l.prototype.end=function(e2,t3,n3){var r3=this._writableState;return typeof e2=="function"?(n3=e2,e2=null,t3=null):typeof t3=="function"&&(n3=t3,t3=null),e2!=null&&this.write(e2,t3),r3.corked&&(r3.corked=1,this.uncork()),r3.ending||T(this,r3,n3),this},Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(e2){this._writableState&&(this._writableState.destroyed=e2)}}),l.prototype.destroy=D.destroy,l.prototype._undestroy=D.undestroy,l.prototype._destroy=function(e2,t3){t3(e2)}}).call(this)}).call(this,e("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(e,t2){(function(n2){(function(){"use strict";function r2(e2,t3,n3){return t3 in e2?Object.defineProperty(e2,t3,{value:n3,enumerable:!0,configurable:!0,writable:!0}):e2[t3]=n3,e2}function a(e2,t3){return{value:e2,done:t3}}function o(e2){var t3=e2[c];if(t3!==null){var n3=e2[h].read();n3!==null&&(e2[g]=null,e2[c]=null,e2[u]=null,t3(a(n3,!1)))}}function i(e2){n2.nextTick(o,e2)}function d(e2,t3){return function(n3,r3){e2.then(function(){return t3[f]?void n3(a(void 0,!0)):void t3[_](n3,r3)},r3)}}var s,l=e("./end-of-stream"),c=Symbol("lastResolve"),u=Symbol("lastReject"),p=Symbol("error"),f=Symbol("ended"),g=Symbol("lastPromise"),_=Symbol("handlePromise"),h=Symbol("stream"),m=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((s={get stream(){return this[h]},next:function(){var e2=this,t3=this[p];if(t3!==null)return Promise.reject(t3);if(this[f])return Promise.resolve(a(void 0,!0));if(this[h].destroyed)return new Promise(function(t4,r4){n2.nextTick(function(){e2[p]?r4(e2[p]):t4(a(void 0,!0))})});var r3,o2=this[g];if(o2)r3=new Promise(d(o2,this));else{var i2=this[h].read();if(i2!==null)return Promise.resolve(a(i2,!1));r3=new Promise(this[_])}return this[g]=r3,r3}},r2(s,Symbol.asyncIterator,function(){return this}),r2(s,"return",function(){var e2=this;return new Promise(function(t3,n3){e2[h].destroy(null,function(e3){return e3?void n3(e3):void t3(a(void 0,!0))})})}),s),m);t2.exports=function(e2){var t3,n3=Object.create(b,(t3={},r2(t3,h,{value:e2,writable:!0}),r2(t3,c,{value:null,writable:!0}),r2(t3,u,{value:null,writable:!0}),r2(t3,p,{value:null,writable:!0}),r2(t3,f,{value:e2._readableState.endEmitted,writable:!0}),r2(t3,_,{value:function(e3,t4){var r3=n3[h].read();r3?(n3[g]=null,n3[c]=null,n3[u]=null,e3(a(r3,!1))):(n3[c]=e3,n3[u]=t4)},writable:!0}),t3));return n3[g]=null,l(e2,function(e3){if(e3&&e3.code!=="ERR_STREAM_PREMATURE_CLOSE"){var t4=n3[u];return t4!==null&&(n3[g]=null,n3[c]=null,n3[u]=null,t4(e3)),void(n3[p]=e3)}var r3=n3[c];r3!==null&&(n3[g]=null,n3[c]=null,n3[u]=null,r3(a(void 0,!0))),n3[f]=!0}),e2.on("readable",i.bind(null,n3)),n3}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":24,_process:12}],22:[function(e,t2){"use strict";function n2(e2,t3){var n3=Object.keys(e2);if(Object.getOwnPropertySymbols){var r3=Object.getOwnPropertySymbols(e2);t3&&(r3=r3.filter(function(t4){return Object.getOwnPropertyDescriptor(e2,t4).enumerable})),n3.push.apply(n3,r3)}return n3}function r2(e2){for(var t3,r3=1;r3<arguments.length;r3++)t3=arguments[r3]==null?{}:arguments[r3],r3%2?n2(Object(t3),!0).forEach(function(n3){a(e2,n3,t3[n3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e2,Object.getOwnPropertyDescriptors(t3)):n2(Object(t3)).forEach(function(n3){Object.defineProperty(e2,n3,Object.getOwnPropertyDescriptor(t3,n3))});return e2}function a(e2,t3,n3){return t3 in e2?Object.defineProperty(e2,t3,{value:n3,enumerable:!0,configurable:!0,writable:!0}):e2[t3]=n3,e2}function o(e2,t3){if(!(e2 instanceof t3))throw new TypeError("Cannot call a class as a function")}function i(e2,t3){for(var n3,r3=0;r3<t3.length;r3++)n3=t3[r3],n3.enumerable=n3.enumerable||!1,n3.configurable=!0,"value"in n3&&(n3.writable=!0),Object.defineProperty(e2,n3.key,n3)}function d(e2,t3,n3){return t3&&i(e2.prototype,t3),n3&&i(e2,n3),e2}function s(e2,t3,n3){u.prototype.copy.call(e2,t3,n3)}var l=e("buffer"),u=l.Buffer,p=e("util"),f=p.inspect,g=f&&f.custom||"inspect";t2.exports=function(){function e2(){o(this,e2),this.head=null,this.tail=null,this.length=0}return d(e2,[{key:"push",value:function(e3){var t3={data:e3,next:null};0<this.length?this.tail.next=t3:this.head=t3,this.tail=t3,++this.length}},{key:"unshift",value:function(e3){var t3={data:e3,next:this.head};this.length===0&&(this.tail=t3),this.head=t3,++this.length}},{key:"shift",value:function(){if(this.length!==0){var e3=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,e3}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e3){if(this.length===0)return"";for(var t3=this.head,n3=""+t3.data;t3=t3.next;)n3+=e3+t3.data;return n3}},{key:"concat",value:function(e3){if(this.length===0)return u.alloc(0);for(var t3=u.allocUnsafe(e3>>>0),n3=this.head,r3=0;n3;)s(n3.data,t3,r3),r3+=n3.data.length,n3=n3.next;return t3}},{key:"consume",value:function(e3,t3){var n3;return e3<this.head.data.length?(n3=this.head.data.slice(0,e3),this.head.data=this.head.data.slice(e3)):e3===this.head.data.length?n3=this.shift():n3=t3?this._getString(e3):this._getBuffer(e3),n3}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e3){var t3=this.head,r3=1,a2=t3.data;for(e3-=a2.length;t3=t3.next;){var o2=t3.data,i2=e3>o2.length?o2.length:e3;if(a2+=i2===o2.length?o2:o2.slice(0,e3),e3-=i2,e3===0){i2===o2.length?(++r3,this.head=t3.next?t3.next:this.tail=null):(this.head=t3,t3.data=o2.slice(i2));break}++r3}return this.length-=r3,a2}},{key:"_getBuffer",value:function(e3){var t3=u.allocUnsafe(e3),r3=this.head,a2=1;for(r3.data.copy(t3),e3-=r3.data.length;r3=r3.next;){var o2=r3.data,i2=e3>o2.length?o2.length:e3;if(o2.copy(t3,t3.length-e3,0,i2),e3-=i2,e3===0){i2===o2.length?(++a2,this.head=r3.next?r3.next:this.tail=null):(this.head=r3,r3.data=o2.slice(i2));break}++a2}return this.length-=a2,t3}},{key:g,value:function(e3,t3){return f(this,r2({},t3,{depth:0,customInspect:!1}))}}]),e2}()},{buffer:3,util:2}],23:[function(e,t2){(function(e2){(function(){"use strict";function n2(e3,t3){a(e3,t3),r2(e3)}function r2(e3){e3._writableState&&!e3._writableState.emitClose||e3._readableState&&!e3._readableState.emitClose||e3.emit("close")}function a(e3,t3){e3.emit("error",t3)}t2.exports={destroy:function(t3,o){var i=this,d=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return d||s?(o?o(t3):t3&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,e2.nextTick(a,this,t3)):e2.nextTick(a,this,t3)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t3||null,function(t4){!o&&t4?i._writableState?i._writableState.errorEmitted?e2.nextTick(r2,i):(i._writableState.errorEmitted=!0,e2.nextTick(n2,i,t4)):e2.nextTick(n2,i,t4):o?(e2.nextTick(r2,i),o(t4)):e2.nextTick(r2,i)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e3,t3){var n3=e3._readableState,r3=e3._writableState;n3&&n3.autoDestroy||r3&&r3.autoDestroy?e3.destroy(t3):e3.emit("error",t3)}}}).call(this)}).call(this,e("_process"))},{_process:12}],24:[function(e,t2){"use strict";function n2(e2){var t3=!1;return function(){if(!t3){t3=!0;for(var n3=arguments.length,r3=Array(n3),a2=0;a2<n3;a2++)r3[a2]=arguments[a2];e2.apply(this,r3)}}}function r2(){}function a(e2){return e2.setHeader&&typeof e2.abort=="function"}function o(e2,t3,d){if(typeof t3=="function")return o(e2,null,t3);t3||(t3={}),d=n2(d||r2);var s=t3.readable||t3.readable!==!1&&e2.readable,l=t3.writable||t3.writable!==!1&&e2.writable,c=function(){e2.writable||p()},u=e2._writableState&&e2._writableState.finished,p=function(){l=!1,u=!0,s||d.call(e2)},f=e2._readableState&&e2._readableState.endEmitted,g=function(){s=!1,f=!0,l||d.call(e2)},_=function(t4){d.call(e2,t4)},h=function(){var t4;return s&&!f?(e2._readableState&&e2._readableState.ended||(t4=new i),d.call(e2,t4)):l&&!u?(e2._writableState&&e2._writableState.ended||(t4=new i),d.call(e2,t4)):void 0},m=function(){e2.req.on("finish",p)};return a(e2)?(e2.on("complete",p),e2.on("abort",h),e2.req?m():e2.on("request",m)):l&&!e2._writableState&&(e2.on("end",c),e2.on("close",c)),e2.on("end",g),e2.on("finish",p),t3.error!==!1&&e2.on("error",_),e2.on("close",h),function(){e2.removeListener("complete",p),e2.removeListener("abort",h),e2.removeListener("request",m),e2.req&&e2.req.removeListener("finish",p),e2.removeListener("end",c),e2.removeListener("close",c),e2.removeListener("finish",p),e2.removeListener("end",g),e2.removeListener("error",_),e2.removeListener("close",h)}}var i=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;t2.exports=o},{"../../../errors":15}],25:[function(e,t2){t2.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(e,t2){"use strict";function n2(e2){var t3=!1;return function(){t3||(t3=!0,e2.apply(void 0,arguments))}}function r2(e2){if(e2)throw e2}function a(e2){return e2.setHeader&&typeof e2.abort=="function"}function o(t3,r3,o2,i2){i2=n2(i2);var d2=!1;t3.on("close",function(){d2=!0}),l===void 0&&(l=e("./end-of-stream")),l(t3,{readable:r3,writable:o2},function(e2){return e2?i2(e2):(d2=!0,void i2())});var s2=!1;return function(e2){if(!d2)return s2?void 0:(s2=!0,a(t3)?t3.abort():typeof t3.destroy=="function"?t3.destroy():void i2(e2||new p("pipe")))}}function i(e2){e2()}function d(e2,t3){return e2.pipe(t3)}function s(e2){return e2.length&&typeof e2[e2.length-1]=="function"?e2.pop():r2}var l,c=e("../../../errors").codes,u=c.ERR_MISSING_ARGS,p=c.ERR_STREAM_DESTROYED;t2.exports=function(){for(var e2=arguments.length,t3=Array(e2),n3=0;n3<e2;n3++)t3[n3]=arguments[n3];var r3=s(t3);if(Array.isArray(t3[0])&&(t3=t3[0]),2>t3.length)throw new u("streams");var a2,l2=t3.map(function(e3,n4){var d2=n4<t3.length-1;return o(e3,d2,0<n4,function(e4){a2||(a2=e4),e4&&l2.forEach(i),d2||(l2.forEach(i),r3(a2))})});return t3.reduce(d)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(e,n2){"use strict";function r2(e2,t2,n3){return e2.highWaterMark==null?t2?e2[n3]:null:e2.highWaterMark}var a=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;n2.exports={getHighWaterMark:function(e2,n3,o,i){var d=r2(n3,i,o);if(d!=null){if(!(isFinite(d)&&t(d)===d)||0>d){var s=i?o:"highWaterMark";throw new a(s,d)}return t(d)}return e2.objectMode?16:16384}}},{"../../../errors":15}],28:[function(e,t2){t2.exports=e("events").EventEmitter},{events:7}],29:[function(e,t2,n2){n2=t2.exports=e("./lib/_stream_readable.js"),n2.Stream=n2,n2.Readable=n2,n2.Writable=e("./lib/_stream_writable.js"),n2.Duplex=e("./lib/_stream_duplex.js"),n2.Transform=e("./lib/_stream_transform.js"),n2.PassThrough=e("./lib/_stream_passthrough.js"),n2.finished=e("./lib/internal/streams/end-of-stream.js"),n2.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(e,t2,n2){function r2(e2,t3){for(var n3 in e2)t3[n3]=e2[n3]}function a(e2,t3,n3){return i(e2,t3,n3)}var o=e("buffer"),i=o.Buffer;i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t2.exports=o:(r2(o,n2),n2.Buffer=a),a.prototype=Object.create(i.prototype),r2(i,a),a.from=function(e2,t3,n3){if(typeof e2=="number")throw new TypeError("Argument must not be a number");return i(e2,t3,n3)},a.alloc=function(e2,t3,n3){if(typeof e2!="number")throw new TypeError("Argument must be a number");var r3=i(e2);return t3===void 0?r3.fill(0):typeof n3=="string"?r3.fill(t3,n3):r3.fill(t3),r3},a.allocUnsafe=function(e2){if(typeof e2!="number")throw new TypeError("Argument must be a number");return i(e2)},a.allocUnsafeSlow=function(e2){if(typeof e2!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(e2)}},{buffer:3}],31:[function(e,t2,n2){"use strict";function r2(e2){if(!e2)return"utf8";for(var t3;;)switch(e2){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e2;default:if(t3)return;e2=(""+e2).toLowerCase(),t3=!0}}function a(e2){var t3=r2(e2);if(typeof t3!="string"&&(m.isEncoding===b||!b(e2)))throw new Error("Unknown encoding: "+e2);return t3||e2}function o(e2){this.encoding=a(e2);var t3;switch(this.encoding){case"utf16le":this.text=u,this.end=p,t3=4;break;case"utf8":this.fillLast=c,t3=4;break;case"base64":this.text=f,this.end=g,t3=3;break;default:return this.write=_,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=m.allocUnsafe(t3)}function d(e2){return 127>=e2?0:e2>>5==6?2:e2>>4==14?3:e2>>3==30?4:e2>>6==2?-1:-2}function s(e2,t3,n3){var r3=t3.length-1;if(r3<n3)return 0;var a2=d(t3[r3]);return 0<=a2?(0<a2&&(e2.lastNeed=a2-1),a2):--r3<n3||a2===-2?0:(a2=d(t3[r3]),0<=a2?(0<a2&&(e2.lastNeed=a2-2),a2):--r3<n3||a2===-2?0:(a2=d(t3[r3]),0<=a2?(0<a2&&(a2===2?a2=0:e2.lastNeed=a2-3),a2):0))}function l(e2,t3){if((192&t3[0])!=128)return e2.lastNeed=0,"\uFFFD";if(1<e2.lastNeed&&1<t3.length){if((192&t3[1])!=128)return e2.lastNeed=1,"\uFFFD";if(2<e2.lastNeed&&2<t3.length&&(192&t3[2])!=128)return e2.lastNeed=2,"\uFFFD"}}function c(e2){var t3=this.lastTotal-this.lastNeed,n3=l(this,e2,t3);return n3===void 0?this.lastNeed<=e2.length?(e2.copy(this.lastChar,t3,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e2.copy(this.lastChar,t3,0,e2.length),void(this.lastNeed-=e2.length)):n3}function u(e2,t3){if((e2.length-t3)%2==0){var n3=e2.toString("utf16le",t3);if(n3){var r3=n3.charCodeAt(n3.length-1);if(55296<=r3&&56319>=r3)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e2[e2.length-2],this.lastChar[1]=e2[e2.length-1],n3.slice(0,-1)}return n3}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e2[e2.length-1],e2.toString("utf16le",t3,e2.length-1)}function p(e2){var t3=e2&&e2.length?this.write(e2):"";if(this.lastNeed){var n3=this.lastTotal-this.lastNeed;return t3+this.lastChar.toString("utf16le",0,n3)}return t3}function f(e2,t3){var r3=(e2.length-t3)%3;return r3==0?e2.toString("base64",t3):(this.lastNeed=3-r3,this.lastTotal=3,r3==1?this.lastChar[0]=e2[e2.length-1]:(this.lastChar[0]=e2[e2.length-2],this.lastChar[1]=e2[e2.length-1]),e2.toString("base64",t3,e2.length-r3))}function g(e2){var t3=e2&&e2.length?this.write(e2):"";return this.lastNeed?t3+this.lastChar.toString("base64",0,3-this.lastNeed):t3}function _(e2){return e2.toString(this.encoding)}function h(e2){return e2&&e2.length?this.write(e2):""}var m=e("safe-buffer").Buffer,b=m.isEncoding||function(e2){switch(e2=""+e2,e2&&e2.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};n2.StringDecoder=o,o.prototype.write=function(e2){if(e2.length===0)return"";var t3,n3;if(this.lastNeed){if(t3=this.fillLast(e2),t3===void 0)return"";n3=this.lastNeed,this.lastNeed=0}else n3=0;return n3<e2.length?t3?t3+this.text(e2,n3):this.text(e2,n3):t3||""},o.prototype.end=function(e2){var t3=e2&&e2.length?this.write(e2):"";return this.lastNeed?t3+"\uFFFD":t3},o.prototype.text=function(e2,t3){var n3=s(this,e2,t3);if(!this.lastNeed)return e2.toString("utf8",t3);this.lastTotal=n3;var r3=e2.length-(n3-this.lastNeed);return e2.copy(this.lastChar,0,r3),e2.toString("utf8",t3,r3)},o.prototype.fillLast=function(e2){return this.lastNeed<=e2.length?(e2.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e2.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e2.length),void(this.lastNeed-=e2.length))}},{"safe-buffer":30}],32:[function(e,t2){(function(e2){(function(){function n2(t3){try{if(!e2.localStorage)return!1}catch{return!1}var n3=e2.localStorage[t3];return n3!=null&&(n3+"").toLowerCase()==="true"}t2.exports=function(e3,t3){function r2(){if(!a){if(n2("throwDeprecation"))throw new Error(t3);n2("traceDeprecation")?console.trace(t3):console.warn(t3),a=!0}return e3.apply(this,arguments)}if(n2("noDeprecation"))return e3;var a=!1;return r2}}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{}],"/":[function(e,t2){function n2(e2){return e2.replace(/a=ice-options:trickle\s\n/g,"")}function r2(e2){console.warn(e2)}let a=e("debug")("simple-peer"),o=e("get-browser-rtc"),i=e("randombytes"),d=e("readable-stream"),s=e("queue-microtask"),l=e("err-code"),{Buffer:c}=e("buffer"),u=65536;class p extends d.Duplex{constructor(e2){if(e2=Object.assign({allowHalfOpen:!1},e2),super(e2),this._id=i(4).toString("hex").slice(0,7),this._debug("new peer %o",e2),this.channelName=e2.initiator?e2.channelName||i(20).toString("hex"):null,this.initiator=e2.initiator||!1,this.channelConfig=e2.channelConfig||p.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},p.config,e2.config),this.offerOptions=e2.offerOptions||{},this.answerOptions=e2.answerOptions||{},this.sdpTransform=e2.sdpTransform||(e3=>e3),this.streams=e2.streams||(e2.stream?[e2.stream]:[]),this.trickle=e2.trickle===void 0||e2.trickle,this.allowHalfTrickle=e2.allowHalfTrickle!==void 0&&e2.allowHalfTrickle,this.iceCompleteTimeout=e2.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e2.wrtc&&typeof e2.wrtc=="object"?e2.wrtc:o(),!this._wrtc)throw l(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(e3){return void this.destroy(l(e3,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=e3=>{this._onIceCandidate(e3)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(e3=>{this.destroy(l(e3,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=e3=>{this._setupData(e3)},this.streams&&this.streams.forEach(e3=>{this.addStream(e3)}),this._pc.ontrack=e3=>{this._onTrack(e3)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(e2){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof e2=="string")try{e2=JSON.parse(e2)}catch{e2={}}this._debug("signal()"),e2.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e2.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e2.transceiverRequest.kind,e2.transceiverRequest.init)),e2.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e2.candidate):this._pendingCandidates.push(e2.candidate)),e2.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e2)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(e3=>{this._addIceCandidate(e3)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(e3=>{this.destroy(l(e3,"ERR_SET_REMOTE_DESCRIPTION"))}),e2.sdp||e2.candidate||e2.renegotiate||e2.transceiverRequest||this.destroy(l(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(e2){let t3=new this._wrtc.RTCIceCandidate(e2);this._pc.addIceCandidate(t3).catch(e3=>{!t3.address||t3.address.endsWith(".local")?r2("Ignoring unsupported ICE candidate."):this.destroy(l(e3,"ERR_ADD_ICE_CANDIDATE"))})}send(e2){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(e2)}}addTransceiver(e2,t3){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e2,t3),this._needsNegotiation()}catch(e3){this.destroy(l(e3,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:e2,init:t3}})}}addStream(e2){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),e2.getTracks().forEach(t3=>{this.addTrack(t3,e2)})}}addTrack(e2,t3){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");let n3=this._senderMap.get(e2)||new Map,r3=n3.get(t3);if(!r3)r3=this._pc.addTrack(e2,t3),n3.set(t3,r3),this._senderMap.set(e2,n3),this._needsNegotiation();else throw r3.removed?l(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):l(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(e2,t3,n3){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");let r3=this._senderMap.get(e2),a2=r3?r3.get(n3):null;if(!a2)throw l(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");t3&&this._senderMap.set(t3,r3),a2.replaceTrack==null?this.destroy(l(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):a2.replaceTrack(t3)}removeTrack(e2,t3){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");let n3=this._senderMap.get(e2),r3=n3?n3.get(t3):null;if(!r3)throw l(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{r3.removed=!0,this._pc.removeTrack(r3)}catch(e3){e3.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(r3):this.destroy(l(e3,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(e2){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),e2.getTracks().forEach(t3=>{this.removeTrack(t3,e2)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,s(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(e2){this._destroy(e2,()=>{})}_destroy(e2,t3){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",e2&&(e2.message||e2)),s(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",e2&&(e2.message||e2)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,e2&&this.emit("error",e2),this.emit("close"),t3()}))}_setupData(e2){if(!e2.channel)return this.destroy(l(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e2.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=u),this.channelName=this._channel.label,this._channel.onmessage=e3=>{this._onChannelMessage(e3)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=e3=>{let t4=e3.error instanceof Error?e3.error:new Error(`Datachannel error: ${e3.message} ${e3.filename}:${e3.lineno}:${e3.colno}`);this.destroy(l(t4,"ERR_DATA_CHANNEL"))};let t3=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(t3&&this._onChannelClose(),t3=!0):t3=!1},5e3)}_read(){}_write(e2,t3,n3){if(this.destroyed)return n3(l(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e2)}catch(e3){return this.destroy(l(e3,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>u?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n3):n3(null)}else this._debug("write before connect"),this._chunk=e2,this._cb=n3}_onFinish(){if(!this.destroyed){let e2=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?e2():this.once("connect",e2)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(e2=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e2.sdp=n2(e2.sdp)),e2.sdp=this.sdpTransform(e2.sdp);let t3=()=>{if(!this.destroyed){let t4=this._pc.localDescription||e2;this._debug("signal"),this.emit("signal",{type:t4.type,sdp:t4.sdp})}};this._pc.setLocalDescription(e2).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?t3():this.once("_iceComplete",t3))}).catch(e3=>{this.destroy(l(e3,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(e2=>{this.destroy(l(e2,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(e2=>{e2.mid||!e2.sender.track||e2.requested||(e2.requested=!0,this.addTransceiver(e2.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(e2=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e2.sdp=n2(e2.sdp)),e2.sdp=this.sdpTransform(e2.sdp);let t3=()=>{if(!this.destroyed){let t4=this._pc.localDescription||e2;this._debug("signal"),this.emit("signal",{type:t4.type,sdp:t4.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(e2).then(()=>{this.destroyed||(this.trickle||this._iceComplete?t3():this.once("_iceComplete",t3))}).catch(e3=>{this.destroy(l(e3,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(e2=>{this.destroy(l(e2,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(l(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;let e2=this._pc.iceConnectionState,t3=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e2,t3),this.emit("iceStateChange",e2,t3),(e2==="connected"||e2==="completed")&&(this._pcReady=!0,this._maybeReady()),e2==="failed"&&this.destroy(l(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),e2==="closed"&&this.destroy(l(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(e2){let t3=e3=>(Object.prototype.toString.call(e3.values)==="[object Array]"&&e3.values.forEach(t4=>{Object.assign(e3,t4)}),e3);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(n3=>{let r3=[];n3.forEach(e3=>{r3.push(t3(e3))}),e2(null,r3)},t4=>e2(t4)):0<this._pc.getStats.length?this._pc.getStats(n3=>{if(this.destroyed)return;let r3=[];n3.result().forEach(e3=>{let n4={};e3.names().forEach(t4=>{n4[t4]=e3.stat(t4)}),n4.id=e3.id,n4.type=e3.type,n4.timestamp=e3.timestamp,r3.push(t3(n4))}),e2(null,r3)},t4=>e2(t4)):e2(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;let e2=()=>{this.destroyed||this.getStats((t3,n3)=>{if(this.destroyed)return;t3&&(n3=[]);let r3={},a2={},o2={},i2=!1;n3.forEach(e3=>{(e3.type==="remotecandidate"||e3.type==="remote-candidate")&&(r3[e3.id]=e3),(e3.type==="localcandidate"||e3.type==="local-candidate")&&(a2[e3.id]=e3),(e3.type==="candidatepair"||e3.type==="candidate-pair")&&(o2[e3.id]=e3)});let d2=e3=>{i2=!0;let t4=a2[e3.localCandidateId];t4&&(t4.ip||t4.address)?(this.localAddress=t4.ip||t4.address,this.localPort=+t4.port):t4&&t4.ipAddress?(this.localAddress=t4.ipAddress,this.localPort=+t4.portNumber):typeof e3.googLocalAddress=="string"&&(t4=e3.googLocalAddress.split(":"),this.localAddress=t4[0],this.localPort=+t4[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let n4=r3[e3.remoteCandidateId];n4&&(n4.ip||n4.address)?(this.remoteAddress=n4.ip||n4.address,this.remotePort=+n4.port):n4&&n4.ipAddress?(this.remoteAddress=n4.ipAddress,this.remotePort=+n4.portNumber):typeof e3.googRemoteAddress=="string"&&(n4=e3.googRemoteAddress.split(":"),this.remoteAddress=n4[0],this.remotePort=+n4[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(n3.forEach(e3=>{e3.type==="transport"&&e3.selectedCandidatePairId&&d2(o2[e3.selectedCandidatePairId]),(e3.type==="googCandidatePair"&&e3.googActiveConnection==="true"||(e3.type==="candidatepair"||e3.type==="candidate-pair")&&e3.selected)&&d2(e3)}),!i2&&(!Object.keys(o2).length||Object.keys(a2).length))return void setTimeout(e2,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(e4){return this.destroy(l(e4,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');let e3=this._cb;this._cb=null,e3(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};e2()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>u)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(e2=>{this._pc.removeTrack(e2),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e2){this.destroyed||(e2.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:e2.candidate.candidate,sdpMLineIndex:e2.candidate.sdpMLineIndex,sdpMid:e2.candidate.sdpMid}}):!e2.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),e2.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(e2){if(this.destroyed)return;let t3=e2.data;t3 instanceof ArrayBuffer&&(t3=c.from(t3)),this.push(t3)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);let e2=this._cb;this._cb=null,e2(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e2){this.destroyed||e2.streams.forEach(t3=>{this._debug("on track"),this.emit("track",e2.track,t3),this._remoteTracks.push({track:e2.track,stream:t3}),this._remoteStreams.some(e3=>e3.id===t3.id)||(this._remoteStreams.push(t3),s(()=>{this._debug("on stream"),this.emit("stream",t3)}))})}_debug(){let e2=[].slice.call(arguments);e2[0]="["+this._id+"] "+e2[0],a.apply(null,e2)}}p.WEBRTC_SUPPORT=!!o(),p.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},p.channelConfig={},t2.exports=p},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")})}});var messageYjsSyncStep1,messageYjsSyncStep2,messageYjsUpdate,writeSyncStep1,writeSyncStep2,readSyncStep1,readSyncStep2,writeUpdate,readUpdate2,readSyncMessage,init_sync=__esm({"node_modules/y-protocols/sync.js"(){init_encoding();init_decoding();init_yjs();messageYjsSyncStep1=0,messageYjsSyncStep2=1,messageYjsUpdate=2,writeSyncStep1=(encoder,doc2)=>{writeVarUint(encoder,messageYjsSyncStep1);let sv=encodeStateVector(doc2);writeVarUint8Array(encoder,sv)},writeSyncStep2=(encoder,doc2,encodedStateVector)=>{writeVarUint(encoder,messageYjsSyncStep2),writeVarUint8Array(encoder,encodeStateAsUpdate(doc2,encodedStateVector))},readSyncStep1=(decoder,encoder,doc2)=>writeSyncStep2(encoder,doc2,readVarUint8Array(decoder)),readSyncStep2=(decoder,doc2,transactionOrigin)=>{try{applyUpdate(doc2,readVarUint8Array(decoder),transactionOrigin)}catch(error){console.error("Caught error while handling a Yjs update",error)}},writeUpdate=(encoder,update)=>{writeVarUint(encoder,messageYjsUpdate),writeVarUint8Array(encoder,update)},readUpdate2=readSyncStep2,readSyncMessage=(decoder,encoder,doc2,transactionOrigin)=>{let messageType=readVarUint(decoder);switch(messageType){case messageYjsSyncStep1:readSyncStep1(decoder,encoder,doc2);break;case messageYjsSyncStep2:readSyncStep2(decoder,doc2,transactionOrigin);break;case messageYjsUpdate:readUpdate2(decoder,doc2,transactionOrigin);break;default:throw new Error("Unknown message type")}return messageType}}});var deriveKey,encrypt,encryptJson,decrypt,decryptJson,init_crypto=__esm({"node_modules/y-webrtc/src/crypto.js"(){init_encoding();init_decoding();init_promise();init_error();init_string();deriveKey=(secret,roomName)=>{let secretBuffer=encodeUtf8(secret).buffer,salt=encodeUtf8(roomName).buffer;return crypto.subtle.importKey("raw",secretBuffer,"PBKDF2",!1,["deriveKey"]).then(keyMaterial=>crypto.subtle.deriveKey({name:"PBKDF2",salt,iterations:1e5,hash:"SHA-256"},keyMaterial,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]))},encrypt=(data,key)=>{if(!key)return resolve(data);let iv=crypto.getRandomValues(new Uint8Array(12));return crypto.subtle.encrypt({name:"AES-GCM",iv},key,data).then(cipher=>{let encryptedDataEncoder=createEncoder();return writeVarString(encryptedDataEncoder,"AES-GCM"),writeVarUint8Array(encryptedDataEncoder,iv),writeVarUint8Array(encryptedDataEncoder,new Uint8Array(cipher)),toUint8Array(encryptedDataEncoder)})},encryptJson=(data,key)=>{let dataEncoder=createEncoder();return writeAny(dataEncoder,data),encrypt(toUint8Array(dataEncoder),key)},decrypt=(data,key)=>{if(!key)return resolve(data);let dataDecoder=createDecoder(data);readVarString(dataDecoder)!=="AES-GCM"&&reject(create2("Unknown encryption algorithm"));let iv=readVarUint8Array(dataDecoder),cipher=readVarUint8Array(dataDecoder);return crypto.subtle.decrypt({name:"AES-GCM",iv},key,cipher).then(data2=>new Uint8Array(data2))},decryptJson=(data,key)=>decrypt(data,key).then(decryptedValue=>readAny(createDecoder(new Uint8Array(decryptedValue))))}});var y_webrtc_exports={};__export(y_webrtc_exports,{Room:()=>Room,SignalingConn:()=>SignalingConn,WebrtcConn:()=>WebrtcConn,WebrtcProvider:()=>WebrtcProvider});var import_simplepeer_min,log,messageSync,messageQueryAwareness,messageAwareness,messageBcPeerId,signalingConns,rooms,checkIsSynced,readMessage,readPeerMessage,sendWebrtcConn,broadcastWebrtcConn,WebrtcConn,broadcastBcMessage,broadcastRoomMessage,announceSignalingInfo,broadcastBcPeerId,Room,openRoom,publishSignalingMessage,SignalingConn,emitStatus,WebrtcProvider,init_y_webrtc=__esm({"node_modules/y-webrtc/src/y-webrtc.js"(){init_websocket();init_map();init_error();init_random();init_encoding();init_decoding();init_observable();init_logging();init_promise();init_broadcastchannel();init_buffer();init_math();init_mutex();import_simplepeer_min=__toESM(require_simplepeer_min(),1);init_sync();init_awareness();init_crypto();log=createModuleLogger2("y-webrtc"),messageSync=0,messageQueryAwareness=3,messageAwareness=1,messageBcPeerId=4,signalingConns=new Map,rooms=new Map,checkIsSynced=room=>{let synced=!0;room.webrtcConns.forEach(peer=>{peer.synced||(synced=!1)}),(!synced&&room.synced||synced&&!room.synced)&&(room.synced=synced,room.provider.emit("synced",[{synced}]),log("synced ",BOLD,room.name,UNBOLD," with all peers"))},readMessage=(room,buf,syncedCallback)=>{let decoder=createDecoder(buf),encoder=createEncoder(),messageType=readVarUint(decoder);if(room===void 0)return null;let awareness=room.awareness,doc2=room.doc,sendReply=!1;switch(messageType){case messageSync:{writeVarUint(encoder,messageSync);let syncMessageType=readSyncMessage(decoder,encoder,doc2,room);syncMessageType===messageYjsSyncStep2&&!room.synced&&syncedCallback(),syncMessageType===messageYjsSyncStep1&&(sendReply=!0);break}case messageQueryAwareness:writeVarUint(encoder,messageAwareness),writeVarUint8Array(encoder,encodeAwarenessUpdate(awareness,Array.from(awareness.getStates().keys()))),sendReply=!0;break;case messageAwareness:applyAwarenessUpdate(awareness,readVarUint8Array(decoder),room);break;case messageBcPeerId:{let add=readUint8(decoder)===1,peerName=readVarString(decoder);if(peerName!==room.peerId&&(room.bcConns.has(peerName)&&!add||!room.bcConns.has(peerName)&&add)){let removed=[],added=[];add?(room.bcConns.add(peerName),added.push(peerName)):(room.bcConns.delete(peerName),removed.push(peerName)),room.provider.emit("peers",[{added,removed,webrtcPeers:Array.from(room.webrtcConns.keys()),bcPeers:Array.from(room.bcConns)}]),broadcastBcPeerId(room)}break}default:return console.error("Unable to compute message"),encoder}return sendReply?encoder:null},readPeerMessage=(peerConn,buf)=>{let room=peerConn.room;return log("received message from ",BOLD,peerConn.remotePeerId,GREY," (",room.name,")",UNBOLD,UNCOLOR),readMessage(room,buf,()=>{peerConn.synced=!0,log("synced ",BOLD,room.name,UNBOLD," with ",BOLD,peerConn.remotePeerId),checkIsSynced(room)})},sendWebrtcConn=(webrtcConn,encoder)=>{log("send message to ",BOLD,webrtcConn.remotePeerId,UNBOLD,GREY," (",webrtcConn.room.name,")",UNCOLOR);try{webrtcConn.peer.send(toUint8Array(encoder))}catch{}},broadcastWebrtcConn=(room,m)=>{log("broadcast message in ",BOLD,room.name,UNBOLD),room.webrtcConns.forEach(conn=>{try{conn.peer.send(m)}catch{}})},WebrtcConn=class{constructor(signalingConn,initiator,remotePeerId,room){log("establishing connection to ",BOLD,remotePeerId),this.room=room,this.remotePeerId=remotePeerId,this.glareToken=void 0,this.closed=!1,this.connected=!1,this.synced=!1,this.peer=new import_simplepeer_min.default({initiator,...room.provider.peerOpts}),this.peer.on("signal",signal=>{this.glareToken===void 0&&(this.glareToken=Date.now()+Math.random()),publishSignalingMessage(signalingConn,room,{to:remotePeerId,from:room.peerId,type:"signal",token:this.glareToken,signal})}),this.peer.on("connect",()=>{log("connected to ",BOLD,remotePeerId),this.connected=!0;let doc2=room.provider.doc,awareness=room.awareness,encoder=createEncoder();writeVarUint(encoder,messageSync),writeSyncStep1(encoder,doc2),sendWebrtcConn(this,encoder);let awarenessStates=awareness.getStates();if(awarenessStates.size>0){let encoder2=createEncoder();writeVarUint(encoder2,messageAwareness),writeVarUint8Array(encoder2,encodeAwarenessUpdate(awareness,Array.from(awarenessStates.keys()))),sendWebrtcConn(this,encoder2)}}),this.peer.on("close",()=>{this.connected=!1,this.closed=!0,room.webrtcConns.has(this.remotePeerId)&&(room.webrtcConns.delete(this.remotePeerId),room.provider.emit("peers",[{removed:[this.remotePeerId],added:[],webrtcPeers:Array.from(room.webrtcConns.keys()),bcPeers:Array.from(room.bcConns)}])),checkIsSynced(room),this.peer.destroy(),log("closed connection to ",BOLD,remotePeerId),announceSignalingInfo(room)}),this.peer.on("error",err=>{log("Error in connection to ",BOLD,remotePeerId,": ",err),announceSignalingInfo(room)}),this.peer.on("data",data=>{let answer=readPeerMessage(this,data);answer!==null&&sendWebrtcConn(this,answer)})}destroy(){this.peer.destroy()}},broadcastBcMessage=(room,m)=>encrypt(m,room.key).then(data=>room.mux(()=>publish(room.name,data))),broadcastRoomMessage=(room,m)=>{room.bcconnected&&broadcastBcMessage(room,m),broadcastWebrtcConn(room,m)},announceSignalingInfo=room=>{signalingConns.forEach(conn=>{conn.connected&&(conn.send({type:"subscribe",topics:[room.name]}),room.webrtcConns.size<room.provider.maxConns&&publishSignalingMessage(conn,room,{type:"announce",from:room.peerId}))})},broadcastBcPeerId=room=>{if(room.provider.filterBcConns){let encoderPeerIdBc=createEncoder();writeVarUint(encoderPeerIdBc,messageBcPeerId),writeUint8(encoderPeerIdBc,1),writeVarString(encoderPeerIdBc,room.peerId),broadcastBcMessage(room,toUint8Array(encoderPeerIdBc))}},Room=class{constructor(doc2,provider,name,key){this.peerId=uuidv4(),this.doc=doc2,this.awareness=provider.awareness,this.provider=provider,this.synced=!1,this.name=name,this.key=key,this.webrtcConns=new Map,this.bcConns=new Set,this.mux=createMutex(),this.bcconnected=!1,this._bcSubscriber=data=>decrypt(new Uint8Array(data),key).then(m=>this.mux(()=>{let reply=readMessage(this,m,()=>{});reply&&broadcastBcMessage(this,toUint8Array(reply))})),this._docUpdateHandler=(update,_origin)=>{let encoder=createEncoder();writeVarUint(encoder,messageSync),writeUpdate(encoder,update),broadcastRoomMessage(this,toUint8Array(encoder))},this._awarenessUpdateHandler=({added,updated,removed},_origin)=>{let changedClients=added.concat(updated).concat(removed),encoderAwareness=createEncoder();writeVarUint(encoderAwareness,messageAwareness),writeVarUint8Array(encoderAwareness,encodeAwarenessUpdate(this.awareness,changedClients)),broadcastRoomMessage(this,toUint8Array(encoderAwareness))},this._beforeUnloadHandler=()=>{removeAwarenessStates(this.awareness,[doc2.clientID],"window unload"),rooms.forEach(room=>{room.disconnect()})},typeof window<"u"?window.addEventListener("beforeunload",this._beforeUnloadHandler):typeof process<"u"&&process.on("exit",this._beforeUnloadHandler)}connect(){this.doc.on("update",this._docUpdateHandler),this.awareness.on("update",this._awarenessUpdateHandler),announceSignalingInfo(this);let roomName=this.name;subscribe(roomName,this._bcSubscriber),this.bcconnected=!0,broadcastBcPeerId(this);let encoderSync=createEncoder();writeVarUint(encoderSync,messageSync),writeSyncStep1(encoderSync,this.doc),broadcastBcMessage(this,toUint8Array(encoderSync));let encoderState=createEncoder();writeVarUint(encoderState,messageSync),writeSyncStep2(encoderState,this.doc),broadcastBcMessage(this,toUint8Array(encoderState));let encoderAwarenessQuery=createEncoder();writeVarUint(encoderAwarenessQuery,messageQueryAwareness),broadcastBcMessage(this,toUint8Array(encoderAwarenessQuery));let encoderAwarenessState=createEncoder();writeVarUint(encoderAwarenessState,messageAwareness),writeVarUint8Array(encoderAwarenessState,encodeAwarenessUpdate(this.awareness,[this.doc.clientID])),broadcastBcMessage(this,toUint8Array(encoderAwarenessState))}disconnect(){signalingConns.forEach(conn=>{conn.connected&&conn.send({type:"unsubscribe",topics:[this.name]})}),removeAwarenessStates(this.awareness,[this.doc.clientID],"disconnect");let encoderPeerIdBc=createEncoder();writeVarUint(encoderPeerIdBc,messageBcPeerId),writeUint8(encoderPeerIdBc,0),writeVarString(encoderPeerIdBc,this.peerId),broadcastBcMessage(this,toUint8Array(encoderPeerIdBc)),unsubscribe(this.name,this._bcSubscriber),this.bcconnected=!1,this.doc.off("update",this._docUpdateHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.webrtcConns.forEach(conn=>conn.destroy())}destroy(){this.disconnect(),typeof window<"u"?window.removeEventListener("beforeunload",this._beforeUnloadHandler):typeof process<"u"&&process.off("exit",this._beforeUnloadHandler)}},openRoom=(doc2,provider,name,key)=>{if(rooms.has(name))throw create2(`A Yjs Doc connected to room "${name}" already exists!`);let room=new Room(doc2,provider,name,key);return rooms.set(name,room),room},publishSignalingMessage=(conn,room,data)=>{room.key?encryptJson(data,room.key).then(data2=>{conn.send({type:"publish",topic:room.name,data:toBase64(data2)})}):conn.send({type:"publish",topic:room.name,data})},SignalingConn=class extends WebsocketClient{constructor(url){super(url),this.providers=new Set,this.on("connect",()=>{log(`connected (${url})`);let topics=Array.from(rooms.keys());this.send({type:"subscribe",topics}),rooms.forEach(room=>publishSignalingMessage(this,room,{type:"announce",from:room.peerId}))}),this.on("message",m=>{switch(m.type){case"publish":{let roomName=m.topic,room=rooms.get(roomName);if(room==null||typeof roomName!="string")return;let execMessage=data=>{let webrtcConns=room.webrtcConns,peerId=room.peerId;if(data==null||data.from===peerId||data.to!==void 0&&data.to!==peerId||room.bcConns.has(data.from))return;let emitPeerChange=webrtcConns.has(data.from)?()=>{}:()=>room.provider.emit("peers",[{removed:[],added:[data.from],webrtcPeers:Array.from(room.webrtcConns.keys()),bcPeers:Array.from(room.bcConns)}]);switch(data.type){case"announce":webrtcConns.size<room.provider.maxConns&&(setIfUndefined(webrtcConns,data.from,()=>new WebrtcConn(this,!0,data.from,room)),emitPeerChange());break;case"signal":if(data.signal.type==="offer"){let existingConn=webrtcConns.get(data.from);if(existingConn){let remoteToken=data.token,localToken=existingConn.glareToken;if(localToken&&localToken>remoteToken){log("offer rejected: ",data.from);return}existingConn.glareToken=void 0}}if(data.signal.type==="answer"){log("offer answered by: ",data.from);let existingConn=webrtcConns.get(data.from);existingConn.glareToken=void 0}data.to===peerId&&(setIfUndefined(webrtcConns,data.from,()=>new WebrtcConn(this,!1,data.from,room)).peer.signal(data.signal),emitPeerChange());break}};room.key?typeof m.data=="string"&&decryptJson(fromBase64(m.data),room.key).then(execMessage):execMessage(m.data)}}}),this.on("disconnect",()=>log(`disconnect (${url})`))}},emitStatus=provider=>{provider.emit("status",[{connected:provider.connected}])},WebrtcProvider=class extends ObservableV2{constructor(roomName,doc2,{signaling=["wss://y-webrtc-eu.fly.dev"],password=null,awareness=new Awareness(doc2),maxConns=20+floor(rand()*15),filterBcConns=!0,peerOpts={}}={}){super(),this.roomName=roomName,this.doc=doc2,this.filterBcConns=filterBcConns,this.awareness=awareness,this.shouldConnect=!1,this.signalingUrls=signaling,this.signalingConns=[],this.maxConns=maxConns,this.peerOpts=peerOpts,this.key=password?deriveKey(password,roomName):resolve(null),this.room=null,this.key.then(key=>{this.room=openRoom(doc2,this,roomName,key),this.shouldConnect?this.room.connect():this.room.disconnect(),emitStatus(this)}),this.connect(),this.destroy=this.destroy.bind(this),doc2.on("destroy",this.destroy)}get connected(){return this.room!==null&&this.shouldConnect}connect(){this.shouldConnect=!0,this.signalingUrls.forEach(url=>{let signalingConn=setIfUndefined(signalingConns,url,()=>new SignalingConn(url));this.signalingConns.push(signalingConn),signalingConn.providers.add(this)}),this.room&&(this.room.connect(),emitStatus(this))}disconnect(){this.shouldConnect=!1,this.signalingConns.forEach(conn=>{conn.providers.delete(this),conn.providers.size===0&&(conn.destroy(),signalingConns.delete(conn.url))}),this.room&&(this.room.disconnect(),emitStatus(this))}destroy(){this.doc.off("destroy",this.destroy),this.key.then(()=>{this.room.destroy(),rooms.delete(this.roomName)}),super.destroy()}}}});var y_quill_exports={};__export(y_quill_exports,{QuillBinding:()=>QuillBinding,normQuillDelta:()=>normQuillDelta});var normQuillDelta,updateCursor,QuillBinding,init_y_quill=__esm({"node_modules/y-quill/src/y-quill.js"(){init_yjs();normQuillDelta=delta=>{if(delta.length>0){let d=delta[delta.length-1],insert=d.insert;if(d.attributes===void 0&&insert!==void 0&&insert.slice(-1)===`
`){delta=delta.slice();let ins=insert.slice(0,-1);for(;ins.slice(-1)===`
`;)ins=ins.slice(0,-1);return delta[delta.length-1]={insert:ins},ins.length===0&&delta.pop(),delta}}return delta},updateCursor=(quillCursors,aw,clientId,doc2,type)=>{try{if(aw&&aw.cursor&&clientId!==doc2.clientID){let user=aw.user||{},color=user.color||"#ffa500",name=user.name||`User: ${clientId}`;quillCursors.createCursor(clientId.toString(),name,color);let anchor=createAbsolutePositionFromRelativePosition(createRelativePositionFromJSON(aw.cursor.anchor),doc2),head=createAbsolutePositionFromRelativePosition(createRelativePositionFromJSON(aw.cursor.head),doc2);anchor&&head&&anchor.type===type&&quillCursors.moveCursor(clientId.toString(),{index:anchor.index,length:head.index-anchor.index})}else quillCursors.removeCursor(clientId.toString())}catch(err){console.error(err)}},QuillBinding=class{constructor(type,quill,awareness){let doc2=type.doc;this.type=type,this.doc=doc2,this.quill=quill;let quillCursors=quill.getModule("cursors")||null;this.quillCursors=quillCursors,this._negatedUsedFormats={},this.awareness=awareness,this._awarenessChange=({added,removed,updated})=>{let states=awareness.getStates();added.forEach(id2=>{updateCursor(quillCursors,states.get(id2),id2,doc2,type)}),updated.forEach(id2=>{updateCursor(quillCursors,states.get(id2),id2,doc2,type)}),removed.forEach(id2=>{quillCursors.removeCursor(id2.toString())})},this._typeObserver=event=>{if(event.transaction.origin!==this){let eventDelta=event.delta,delta=[];for(let i=0;i<eventDelta.length;i++){let d=eventDelta[i];d.insert!==void 0?delta.push(Object.assign({},d,{attributes:Object.assign({},this._negatedUsedFormats,d.attributes||{})})):delta.push(d)}quill.updateContents(delta,this)}},type.observe(this._typeObserver),this._quillObserver=(eventType,delta,state,origin)=>{if(delta&&delta.ops){let ops=delta.ops;ops.forEach(op=>{if(op.attributes!==void 0)for(let key in op.attributes)this._negatedUsedFormats[key]===void 0&&(this._negatedUsedFormats[key]=!1)}),origin!==this&&doc2.transact(()=>{type.applyDelta(ops)},this)}if(awareness&&quillCursors){let sel=quill.getSelection(),aw=awareness.getLocalState();if(sel===null)awareness.getLocalState()!==null&&awareness.setLocalStateField("cursor",null);else{let anchor=createRelativePositionFromTypeIndex(type,sel.index),head=createRelativePositionFromTypeIndex(type,sel.index+sel.length);(!aw||!aw.cursor||!compareRelativePositions(anchor,aw.cursor.anchor)||!compareRelativePositions(head,aw.cursor.head))&&awareness.setLocalStateField("cursor",{anchor,head})}awareness.getStates().forEach((aw2,clientId)=>{updateCursor(quillCursors,aw2,clientId,doc2,type)})}},quill.on("editor-change",this._quillObserver),quill.setContents(type.toDelta(),this),quillCursors!==null&&awareness&&(awareness.getStates().forEach((aw,clientId)=>{updateCursor(quillCursors,aw,clientId,doc2,type)}),awareness.on("change",this._awarenessChange))}destroy(){this.type.unobserve(this._typeObserver),this.quill.off("editor-change",this._quillObserver),this.awareness&&this.awareness.off("change",this._awarenessChange)}}}});(function(a){typeof globalThis!="object"&&(this?b():(a.defineProperty(a.prototype,"_T_",{configurable:!0,get:b}),_T_));function b(){var b2=this||self;b2.globalThis=b2,delete a.prototype._T_}})(Object);(function(a){require_quill_core(),require_quill_bubble(),require_quill_snow()})(globalThis);(function(c){"use strict";var v=3850876,af="0",aH=" ",gy="compare: functional value",gf="mkdir",lh="synced",cM=1e3,k5="delete",Y="vendor/lwd/lib/lwd/lwd_seq.pp.ml",kB="@[",kO="console",lp="window",aZ="int_of_string",kq="%u",lo="/static/",gi="node:fs",k4="%i",ly="%ni",aK=255,ge=749039939,kA="Assert_failure",kp="camlinternalMod.ml",aI=737455525,k3="0x",ko=32752,lx=218,k2=57343,kn="End_of_file",ln="OCAMLRUNPARAM",k1=": closedir failed",lw="Out_of_memory",kz=553,k0="Not_found",gB="Failure",d5="Unix.Unix_error",kZ="style",d4=244,lg="^",b4="text",kN="length",lf="green",gu="ENOTDIR",ky="Lwd_seq.rank: node is marked",bz=936573133,kY="%Li",j9="Invalid_argument",kX="flex",d3=254,b5="+",dX="Set.bal",lv=", characters ",aG=16777215,km=858694086,kx=120,kw=1027,cI=1024,d0="Map.bal",dW=246,le="Pervasives.do_at_exit",lm=389604418,kl=65536,j8="submit",B="vendor/brr_lwd_ui/examples/yjs/main.ml",U=16620,gt=15,dU=512,gb=-588596599,kW=", ",kM="closedir",lu="Match_failure",j6="%li",j7=1026,j5=157,j4="b",f_="nan",e="",f9="rmdir",gd="Fatal error: exception ",kk="infinity",L="camlinternalFormat.ml",lc=571,ld="fd ",kK="append",kL=": ",j3=174,r=248,kj="em",ki="data",kJ=224,aJ=24029,lb=240,kh="Sys_error",at=128,gs="vendor/brr_lwd_ui/bindings/yjs/doc.ml",ll="ENOTEMPTY",lt="EEXIST",gx=1255,kV="checkbox",dT="value",kI="px",gl=" : flags Open_text and Open_binary are not compatible",gr="e",kv="Stack_overflow",gk=": Not a directory",gq="ENOENT",ga=-605101559,T=15681,kH="Undefined_recursive_module",la="Array",kG=2147483647,k$=544,aA=32768,dV="table",cL="string",kg=2048,lk=-48,j2=" : is a directory",kf="@{",kU="error",k_="Division_by_zero",j1="classList",bd=".",ke=`(Program not linked with -g, cannot print stack backtrace)
`,be=63,bx="name",lj="red",bc=737456202,f$=" : file already exists",bv=128,cN=": No such file or directory",kd="vendor/lwd/lib/brr-lwd/elwd.ml",k9=255,dS="lwd-to-remove",cJ=256,dR="checked",kc="id",cK=-976970511,gp=100,f8="index out of bounds",li=-937474657,aY="/",kF="height: ",gj=504440814,d2=252,f7="%d",kT="lwdui-virtual-table-row",kR="bold",kS=": file descriptor already closed",bw="-",f6="EBADF",kb="changes",aX=951901561,ka=102,go=-97,ls="Printexc.handle_uncaught_exception",kQ=12520,gA=" : flags Open_rdonly and Open_wronly are not compatible",a="vendor/lwd/lib/lwd/lwd_table.ml",kE=499,gw=756711075,ku=`Fatal error: exception %s
`,gn=4100401,lr="class",j0="\xE2\x9D\x8C",cH=250,j$=199,dZ="bool",gh=82908052,gz="kind",by=611392745,gm="cell",kD=">",k8="([^/]+)",kt="input",gc="jsError",jZ=103,gg=127,d1='"',aB=65535,gv=737308346,j_="documentElement",kC="Sys_blocked_io",kP=56320,b="vendor/lwd/lib/lwd/lwd.ml",ks="not implemented",k7="Form submitted:",lq="_",f5="target",kr="rem",dY="_bigarr02",k6=-101336657;function AO(a10,b10,c10,d10,e10){if(d10<=b10)for(var f10=1;f10<=e10;f10++)c10[d10+f10]=a10[b10+f10];else for(var f10=e10;f10>=1;f10--)c10[d10+f10]=a10[b10+f10];return 0}function AQ(a10,b10,c10){var d10=new Array(c10+1);d10[0]=0;for(var e10=1,f10=b10+1;e10<=c10;e10++,f10++)d10[e10]=a10[f10];return d10}function gC(a10,b10,c10){return a10[1]===b10?(a10[1]=c10,1):0}function AR(a10,b10){var c10=a10[1];return a10[1]+=b10,c10}function gD(a10){return a10[1]}var me={};function mf(a10){if(me[a10])return me[a10];var b10=c.process;if(b10&&b10.env&&b10.env[a10]!==void 0)return b10.env[a10];if(c.jsoo_env&&typeof c.jsoo_env[a10]=="string")return c.jsoo_env[a10]}var eh=0;(function(){var c10=mf(ln);if(c10!==void 0)for(var b10=c10.split(","),a10=0;a10<b10.length;a10++)if(b10[a10]===j4){eh=1;break}else if(b10[a10].startsWith("b="))eh=+b10[a10].slice(2);else continue})();var BO=eh,O=[0];function A4(a10,b10){return(!a10.js_error||b10||a10[0]===r)&&(a10.js_error=new c.Error("Js exception containing backtrace")),a10}function g(a10,b10){return eh&&BO?A4(a10,b10):a10}function BN(a10,b10){throw g([0,a10,b10])}function aq(a10){return a10}function gW(a10,b10){BN(a10,b10)}function G(a10){gW(O.Invalid_argument,a10)}function lD(a10){switch(a10){case 7:case 10:case 11:return 2;default:return 1}}function lB(a10,b10){var c10;switch(a10){case 0:c10=Float32Array;break;case 1:c10=Float64Array;break;case 2:c10=Int8Array;break;case 3:c10=Uint8Array;break;case 4:c10=Int16Array;break;case 5:c10=Uint16Array;break;case 6:c10=Int32Array;break;case 7:c10=Int32Array;break;case 8:c10=Int32Array;break;case 9:c10=Int32Array;break;case 10:c10=Float32Array;break;case 11:c10=Float64Array;break;case 12:c10=Uint8Array;break}c10||G("Bigarray.create: unsupported kind");var d10=new c10(b10*lD(a10));return d10}function d7(a10){for(var d10=a10.length,c10=1,b10=0;b10<d10;b10++)a10[b10]<0&&G("Bigarray.create: negative dimension"),c10=c10*a10[b10];return c10}var lT=Math.pow(2,-24);function l7(a10){throw a10}function l9(){l7(O.Division_by_zero)}function d(a10,b10,c10){this.lo=a10&aG,this.mi=b10&aG,this.hi=c10&aB}d.prototype.caml_custom="_j",d.prototype.copy=function(){return new d(this.lo,this.mi,this.hi)},d.prototype.ucompare=function(a10){return this.hi>a10.hi?1:this.hi<a10.hi?-1:this.mi>a10.mi?1:this.mi<a10.mi?-1:this.lo>a10.lo?1:this.lo<a10.lo?-1:0},d.prototype.compare=function(a10){var b10=this.hi<<16,c10=a10.hi<<16;return b10>c10?1:b10<c10?-1:this.mi>a10.mi?1:this.mi<a10.mi?-1:this.lo>a10.lo?1:this.lo<a10.lo?-1:0},d.prototype.neg=function(){var a10=-this.lo,b10=-this.mi+(a10>>24),c10=-this.hi+(b10>>24);return new d(a10,b10,c10)},d.prototype.add=function(a10){var b10=this.lo+a10.lo,c10=this.mi+a10.mi+(b10>>24),e10=this.hi+a10.hi+(c10>>24);return new d(b10,c10,e10)},d.prototype.sub=function(a10){var b10=this.lo-a10.lo,c10=this.mi-a10.mi+(b10>>24),e10=this.hi-a10.hi+(c10>>24);return new d(b10,c10,e10)},d.prototype.mul=function(a10){var b10=this.lo*a10.lo,c10=(b10*lT|0)+this.mi*a10.lo+this.lo*a10.mi,e10=(c10*lT|0)+this.hi*a10.lo+this.mi*a10.mi+this.lo*a10.hi;return new d(b10,c10,e10)},d.prototype.isZero=function(){return(this.lo|this.mi|this.hi)===0},d.prototype.isNeg=function(){return this.hi<<16<0},d.prototype.and=function(a10){return new d(this.lo&a10.lo,this.mi&a10.mi,this.hi&a10.hi)},d.prototype.or=function(a10){return new d(this.lo|a10.lo,this.mi|a10.mi,this.hi|a10.hi)},d.prototype.xor=function(a10){return new d(this.lo^a10.lo,this.mi^a10.mi,this.hi^a10.hi)},d.prototype.shift_left=function(a10){return a10=a10&63,a10===0?this:a10<24?new d(this.lo<<a10,this.mi<<a10|this.lo>>24-a10,this.hi<<a10|this.mi>>24-a10):a10<48?new d(0,this.lo<<a10-24,this.mi<<a10-24|this.lo>>48-a10):new d(0,0,this.lo<<a10-48)},d.prototype.shift_right_unsigned=function(a10){return a10=a10&63,a10===0?this:a10<24?new d(this.lo>>a10|this.mi<<24-a10,this.mi>>a10|this.hi<<24-a10,this.hi>>a10):a10<48?new d(this.mi>>a10-24|this.hi<<48-a10,this.hi>>a10-24,0):new d(this.hi>>a10-48,0,0)},d.prototype.shift_right=function(a10){if(a10=a10&63,a10===0)return this;var c10=this.hi<<16>>16;if(a10<24)return new d(this.lo>>a10|this.mi<<24-a10,this.mi>>a10|c10<<24-a10,this.hi<<16>>a10>>>16);var b10=this.hi<<16>>31;return a10<48?new d(this.mi>>a10-24|this.hi<<48-a10,this.hi<<16>>a10-24>>16,b10&aB):new d(this.hi<<16>>a10-32,b10,b10)},d.prototype.lsl1=function(){this.hi=this.hi<<1|this.mi>>23,this.mi=(this.mi<<1|this.lo>>23)&aG,this.lo=this.lo<<1&aG},d.prototype.lsr1=function(){this.lo=(this.lo>>>1|this.mi<<23)&aG,this.mi=(this.mi>>>1|this.hi<<23)&aG,this.hi=this.hi>>>1},d.prototype.udivmod=function(a10){for(var e10=0,c10=this.copy(),b10=a10.copy(),f10=new d(0,0,0);c10.ucompare(b10)>0;)e10++,b10.lsl1();for(;e10>=0;)e10--,f10.lsl1(),c10.ucompare(b10)>=0&&(f10.lo++,c10=c10.sub(b10)),b10.lsr1();return{quotient:f10,modulus:c10}},d.prototype.div=function(a10){var b10=this;a10.isZero()&&l9();var d10=b10.hi^a10.hi;b10.hi&aA&&(b10=b10.neg()),a10.hi&aA&&(a10=a10.neg());var c10=b10.udivmod(a10).quotient;return d10&aA&&(c10=c10.neg()),c10},d.prototype.mod=function(a10){var b10=this;a10.isZero()&&l9();var d10=b10.hi;b10.hi&aA&&(b10=b10.neg()),a10.hi&aA&&(a10=a10.neg());var c10=b10.udivmod(a10).modulus;return d10&aA&&(c10=c10.neg()),c10},d.prototype.toInt=function(){return this.lo|this.mi<<24},d.prototype.toFloat=function(){return(this.hi<<16)*Math.pow(2,32)+this.mi*Math.pow(2,24)+this.lo},d.prototype.toArray=function(){return[this.hi>>8,this.hi&aK,this.mi>>16,this.mi>>8&aK,this.mi&aK,this.lo>>16,this.lo>>8&aK,this.lo&aK]},d.prototype.lo32=function(){return this.lo|(this.mi&aK)<<24},d.prototype.hi32=function(){return this.mi>>>8&aB|this.hi<<16};function Bi(a10,b10){return new d(a10&aG,a10>>>24&aK|(b10&aB)<<8,b10>>>16&aB)}function gO(a10){return a10.hi32()}function gP(a10){return a10.lo32()}function cP(){G(f8)}var AT=dY;function bf(a10,b10,c10,d10){this.kind=a10,this.layout=b10,this.dims=c10,this.data=d10}bf.prototype.caml_custom=AT,bf.prototype.offset=function(a10){var c10=0;if(typeof a10=="number"&&(a10=[a10]),Array.isArray(a10)||G("bigarray.js: invalid offset"),this.dims.length!==a10.length&&G("Bigarray.get/set: bad number of dimensions"),this.layout===0)for(var b10=0;b10<this.dims.length;b10++)(a10[b10]<0||a10[b10]>=this.dims[b10])&&cP(),c10=c10*this.dims[b10]+a10[b10];else for(var b10=this.dims.length-1;b10>=0;b10--)(a10[b10]<1||a10[b10]>this.dims[b10])&&cP(),c10=c10*this.dims[b10]+(a10[b10]-1);return c10},bf.prototype.get=function(a10){switch(this.kind){case 7:var d10=this.data[a10*2+0],b10=this.data[a10*2+1];return Bi(d10,b10);case 10:case 11:var e10=this.data[a10*2+0],c10=this.data[a10*2+1];return[d3,e10,c10];default:return this.data[a10]}},bf.prototype.set=function(a10,b10){switch(this.kind){case 7:this.data[a10*2+0]=gP(b10),this.data[a10*2+1]=gO(b10);break;case 10:case 11:this.data[a10*2+0]=b10[1],this.data[a10*2+1]=b10[2];break;default:this.data[a10]=b10;break}return 0},bf.prototype.fill=function(a10){switch(this.kind){case 7:var c10=gP(a10),e10=gO(a10);if(c10===e10)this.data.fill(c10);else for(var b10=0;b10<this.data.length;b10++)this.data[b10]=b10%2===0?c10:e10;break;case 10:case 11:var d10=a10[1],f10=a10[2];if(d10===f10)this.data.fill(d10);else for(var b10=0;b10<this.data.length;b10++)this.data[b10]=b10%2===0?d10:f10;break;default:this.data.fill(a10);break}},bf.prototype.compare=function(a10,b10){if(this.layout!==a10.layout||this.kind!==a10.kind){var f10=this.kind|this.layout<<8,g10=a10.kind|a10.layout<<8;return g10-f10}if(this.dims.length!==a10.dims.length)return a10.dims.length-this.dims.length;for(var c10=0;c10<this.dims.length;c10++)if(this.dims[c10]!==a10.dims[c10])return this.dims[c10]<a10.dims[c10]?-1:1;switch(this.kind){case 0:case 1:case 10:case 11:for(var d10,e10,c10=0;c10<this.data.length;c10++){if(d10=this.data[c10],e10=a10.data[c10],d10<e10)return-1;if(d10>e10)return 1;if(d10!==e10){if(!b10)return Number.NaN;if(!Number.isNaN(d10))return 1;if(!Number.isNaN(e10))return-1}}break;case 7:for(var c10=0;c10<this.data.length;c10+=2){if(this.data[c10+1]<a10.data[c10+1])return-1;if(this.data[c10+1]>a10.data[c10+1])return 1;if(this.data[c10]>>>0<a10.data[c10]>>>0)return-1;if(this.data[c10]>>>0>a10.data[c10]>>>0)return 1}break;case 2:case 3:case 4:case 5:case 6:case 8:case 9:case 12:for(var c10=0;c10<this.data.length;c10++){if(this.data[c10]<a10.data[c10])return-1;if(this.data[c10]>a10.data[c10])return 1}break}return 0};function b6(a10,b10,c10,d10){this.kind=a10,this.layout=b10,this.dims=c10,this.data=d10}b6.prototype=new bf,b6.prototype.offset=function(a10){return typeof a10!="number"&&(Array.isArray(a10)&&a10.length===1?a10=a10[0]:G("Ml_Bigarray_c_1_1.offset")),(a10<0||a10>=this.dims[0])&&cP(),a10},b6.prototype.get=function(a10){return this.data[a10]},b6.prototype.set=function(a10,b10){return this.data[a10]=b10,0},b6.prototype.fill=function(a10){return this.data.fill(a10),0};function gE(a10,b10,c10,d10){var e10=lD(a10);return d7(c10)*e10!==d10.length&&G("length doesn't match dims"),b10===0&&c10.length===1&&e10===1?new b6(a10,b10,c10,d10):new bf(a10,b10,c10,d10)}function gR(a10){return a10.slice(1)}function AS(a10,b10,c10){var d10=gR(c10),e10=lB(a10,d7(d10));return gE(a10,b10,d10,e10)}function cQ(a10,b10,c10){return a10.set(a10.offset(b10),c10),0}function cY(a10,b10,c10){var d10=String.fromCharCode;if(b10===0&&c10<=4096&&c10===a10.length)return d10.apply(null,a10);for(var f10=e;0<c10;b10+=cI,c10-=cI)f10+=d10.apply(null,a10.slice(b10,b10+Math.min(c10,cI)));return f10}function d$(a10){for(var c10=new Uint8Array(a10.l),e10=a10.c,d10=e10.length,b10=0;b10<d10;b10++)c10[b10]=e10.charCodeAt(b10);for(d10=a10.l;b10<d10;b10++)c10[b10]=0;return a10.c=c10,a10.t=4,c10}function a1(a10,b10,c10,d10,e10){if(e10===0)return 0;if(d10===0&&(e10>=c10.l||c10.t===2&&e10>=c10.c.length))c10.c=a10.t===4?cY(a10.c,b10,e10):b10===0&&a10.c.length===e10?a10.c:a10.c.slice(b10,b10+e10),c10.t=c10.c.length===c10.l?0:2;else if(c10.t===2&&d10===c10.c.length)c10.c+=a10.t===4?cY(a10.c,b10,e10):b10===0&&a10.c.length===e10?a10.c:a10.c.slice(b10,b10+e10),c10.t=c10.c.length===c10.l?0:2;else{c10.t!==4&&d$(c10);var g10=a10.c,h10=c10.c;if(a10.t===4)if(d10<=b10)for(var f10=0;f10<e10;f10++)h10[d10+f10]=g10[b10+f10];else for(var f10=e10-1;f10>=0;f10--)h10[d10+f10]=g10[b10+f10];else{for(var i10=Math.min(e10,g10.length-b10),f10=0;f10<i10;f10++)h10[d10+f10]=g10.charCodeAt(b10+f10);for(;f10<e10;f10++)h10[d10+f10]=0}}return 0}function b7(a10,b10){if(a10===0)return e;if(b10.repeat)return b10.repeat(a10);for(var d10=e,c10=0;;){if(a10&1&&(d10+=b10),a10>>=1,a10===0)return d10;b10+=b10,c10++,c10===9&&b10.slice(0,1)}}function cT(a10){a10.t===2?a10.c+=b7(a10.l-a10.c.length,"\0"):a10.c=cY(a10.c,0,a10.c.length),a10.t=0}function gZ(a10){if(a10.length<24){for(var b10=0;b10<a10.length;b10++)if(a10.charCodeAt(b10)>gg)return!1;return!0}else return!/[^\x00-\x7f]/.test(a10)}function mc(a10){for(var k10=e,d10=e,h10,g10,i10,b10,c10=0,j10=a10.length;c10<j10;c10++){if(g10=a10.charCodeAt(c10),g10<at){for(var f10=c10+1;f10<j10&&(g10=a10.charCodeAt(f10))<at;f10++);if(f10-c10>dU?(d10.slice(0,1),k10+=d10,d10=e,k10+=a10.slice(c10,f10)):d10+=a10.slice(c10,f10),f10===j10)break;c10=f10}b10=1,++c10<j10&&((i10=a10.charCodeAt(c10))&-64)===bv&&(h10=i10+(g10<<6),g10<kJ?(b10=h10-12416,b10<at&&(b10=1)):(b10=2,++c10<j10&&((i10=a10.charCodeAt(c10))&-64)===bv&&(h10=i10+(h10<<6),g10<lb?(b10=h10-925824,(b10<kg||b10>=55295&&b10<57344)&&(b10=2)):(b10=3,++c10<j10&&((i10=a10.charCodeAt(c10))&-64)===bv&&g10<245&&(b10=i10-63447168+(h10<<6),(b10<65536||b10>1114111)&&(b10=3)))))),b10<4?(c10-=b10,d10+="\uFFFD"):b10>aB?d10+=String.fromCharCode(55232+(b10>>10),kP+(b10&1023)):d10+=String.fromCharCode(b10),d10.length>cI&&(d10.slice(0,1),k10+=d10,d10=e)}return k10+d10}function a0(a10,b10,c10){this.t=a10,this.c=b10,this.l=c10}a0.prototype.toString=function(){switch(this.t){case 9:case 8:return this.c;case 4:case 2:cT(this);case 0:return gZ(this.c)?this.t=9:this.t=8,this.c}},a0.prototype.toUtf16=function(){var a10=this.toString();return this.t===9?a10:mc(a10)},a0.prototype.slice=function(){var a10=this.t===4?this.c.slice():this.c;return new a0(this.t,a10,this.l)};function lG(a10){return new a0(0,a10,a10.length)}function aL(a10){return a10}function bg(a10){return lG(a10)}function cR(a10,b10,c10,d10,e10){return a1(bg(a10),b10,c10,d10,e10),0}function d8(){G(f8)}function bB(a10,b10){switch(a10.t&6){case 0:return a10.c.charCodeAt(b10);case 2:return b10>=a10.c.length?0:a10.c.charCodeAt(b10);case 4:return a10.c[b10]}}function AX(a10,b10){return b10>>>0>=a10.l&&d8(),bB(a10,b10)}function bC(a10){return new d(a10[7]<<0|a10[6]<<8|a10[5]<<16,a10[4]<<0|a10[3]<<8|a10[2]<<16,a10[1]<<0|a10[0]<<8)}function AY(a10,b10){b10>>>0>=a10.l-7&&d8();for(var d10=new Array(8),c10=0;c10<8;c10++)d10[7-c10]=bB(a10,b10+c10);return bC(d10)}function A(a10,b10,c10){if(c10&=aK,a10.t!==4){if(b10===a10.c.length)return a10.c+=String.fromCharCode(c10),b10+1===a10.l&&(a10.t=0),0;d$(a10)}return a10.c[b10]=c10,0}function au(a10,b10,c10){return b10>>>0>=a10.l&&d8(),A(a10,b10,c10)}function bD(a10){return a10.toArray()}function lH(a10,b10,c10){b10>>>0>=a10.l-7&&d8();for(var e10=bD(c10),d10=0;d10<8;d10++)A(a10,b10+7-d10,e10[d10]);return 0}function bh(d10,c10){var f10=d10.l>=0?d10.l:d10.l=d10.length,e10=c10.length,b10=f10-e10;if(b10===0)return d10.apply(null,c10);if(b10<0){var a10=d10.apply(null,c10.slice(0,f10));return typeof a10!="function"?a10:bh(a10,c10.slice(f10))}else{switch(b10){case 1:{var a10=function(a11){for(var f11=new Array(e10+1),b11=0;b11<e10;b11++)f11[b11]=c10[b11];return f11[e10]=a11,d10.apply(null,f11)};break}case 2:{var a10=function(a11,b11){for(var g10=new Array(e10+2),f11=0;f11<e10;f11++)g10[f11]=c10[f11];return g10[e10]=a11,g10[e10+1]=b11,d10.apply(null,g10)};break}default:var a10=function(){for(var e11=arguments.length===0?1:arguments.length,b11=new Array(c10.length+e11),a11=0;a11<c10.length;a11++)b11[a11]=c10[a11];for(var a11=0;a11<arguments.length;a11++)b11[c10.length+a11]=arguments[a11];return bh(d10,b11)}}return a10.l=b10,a10}}function j(a10,b10){return b10>>>0>=a10.length-1&&cP(),a10}function AZ(a10){return Number.isFinite(a10)?Math.abs(a10)>=22250738585072014e-324?0:a10!==0?1:2:Number.isNaN(a10)?4:3}function lY(a10){return a10===245?1:0}var B4=Math.log2&&Math.log2(11235582092889474e291)===1020;function B3(a10){if(B4)return Math.floor(Math.log2(a10));var b10=0;if(a10===0)return Number.NEGATIVE_INFINITY;if(a10>=1)for(;a10>=2;)a10/=2,b10++;else for(;a10<1;)a10*=2,b10--;return b10}function gL(a10){var b10=new Float32Array(1);b10[0]=a10;var c10=new Int32Array(b10.buffer);return c10[0]|0}function ao(a10,b10,c10){return new d(a10,b10,c10)}function ec(a10){if(!Number.isFinite(a10))return Number.isNaN(a10)?ao(1,0,ko):a10>0?ao(0,0,ko):ao(0,0,65520);var f10=a10===0&&1/a10===Number.NEGATIVE_INFINITY?aA:a10>=0?0:aA;f10&&(a10=-a10);var b10=B3(a10)+1023;b10<=0?(b10=0,a10/=Math.pow(2,-j7)):(a10/=Math.pow(2,b10-kw),a10<16&&(a10*=2,b10-=1),b10===0&&(a10/=2));var d10=Math.pow(2,24),c10=a10|0;a10=(a10-c10)*d10;var e10=a10|0;a10=(a10-e10)*d10;var g10=a10|0;return c10=c10&gt|f10|b10<<4,ao(g10,e10,c10)}function lF(a10,b10,c10){if(a10.write(32,b10.dims.length),a10.write(32,b10.kind|b10.layout<<8),b10.caml_custom===dY)for(var d10=0;d10<b10.dims.length;d10++)b10.dims[d10]<aB?a10.write(16,b10.dims[d10]):(a10.write(16,aB),a10.write(32,0),a10.write(32,b10.dims[d10]));else for(var d10=0;d10<b10.dims.length;d10++)a10.write(32,b10.dims[d10]);switch(b10.kind){case 2:case 3:case 12:for(var d10=0;d10<b10.data.length;d10++)a10.write(8,b10.data[d10]);break;case 4:case 5:for(var d10=0;d10<b10.data.length;d10++)a10.write(16,b10.data[d10]);break;case 6:for(var d10=0;d10<b10.data.length;d10++)a10.write(32,b10.data[d10]);break;case 8:case 9:a10.write(8,0);for(var d10=0;d10<b10.data.length;d10++)a10.write(32,b10.data[d10]);break;case 7:for(var d10=0;d10<b10.data.length/2;d10++)for(var f10=bD(b10.get(d10)),e10=0;e10<8;e10++)a10.write(8,f10[e10]);break;case 1:for(var d10=0;d10<b10.data.length;d10++)for(var f10=bD(ec(b10.get(d10))),e10=0;e10<8;e10++)a10.write(8,f10[e10]);break;case 0:for(var d10=0;d10<b10.data.length;d10++){var f10=gL(b10.get(d10));a10.write(32,f10)}break;case 10:for(var d10=0;d10<b10.data.length/2;d10++){var e10=b10.get(d10);a10.write(32,gL(e10[1])),a10.write(32,gL(e10[2]))}break;case 11:for(var d10=0;d10<b10.data.length/2;d10++){for(var g10=b10.get(d10),f10=bD(ec(g10[1])),e10=0;e10<8;e10++)a10.write(8,f10[e10]);for(var f10=bD(ec(g10[2])),e10=0;e10<8;e10++)a10.write(8,f10[e10])}break}c10[0]=(4+b10.dims.length)*4,c10[1]=(4+b10.dims.length)*8}function gM(a10){var b10=new Int32Array(1);b10[0]=a10;var c10=new Float32Array(b10.buffer);return c10[0]}function gN(a10){var f10=a10.lo,g10=a10.mi,c10=a10.hi,d10=(c10&32767)>>4;if(d10===2047)return f10|g10|c10&gt?Number.NaN:c10&aA?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY;var e10=Math.pow(2,-24),b10=(f10*e10+g10)*e10+(c10&gt);return d10>0?(b10+=16,b10*=Math.pow(2,d10-kw)):b10*=Math.pow(2,-j7),c10&aA&&(b10=-b10),b10}function V(a10){O.Failure||(O.Failure=[r,gB,-3]),gW(O.Failure,a10)}function lC(a10,b10,c10){var k10=a10.read32s();(k10<0||k10>16)&&V("input_value: wrong number of bigarray dimensions");var r10=a10.read32s(),l10=r10&aK,q10=r10>>8&1,j10=[];if(c10===dY)for(var d10=0;d10<k10;d10++){var p10=a10.read16u();if(p10===aB){var u10=a10.read32u(),v10=a10.read32u();u10!==0&&V("input_value: bigarray dimension overflow in 32bit"),p10=v10}j10.push(p10)}else for(var d10=0;d10<k10;d10++)j10.push(a10.read32u());var f10=d7(j10),h10=lB(l10,f10),i10=gE(l10,q10,j10,h10);switch(l10){case 2:for(var d10=0;d10<f10;d10++)h10[d10]=a10.read8s();break;case 3:case 12:for(var d10=0;d10<f10;d10++)h10[d10]=a10.read8u();break;case 4:for(var d10=0;d10<f10;d10++)h10[d10]=a10.read16s();break;case 5:for(var d10=0;d10<f10;d10++)h10[d10]=a10.read16u();break;case 6:for(var d10=0;d10<f10;d10++)h10[d10]=a10.read32s();break;case 8:case 9:var t10=a10.read8u();t10&&V("input_value: cannot read bigarray with 64-bit OCaml ints");for(var d10=0;d10<f10;d10++)h10[d10]=a10.read32s();break;case 7:for(var g10=new Array(8),d10=0;d10<f10;d10++){for(var e10=0;e10<8;e10++)g10[e10]=a10.read8u();var s10=bC(g10);i10.set(d10,s10)}break;case 1:for(var g10=new Array(8),d10=0;d10<f10;d10++){for(var e10=0;e10<8;e10++)g10[e10]=a10.read8u();var m10=gN(bC(g10));i10.set(d10,m10)}break;case 0:for(var d10=0;d10<f10;d10++){var m10=gM(a10.read32s());i10.set(d10,m10)}break;case 10:for(var d10=0;d10<f10;d10++){var o10=gM(a10.read32s()),n10=gM(a10.read32s());i10.set(d10,[d3,o10,n10])}break;case 11:for(var g10=new Array(8),d10=0;d10<f10;d10++){for(var e10=0;e10<8;e10++)g10[e10]=a10.read8u();for(var o10=gN(bC(g10)),e10=0;e10<8;e10++)g10[e10]=a10.read8u();var n10=gN(bC(g10));i10.set(d10,[d3,o10,n10])}break}return b10[0]=(4+k10)*4,gE(l10,q10,j10,h10)}function lA(a10,b10,c10){return a10.compare(b10,c10)}function cX(a10,b10){return Math.imul(a10,b10)}function W(a10,b10){return b10=cX(b10,-862048943),b10=b10<<15|b10>>>17,b10=cX(b10,461845907),a10^=b10,a10=a10<<13|a10>>>19,(a10+(a10<<2)|0)+-430675100|0}function Bc(a10,b10){return a10=W(a10,gP(b10)),a10=W(a10,gO(b10)),a10}function gJ(a10,b10){return Bc(a10,ec(b10))}function lE(a10){var c10=d7(a10.dims),d10=0;switch(a10.kind){case 2:case 3:case 12:c10>cJ&&(c10=cJ);var e10=0,b10=0;for(b10=0;b10+4<=a10.data.length;b10+=4)e10=a10.data[b10+0]|a10.data[b10+1]<<8|a10.data[b10+2]<<16|a10.data[b10+3]<<24,d10=W(d10,e10);switch(e10=0,c10&3){case 3:e10=a10.data[b10+2]<<16;case 2:e10|=a10.data[b10+1]<<8;case 1:e10|=a10.data[b10+0],d10=W(d10,e10)}break;case 4:case 5:c10>bv&&(c10=bv);var e10=0,b10=0;for(b10=0;b10+2<=a10.data.length;b10+=2)e10=a10.data[b10+0]|a10.data[b10+1]<<16,d10=W(d10,e10);c10&1&&(d10=W(d10,a10.data[b10]));break;case 6:c10>64&&(c10=64);for(var b10=0;b10<c10;b10++)d10=W(d10,a10.data[b10]);break;case 8:case 9:c10>64&&(c10=64);for(var b10=0;b10<c10;b10++)d10=W(d10,a10.data[b10]);break;case 7:c10>32&&(c10=32),c10*=2;for(var b10=0;b10<c10;b10++)d10=W(d10,a10.data[b10]);break;case 10:c10*=2;case 0:c10>64&&(c10=64);for(var b10=0;b10<c10;b10++)d10=gJ(d10,a10.data[b10]);break;case 11:c10*=2;case 1:c10>32&&(c10=32);for(var b10=0;b10<c10;b10++)d10=gJ(d10,a10.data[b10]);break}return d10}function Bf(a10,b10){return b10[0]=4,a10.read32s()}function BJ(a10,b10){switch(a10.read8u()){case 1:return b10[0]=4,a10.read32s();case 2:V("input_value: native integer value too large");break;default:V("input_value: ill-formed native integer")}}function Bq(a10,b10){for(var d10=new Array(8),c10=0;c10<8;c10++)d10[c10]=a10.read8u();return b10[0]=8,bC(d10)}function Bn(a10,b10,c10){for(var e10=bD(b10),d10=0;d10<8;d10++)a10.write(8,e10[d10]);c10[0]=8,c10[1]=8}function Bh(a10,b10,c10){return a10.compare(b10)}function Bk(a10){return a10.lo32()^a10.hi32()}var cV={_j:{deserialize:Bq,serialize:Bn,fixed_length:8,compare:Bh,hash:Bk},_i:{deserialize:Bf,fixed_length:4},_n:{deserialize:BJ,fixed_length:4},_bigarray:{deserialize:function(a10,b10){return lC(a10,b10,"_bigarray")},serialize:lF,compare:lA,hash:lE},_bigarr02:{deserialize:function(a10,b10){return lC(a10,b10,dY)},serialize:lF,compare:lA,hash:lE}};function gG(a10){return cV[a10.caml_custom]&&cV[a10.caml_custom].compare}function lI(a10,b10,c10,d10){var f10=gG(b10);if(f10){var e10=c10>0?f10(b10,a10,d10):f10(a10,b10,d10);if(d10&&Number.isNaN(e10))return c10;if(Number.isNaN(+e10))return+e10;if(e10|0)return e10|0}return c10}function ee(a10){return typeof a10=="string"&&!/[^\x00-\xff]/.test(a10)}function ed(a10){return a10 instanceof a0}function lJ(a10){if(typeof a10=="number")return cM;if(ed(a10))return d2;if(ee(a10))return 1252;if(Array.isArray(a10)&&a10[0]===a10[0]>>>0&&a10[0]<=k9){var b10=a10[0]|0;return b10===d3?0:b10}else{if(a10 instanceof String)return kQ;if(typeof a10=="string")return kQ;if(a10 instanceof Number)return cM;if(a10&&a10.caml_custom)return gx;if(a10&&a10.compare)return 1256;if(typeof a10=="function")return 1247;if(typeof a10=="symbol")return 1251}return 1001}function lW(a10,b10){return a10<b10?-1:a10===b10?0:1}function l_(a10,b10){return a10<b10?-1:a10>b10?1:0}function AW(a10,b10){return a10.t&6&&cT(a10),b10.t&6&&cT(b10),a10.c<b10.c?-1:a10.c>b10.c?1:0}function d_(a10,b10,c10){for(var f10=[];;){if(!(c10&&a10===b10)){var e10=lJ(a10);if(e10===cH){a10=a10[1];continue}var g10=lJ(b10);if(g10===cH){b10=b10[1];continue}if(e10!==g10)return e10===cM?g10===gx?lI(a10,b10,-1,c10):-1:g10===cM?e10===gx?lI(b10,a10,1,c10):1:e10<g10?-1:1;switch(e10){case 247:G(gy);break;case 248:var d10=lW(a10[2],b10[2])|0;if(d10!==0)return d10;break;case 249:G(gy);break;case 250:G("equal: got Forward_tag, should not happen");break;case 251:G("equal: abstract value");break;case 252:if(a10!==b10){var d10=AW(a10,b10)|0;if(d10!==0)return d10}break;case 253:G("equal: got Double_tag, should not happen");break;case 254:G("equal: got Double_array_tag, should not happen");break;case 255:G("equal: got Custom_tag, should not happen");break;case 1247:G(gy);break;case 1255:var i10=gG(a10);if(i10!==gG(b10))return a10.caml_custom<b10.caml_custom?-1:1;i10||G("compare: abstract value");var d10=i10(a10,b10,c10);if(Number.isNaN(d10))return c10?-1:d10;if(d10!==(d10|0))return-1;if(d10!==0)return d10|0;break;case 1256:var d10=a10.compare(b10,c10);if(Number.isNaN(d10))return c10?-1:d10;if(d10!==(d10|0))return-1;if(d10!==0)return d10|0;break;case 1e3:if(a10=+a10,b10=+b10,a10<b10)return-1;if(a10>b10)return 1;if(a10!==b10){if(!c10)return Number.NaN;if(!Number.isNaN(a10))return 1;if(!Number.isNaN(b10))return-1}break;case 1001:if(a10<b10)return-1;if(a10>b10)return 1;if(a10!==b10)return c10?1:Number.NaN;break;case 1251:if(a10!==b10)return c10?1:Number.NaN;break;case 1252:var a10=a10,b10=b10;if(a10!==b10){if(a10<b10)return-1;if(a10>b10)return 1}break;case 12520:var a10=a10.toString(),b10=b10.toString();if(a10!==b10){if(a10<b10)return-1;if(a10>b10)return 1}break;default:if(lY(e10)){G("compare: continuation value");break}if(a10.length!==b10.length)return a10.length<b10.length?-1:1;a10.length>1&&f10.push(a10,b10,1);break}}if(f10.length===0)return 0;var h10=f10.pop();b10=f10.pop(),a10=f10.pop(),h10+1<a10.length&&f10.push(a10,b10,h10+1),a10=a10[h10],b10=b10[h10]}}function cS(a10,b10){return d_(a10,b10,!0)}function A0(){return[0]}function C(a10){return a10<0&&G("Bytes.create"),new a0(a10?2:9,e,a10)}var ea=[0];function A2(a10,b10){return ea!==a10?0:(ea=b10,1)}function lK(a10){return ea}function A3(a10){ea=a10}function lL(a10,b10){return+(d_(a10,b10,!1)===0)}function A5(a10,b10,c10,d10){if(c10>0)if(b10===0&&(c10>=a10.l||a10.t===2&&c10>=a10.c.length))d10===0?(a10.c=e,a10.t=2):(a10.c=b7(c10,String.fromCharCode(d10)),a10.t=c10===a10.l?0:2);else for(a10.t!==4&&d$(a10),c10+=b10;b10<c10;b10++)a10.c[b10]=d10;return 0}function A6(a10){var b10,f10=/^ *[-+]?(?:\d*\.?\d+|\d+\.?\d*)(?:[eE][-+]?\d+)?$/;if(a10=a10,b10=+a10,!Number.isNaN(b10)&&f10.test(a10)||(a10=a10.replace(/_/g,e),b10=+a10,!Number.isNaN(b10)&&f10.test(a10)||/^[+-]?nan$/i.test(a10)))return b10;var c10=/^ *([+-]?)0x([0-9a-f]+)\.?([0-9a-f]*)(p([+-]?[0-9]+))?$/i.exec(a10);if(c10){var d10=c10[3].replace(/0+$/,e),h10=Number.parseInt(c10[1]+c10[2]+d10,16),g10=(c10[5]|0)-4*d10.length;return b10=h10*Math.pow(2,g10),b10}if(/^\+?inf(inity)?$/i.test(a10))return Number.POSITIVE_INFINITY;if(/^-inf(inity)?$/i.test(a10))return Number.NEGATIVE_INFINITY;V("float_of_string")}function gV(a10){a10=a10;var e10=a10.length;e10>31&&G("format_int: format too long");for(var b10={justify:b5,signstyle:bw,filler:aH,alternate:!1,base:0,signedconv:!1,width:0,uppercase:!1,sign:1,prec:-1,conv:"f"},d10=0;d10<e10;d10++){var c10=a10.charAt(d10);switch(c10){case"-":b10.justify=bw;break;case"+":case" ":b10.signstyle=c10;break;case"0":b10.filler=af;break;case"#":b10.alternate=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(b10.width=0;c10=a10.charCodeAt(d10)-48,c10>=0&&c10<=9;)b10.width=b10.width*10+c10,d10++;d10--;break;case".":for(b10.prec=0,d10++;c10=a10.charCodeAt(d10)-48,c10>=0&&c10<=9;)b10.prec=b10.prec*10+c10,d10++;d10--;break;case"d":case"i":b10.signedconv=!0,b10.base=10;break;case"u":b10.base=10;break;case"x":b10.base=16;break;case"X":b10.base=16,b10.uppercase=!0;break;case"o":b10.base=8;break;case"e":case"f":case"g":b10.signedconv=!0,b10.conv=c10;break;case"E":case"F":case"G":b10.signedconv=!0,b10.uppercase=!0,b10.conv=c10.toLowerCase();break}}return b10}function gH(a10,b10){a10.uppercase&&(b10=b10.toUpperCase());var f10=b10.length;a10.signedconv&&(a10.sign<0||a10.signstyle!==bw)&&f10++,a10.alternate&&(a10.base===8&&(f10+=1),a10.base===16&&(f10+=2));var c10=e;if(a10.justify===b5&&a10.filler===aH)for(var d10=f10;d10<a10.width;d10++)c10+=aH;if(a10.signedconv&&(a10.sign<0?c10+=bw:a10.signstyle!==bw&&(c10+=a10.signstyle)),a10.alternate&&a10.base===8&&(c10+=af),a10.alternate&&a10.base===16&&(c10+=a10.uppercase?"0X":k3),a10.justify===b5&&a10.filler===af)for(var d10=f10;d10<a10.width;d10++)c10+=af;if(c10+=b10,a10.justify===bw)for(var d10=f10;d10<a10.width;d10++)c10+=aH;return c10}function gI(a10,b10){function j10(a11,b11){if(Math.abs(a11)<1)return a11.toFixed(b11);var c11=Number.parseInt(a11.toString().split(b5)[1]);return c11>20?(c11-=20,a11/=Math.pow(10,c11),a11+=new Array(c11+1).join(af),b11>0&&(a11=a11+bd+new Array(b11+1).join(af)),a11):a11.toFixed(b11)}var c10,f10=gV(a10),e10=f10.prec<0?6:f10.prec;if((b10<0||b10===0&&1/b10===Number.NEGATIVE_INFINITY)&&(f10.sign=-1,b10=-b10),Number.isNaN(b10))c10=f_,f10.filler=aH;else if(!Number.isFinite(b10))c10="inf",f10.filler=aH;else switch(f10.conv){case"e":var c10=b10.toExponential(e10),d10=c10.length;c10.charAt(d10-3)===gr&&(c10=c10.slice(0,d10-1)+af+c10.slice(d10-1));break;case"f":c10=j10(b10,e10);break;case"g":e10=e10||1,c10=b10.toExponential(e10-1);var i10=c10.indexOf(gr),h10=+c10.slice(i10+1);if(h10<-4||b10>=1e21||b10.toFixed(0).length>e10){for(var d10=i10-1;c10.charAt(d10)===af;)d10--;c10.charAt(d10)===bd&&d10--,c10=c10.slice(0,d10+1)+c10.slice(i10),d10=c10.length,c10.charAt(d10-3)===gr&&(c10=c10.slice(0,d10-1)+af+c10.slice(d10-1));break}else{var g10=e10;if(h10<0)g10-=h10+1,c10=b10.toFixed(g10);else for(;c10=b10.toFixed(g10),c10.length>e10+1;)g10--;if(g10){for(var d10=c10.length-1;c10.charAt(d10)===af;)d10--;c10.charAt(d10)===bd&&d10--,c10=c10.slice(0,d10+1)}}break}return gH(f10,c10)}function eb(a10,b10){if(a10===f7)return e+b10;var c10=gV(a10);b10<0&&(c10.signedconv?(c10.sign=-1,b10=-b10):b10>>>=0);var d10=b10.toString(c10.base);if(c10.prec>=0){c10.filler=aH;var f10=c10.prec-d10.length;f10>0&&(d10=b7(f10,af)+d10)}return gH(c10,d10)}var BL=0;function an(){return BL++}function H(a10){return gZ(a10)?a10:mc(a10)}function cZ(){return typeof c.process<"u"&&typeof c.process.versions<"u"&&typeof c.process.versions.node<"u"}function B5(){function a10(a11){if(a11.charAt(0)===aY)return[e,a11.slice(1)]}function b10(a11){var h10=/^([a-zA-Z]:|[\\/]{2}[^\\/]+[\\/]+[^\\/]+)?([\\/])?([\s\S]*?)$/,b11=h10.exec(a11),c10=b11[1]||e,f10=c10.length>0&&c10.charAt(1)!==":";if(b11[2]||f10){var d10=b11[1]||e,g10=b11[2]||e;return[d10,a11.slice(d10.length+g10.length)]}}return cZ()&&c.process&&c.process.platform&&c.process.platform==="win32"?b10:a10}var g0=B5();function ma(a10){return a10.slice(-1)!==aY?a10+aY:a10}if(cZ()&&c.process&&c.process.cwd)var cU=c.process.cwd().replace(/\\/g,aY);else var cU="/static";cU=ma(cU);function BA(a10){a10=H(a10),g0(a10)||(a10=cU+a10);for(var e10=g0(a10),d10=e10[1].split(/[/\\]/),b10=[],c10=0;c10<d10.length;c10++)switch(d10[c10]){case"..":b10.length>1&&b10.pop();break;case".":break;case"":break;default:b10.push(d10[c10]);break}return b10.unshift(e10[0]),b10.orig=a10,b10}function BV(a10){for(var g10=e,c10=g10,b10,i10,d10=0,h10=a10.length;d10<h10;d10++){if(b10=a10.charCodeAt(d10),b10<at){for(var f10=d10+1;f10<h10&&(b10=a10.charCodeAt(f10))<at;f10++);if(f10-d10>dU?(c10.slice(0,1),g10+=c10,c10=e,g10+=a10.slice(d10,f10)):c10+=a10.slice(d10,f10),f10===h10)break;d10=f10}b10<kg?(c10+=String.fromCharCode(192|b10>>6),c10+=String.fromCharCode(at|b10&be)):b10<55296||b10>=k2?c10+=String.fromCharCode(kJ|b10>>12,at|b10>>6&be,at|b10&be):b10>=56319||d10+1===h10||(i10=a10.charCodeAt(d10+1))<kP||i10>k2?c10+="\xEF\xBF\xBD":(d10++,b10=(b10<<10)+i10-56613888,c10+=String.fromCharCode(lb|b10>>18,at|b10>>12&be,at|b10>>6&be,at|b10&be)),c10.length>cI&&(c10.slice(0,1),g10+=c10,c10=e)}return g10+c10}function ag(a10){return gZ(a10)?a10:BV(a10)}var B6=["E2BIG","EACCES","EAGAIN",f6,"EBUSY","ECHILD","EDEADLK","EDOM",lt,"EFAULT","EFBIG","EINTR","EINVAL","EIO","EISDIR","EMFILE","EMLINK","ENAMETOOLONG","ENFILE","ENODEV",gq,"ENOEXEC","ENOLCK","ENOMEM","ENOSPC","ENOSYS",gu,ll,"ENOTTY","ENXIO","EPERM","EPIPE","ERANGE","EROFS","ESPIPE","ESRCH","EXDEV","EWOULDBLOCK","EINPROGRESS","EALREADY","ENOTSOCK","EDESTADDRREQ","EMSGSIZE","EPROTOTYPE","ENOPROTOOPT","EPROTONOSUPPORT","ESOCKTNOSUPPORT","EOPNOTSUPP","EPFNOSUPPORT","EAFNOSUPPORT","EADDRINUSE","EADDRNOTAVAIL","ENETDOWN","ENETUNREACH","ENETRESET","ECONNABORTED","ECONNRESET","ENOBUFS","EISCONN","ENOTCONN","ESHUTDOWN","ETOOMANYREFS","ETIMEDOUT","ECONNREFUSED","EHOSTDOWN","EHOSTUNREACH","ELOOP","EOVERFLOW"];function a3(a10,b10,c10,d10){var f10=B6.indexOf(a10);f10<0&&(d10==null&&(d10=-9999),f10=[0,d10]);var g10=[f10,ag(b10||e),ag(c10||e)];return g10}var l5={};function bj(a10){return l5[a10]}function a2(a10,b10){throw g([0,a10].concat(b10))}function gF(a10){return a10 instanceof Uint8Array||(a10=new Uint8Array(a10)),new a0(4,a10,a10.length)}function l(a10){gW(O.Sys_error,a10)}function l8(a10){l(a10+cN)}function gY(a10){return a10.t!==4&&d$(a10),a10.c}function av(a10){return a10.l}function lz(){}function Z(a10){this.data=a10}Z.prototype=new lz,Z.prototype.constructor=Z,Z.prototype.truncate=function(a10){var b10=this.data;this.data=C(a10|0),a1(b10,0,this.data,0,a10)},Z.prototype.length=function(){return av(this.data)},Z.prototype.write=function(a10,b10,c10,d10){var e10=this.length();if(a10+d10>=e10){var f10=C(a10+d10),g10=this.data;this.data=f10,a1(g10,0,this.data,0,e10)}return a1(gF(b10),c10,this.data,a10,d10),0},Z.prototype.read=function(a10,b10,c10,d10){var e10=this.length();if(a10+d10>=e10&&(d10=e10-a10),d10){var f10=C(d10|0);a1(this.data,a10,f10,0,d10),b10.set(gY(f10),c10)}return d10};function bA(a10,b10,c10){this.file=b10,this.name=a10,this.flags=c10}bA.prototype.err_closed=function(){l(this.name+kS)},bA.prototype.length=function(){if(this.file)return this.file.length();this.err_closed()},bA.prototype.write=function(a10,b10,c10,d10){if(this.file)return this.file.write(a10,b10,c10,d10);this.err_closed()},bA.prototype.read=function(a10,b10,c10,d10){if(this.file)return this.file.read(a10,b10,c10,d10);this.err_closed()},bA.prototype.close=function(){this.file=void 0};function N(a10,b10){this.content={},this.root=a10,this.lookupFun=b10}N.prototype.nm=function(a10){return this.root+a10},N.prototype.create_dir_if_needed=function(a10){for(var d10=a10.split(aY),c10=e,b10=0;b10<d10.length-1;b10++)c10+=d10[b10]+aY,!this.content[c10]&&(this.content[c10]=Symbol("directory"))},N.prototype.slash=function(a10){return/\/$/.test(a10)?a10:a10+aY},N.prototype.lookup=function(a10){if(!this.content[a10]&&this.lookupFun){var b10=this.lookupFun(this.root,a10);b10!==0&&(this.create_dir_if_needed(a10),this.content[a10]=new Z(bg(b10[1])))}},N.prototype.exists=function(a10,b10){if(a10===e)return 1;var c10=this.slash(a10);return this.content[c10]?1:(b10||this.lookup(a10),this.content[a10]?1:0)},N.prototype.isFile=function(a10){return this.exists(a10)&&!this.is_dir(a10)?1:0},N.prototype.mkdir=function(a10,b10,c10){var f10=c10&&bj(d5);this.exists(a10)&&(f10?a2(f10,a3(lt,gf,this.nm(a10))):l(a10+": File exists"));var d10=/^(.*)\/[^/]+/.exec(a10);d10=d10&&d10[1]||e,this.exists(d10)||(f10?a2(f10,a3(gq,gf,this.nm(d10))):l(d10+cN)),this.is_dir(d10)||(f10?a2(f10,a3(gu,gf,this.nm(d10))):l(d10+gk)),this.create_dir_if_needed(this.slash(a10))},N.prototype.rmdir=function(a10,b10){var c10=b10&&bj(d5),d10=a10===e?e:this.slash(a10),g10=new RegExp(lg+d10+k8);this.exists(a10)||(c10?a2(c10,a3(gq,f9,this.nm(a10))):l(a10+cN)),this.is_dir(a10)||(c10?a2(c10,a3(gu,f9,this.nm(a10))):l(a10+gk));for(var f10 in this.content)f10.match(g10)&&(c10?a2(c10,a3(ll,f9,this.nm(a10))):l(this.nm(a10)+": Directory not empty"));delete this.content[d10]},N.prototype.readdir=function(a10){var g10=a10===e?e:this.slash(a10);this.exists(a10)||l(a10+cN),this.is_dir(a10)||l(a10+gk);var h10=new RegExp(lg+g10+k8),d10={},c10=[];for(var f10 in this.content){var b10=f10.match(h10);b10&&!d10[b10[1]]&&(d10[b10[1]]=!0,c10.push(b10[1]))}return c10},N.prototype.opendir=function(a10,b10){var c10=b10&&bj(d5),d10=this.readdir(a10),e10=!1,f10=0;return{readSync:function(){if(e10&&(c10?a2(c10,a3(f6,kM,this.nm(a10))):l(a10+k1)),f10===d10.length)return null;var b11=d10[f10];return f10++,{name:b11}},closeSync:function(){e10&&(c10?a2(c10,a3(f6,kM,this.nm(a10))):l(a10+k1)),e10=!0,d10=[]}}},N.prototype.is_dir=function(a10){if(a10===e)return!0;var b10=this.slash(a10);return this.content[b10]?1:0},N.prototype.unlink=function(a10){return this.exists(a10,!0)||l(a10+cN),delete this.content[a10],0},N.prototype.open=function(a10,b10){var c10;return b10.rdonly&&b10.wronly&&l(this.nm(a10)+gA),b10.text&&b10.binary&&l(this.nm(a10)+gl),this.lookup(a10),this.content[a10]?(this.is_dir(a10)&&l(this.nm(a10)+j2),b10.create&&b10.excl&&l(this.nm(a10)+f$),c10=this.content[a10],b10.truncate&&c10.truncate()):b10.create?(this.create_dir_if_needed(a10),this.content[a10]=new Z(C(0)),c10=this.content[a10]):l8(this.nm(a10)),new bA(this.nm(a10),c10,b10)},N.prototype.open=function(a10,b10){var c10;return b10.rdonly&&b10.wronly&&l(this.nm(a10)+gA),b10.text&&b10.binary&&l(this.nm(a10)+gl),this.lookup(a10),this.content[a10]?(this.is_dir(a10)&&l(this.nm(a10)+j2),b10.create&&b10.excl&&l(this.nm(a10)+f$),c10=this.content[a10],b10.truncate&&c10.truncate()):b10.create?(this.create_dir_if_needed(a10),this.content[a10]=new Z(C(0)),c10=this.content[a10]):l8(this.nm(a10)),new bA(this.nm(a10),c10,b10)},N.prototype.register=function(a10,b10){var c10;if(this.content[a10]&&l(this.nm(a10)+f$),ed(b10)&&(c10=new Z(b10)),ee(b10))c10=new Z(bg(b10));else if(Array.isArray(b10))c10=new Z(gF(b10));else if(typeof b10=="string")c10=new Z(lG(b10));else if(b10.toString){var d10=bg(ag(b10.toString()));c10=new Z(d10)}c10?(this.create_dir_if_needed(a10),this.content[a10]=c10):l(this.nm(a10)+" : registering file with invalid content type")},N.prototype.constructor=N;function n(a10){return a10.length}function _(a10,b10){return a10.charCodeAt(b10)}function B9(a10){for(var d10=n(a10),c10=new Uint8Array(d10),b10=0;b10<d10;b10++)c10[b10]=_(a10,b10);return c10}function aC(a10,b10){this.fs=__require(gi),this.fd=a10,this.flags=b10}aC.prototype=new lz,aC.prototype.constructor=aC,aC.prototype.truncate=function(a10){try{this.fs.ftruncateSync(this.fd,a10|0)}catch(f10){l(f10.toString())}},aC.prototype.length=function(){try{return this.fs.fstatSync(this.fd).size}catch(f10){l(f10.toString())}},aC.prototype.write=function(a10,b10,c10,d10){try{this.flags.isCharacterDevice?this.fs.writeSync(this.fd,b10,c10,d10):this.fs.writeSync(this.fd,b10,c10,d10,a10)}catch(f10){l(f10.toString())}return 0},aC.prototype.read=function(a10,b10,c10,d10){try{if(this.flags.isCharacterDevice)var e10=this.fs.readSync(this.fd,b10,c10,d10);else var e10=this.fs.readSync(this.fd,b10,c10,d10,a10);return e10}catch(f10){l(f10.toString())}},aC.prototype.close=function(){try{return this.fs.closeSync(this.fd),0}catch(f10){l(f10.toString())}};function F(a10){this.fs=__require(gi),this.root=a10}F.prototype.nm=function(a10){return this.root+a10},F.prototype.exists=function(a10){try{return this.fs.existsSync(this.nm(a10))?1:0}catch{return 0}},F.prototype.isFile=function(a10){try{return this.fs.statSync(this.nm(a10)).isFile()?1:0}catch(f10){l(f10.toString())}},F.prototype.mkdir=function(a10,b10,c10){try{return this.fs.mkdirSync(this.nm(a10),{mode:b10}),0}catch(f10){this.raise_nodejs_error(f10,c10)}},F.prototype.rmdir=function(a10,b10){try{return this.fs.rmdirSync(this.nm(a10)),0}catch(f10){this.raise_nodejs_error(f10,b10)}},F.prototype.readdir=function(a10,b10){try{return this.fs.readdirSync(this.nm(a10))}catch(f10){this.raise_nodejs_error(f10,b10)}},F.prototype.is_dir=function(a10){try{return this.fs.statSync(this.nm(a10)).isDirectory()?1:0}catch(f10){l(f10.toString())}},F.prototype.unlink=function(a10,b10){try{return this.fs.unlinkSync(this.nm(a10)),0}catch(f10){this.raise_nodejs_error(f10,b10)}},F.prototype.open=function(a10,b10,c10){var d10=__require("node:constants"),e10=0;for(var h10 in b10)switch(h10){case"rdonly":e10|=d10.O_RDONLY;break;case"wronly":e10|=d10.O_WRONLY;break;case"append":e10|=d10.O_WRONLY|d10.O_APPEND;break;case"create":e10|=d10.O_CREAT;break;case"truncate":e10|=d10.O_TRUNC;break;case"excl":e10|=d10.O_EXCL;break;case"binary":e10|=d10.O_BINARY;break;case"text":e10|=d10.O_TEXT;break;case"nonblock":e10|=d10.O_NONBLOCK;break}try{var f10=this.fs.openSync(this.nm(a10),e10),g10=this.fs.lstatSync(this.nm(a10)).isCharacterDevice();return b10.isCharacterDevice=g10,new aC(f10,b10)}catch(f11){this.raise_nodejs_error(f11,c10)}},F.prototype.rename=function(a10,b10,c10){try{this.fs.renameSync(this.nm(a10),this.nm(b10))}catch(f10){this.raise_nodejs_error(f10,c10)}},F.prototype.stat=function(a10,b10){try{var c10=this.fs.statSync(this.nm(a10));return this.stats_from_js(c10)}catch(f10){this.raise_nodejs_error(f10,b10)}},F.prototype.lstat=function(a10,b10){try{var c10=this.fs.lstatSync(this.nm(a10));return this.stats_from_js(c10)}catch(f10){this.raise_nodejs_error(f10,b10)}},F.prototype.symlink=function(a10,b10,c10,d10){try{return this.fs.symlinkSync(this.nm(b10),this.nm(c10),a10?"dir":"file"),0}catch(f10){this.raise_nodejs_error(f10,d10)}},F.prototype.readlink=function(a10,b10){try{var c10=this.fs.readlinkSync(this.nm(a10),"utf8");return ag(c10)}catch(f10){this.raise_nodejs_error(f10,b10)}},F.prototype.opendir=function(a10,b10){try{return this.fs.opendirSync(this.nm(a10))}catch(f10){this.raise_nodejs_error(f10,b10)}},F.prototype.raise_nodejs_error=function(a10,b10){var c10=bj(d5);if(b10&&c10){var d10=a3(a10.code,a10.syscall,a10.path,a10.errno);a2(c10,d10)}else l(a10.toString())},F.prototype.stats_from_js=function(a10){var b10;return a10.isFile()?b10=0:a10.isDirectory()?b10=1:a10.isCharacterDevice()?b10=2:a10.isBlockDevice()?b10=3:a10.isSymbolicLink()?b10=4:a10.isFIFO()?b10=5:a10.isSocket()&&(b10=6),[0,a10.dev,a10.ino,b10,a10.mode,a10.nlink,a10.uid,a10.gid,a10.rdev,a10.size,a10.atimeMs,a10.mtimeMs,a10.ctimeMs]},F.prototype.constructor=F;function lO(a10){var b10=g0(a10);if(b10)return b10[0]+aY}var ei=lO(cU)||V("unable to compute caml_root"),b8=[];cZ()?b8.push({path:ei,device:new F(ei)}):b8.push({path:ei,device:new N(ei)}),b8.push({path:lo,device:new N(lo)});function mh(a10){for(var g10=BA(a10),a10=g10.join(aY),f10=ma(a10),c10,e10=0;e10<b8.length;e10++){var b10=b8[e10];f10.search(b10.path)===0&&(!c10||c10.path.length<b10.path.length)&&(c10={path:b10.path,device:b10.device,rest:a10.slice(b10.path.length,a10.length)})}if(!c10&&cZ()){var d10=lO(a10);if(d10&&d10.match(/^[a-zA-Z]:\/$/)){var b10={path:d10,device:new F(d10)};b8.push(b10),c10={path:b10.path,device:b10.device,rest:a10.slice(b10.path.length,a10.length)}}}if(c10)return c10;l("no device found for "+f10)}function A1(a10,b10){var c10=mh(a10);return c10.device.register||V("cannot register file"),c10.device.register(c10.rest,b10),0}function md(a10,b10){var a10=a10,b10=b10;return A1(a10,b10)}function A8(){var b10=c.jsoo_fs_tmp;if(b10)for(var a10=0;a10<b10.length;a10++)md(b10[a10].name,b10[a10].content);return c.jsoo_create_file=md,c.jsoo_fs_tmp=[],0}function A9(){return[0]}function lN(){return[0]}function gK(a10,b10){var e10=b10.length,c10,d10;for(c10=0;c10+4<=e10;c10+=4)d10=b10.charCodeAt(c10)|b10.charCodeAt(c10+1)<<8|b10.charCodeAt(c10+2)<<16|b10.charCodeAt(c10+3)<<24,a10=W(a10,d10);switch(d10=0,e10&3){case 3:d10=b10.charCodeAt(c10+2)<<16;case 2:d10|=b10.charCodeAt(c10+1)<<8;case 1:d10|=b10.charCodeAt(c10),a10=W(a10,d10)}return a10^=e10,a10}function Bd(a10,b10){return gK(a10,b10)}function Ba(a10,b10){var e10=b10.length,c10,d10;for(c10=0;c10+4<=e10;c10+=4)d10=b10[c10]|b10[c10+1]<<8|b10[c10+2]<<16|b10[c10+3]<<24,a10=W(a10,d10);switch(d10=0,e10&3){case 3:d10=b10[c10+2]<<16;case 2:d10|=b10[c10+1]<<8;case 1:d10|=b10[c10],a10=W(a10,d10)}return a10^=e10,a10}function BD(a10){switch(a10.t&6){case 2:return cT(a10),a10.c;default:return a10.c}}function A$(a10,b10){var c10=BD(b10);return typeof c10=="string"?gK(a10,c10):Ba(a10,c10)}function Bb(a10){return a10^=a10>>>16,a10=cX(a10,-2048144789),a10^=a10>>>13,a10=cX(a10,-1028477387),a10^=a10>>>16,a10}function A_(a10,b10,c10,d10){var j10,k10,l10,h10,g10,f10,e10,i10,m10;for(h10=b10,(h10<0||h10>cJ)&&(h10=cJ),g10=a10,f10=c10,j10=[d10],k10=0,l10=1;k10<l10&&g10>0;)if(e10=j10[k10++],e10&&e10.caml_custom){if(cV[e10.caml_custom]&&cV[e10.caml_custom].hash){var n10=cV[e10.caml_custom].hash(e10);f10=W(f10,n10),g10--}}else if(Array.isArray(e10)&&e10[0]===(e10[0]|0))switch(e10[0]){case 248:f10=W(f10,e10[2]),g10--;break;case 250:j10[--k10]=e10[1];break;default:if(lY(e10[0]))break;var o10=e10.length-1<<10|e10[0];for(f10=W(f10,o10),i10=1,m10=e10.length;i10<m10&&!(l10>=h10);i10++)j10[l10++]=e10[i10];break}else ed(e10)?(f10=A$(f10,e10),g10--):ee(e10)?(f10=Bd(f10,e10),g10--):typeof e10=="string"?(f10=gK(f10,e10),g10--):e10===(e10|0)?(f10=W(f10,e10+e10+1),g10--):typeof e10=="number"&&(f10=gJ(f10,e10),g10--);return f10=Bb(f10),f10&1073741823}function Be(a10,b10,c10){if(!Number.isFinite(a10))return Number.isNaN(a10)?ag(f_):ag(a10>0?kk:"-infinity");var k10=a10===0&&1/a10===Number.NEGATIVE_INFINITY?1:a10>=0?0:1;k10&&(a10=-a10);var f10=0;if(a10!==0)if(a10<1)for(;a10<1&&f10>-1022;)a10*=2,f10--;else for(;a10>=2;)a10/=2,f10++;var l10=f10<0?e:b5,g10=e;if(k10)g10=bw;else switch(c10){case 43:g10=b5;break;case 32:g10=aH;break;default:break}if(b10>=0&&b10<13){var i10=Math.pow(2,b10*4);a10=Math.round(a10*i10)/i10}var d10=a10.toString(16);if(b10>=0){var j10=d10.indexOf(bd);if(j10<0)d10+=bd+b7(b10,af);else{var h10=j10+1+b10;d10.length<h10?d10+=b7(h10-d10.length,af):d10=d10.slice(0,h10)}}return ag(g10+k3+d10+"p"+l10+f10.toString(10))}function Bg(a10){var b10=bD(a10);return bC([b10[7],b10[6],b10[5],b10[4],b10[3],b10[2],b10[1],b10[0]])}function Bm(a10){return+a10.isZero()}function cW(a10){return new d(a10&aG,a10>>24&aG,a10>>31&aB)}function lV(a10){return a10.toInt()}function Bl(a10){return+a10.isNeg()}function lR(a10){return a10.neg()}function Bj(a10,b10){var c10=gV(a10);c10.signedconv&&Bl(b10)&&(c10.sign=-1,b10=lR(b10));var d10=e,i10=cW(c10.base),h10="0123456789abcdef";do{var g10=b10.udivmod(i10);b10=g10.quotient,d10=h10.charAt(lV(g10.modulus))+d10}while(!Bm(b10));if(c10.prec>=0){c10.filler=aH;var f10=c10.prec-d10.length;f10>0&&(d10=b7(f10,af)+d10)}return gH(c10,d10)}function lU(a10,b10){return a10.or(b10)}function l6(a10){var b10=0,f10=n(a10),d10=10,e10=1,c10=1;if(f10>0)switch(_(a10,b10)){case 45:b10++,e10=-1;break;case 43:b10++,e10=1;break}if(b10+1<f10&&_(a10,b10)===48)switch(_(a10,b10+1)){case 120:case 88:c10=0,d10=16,b10+=2;break;case 111:case 79:c10=0,d10=8,b10+=2;break;case 98:case 66:c10=0,d10=2,b10+=2;break;case 117:case 85:c10=0,b10+=2;break}return[b10,e10,d10,c10]}function eg(a10){return a10>=48&&a10<=57?a10-48:a10>=65&&a10<=90?a10-55:a10>=97&&a10<=122?a10-87:-1}function lX(a10){var f10=l6(a10),d10=f10[0],i10=f10[1],g10=f10[2],j10=f10[3],h10=n(a10),k10=-1>>>0,e10=d10<h10?_(a10,d10):0,c10=eg(e10);(c10<0||c10>=g10)&&V(aZ);var b10=c10;for(d10++;d10<h10;d10++)if(e10=_(a10,d10),e10!==95){if(c10=eg(e10),c10<0||c10>=g10)break;b10=g10*b10+c10,b10>k10&&V(aZ)}return d10!==h10&&V(aZ),b10=i10*b10,j10&&(b10|0)!==b10&&V(aZ),b10|0}function ef(a10,b10,c10){return a10[H(b10)].apply(a10,gR(c10))}function lZ(a10,b10){switch(b10.length){case 1:return new a10;case 2:return new a10(b10[1]);case 3:return new a10(b10[1],b10[2]);case 4:return new a10(b10[1],b10[2],b10[3]);case 5:return new a10(b10[1],b10[2],b10[3],b10[4]);case 6:return new a10(b10[1],b10[2],b10[3],b10[4],b10[5]);case 7:return new a10(b10[1],b10[2],b10[3],b10[4],b10[5],b10[6]);case 8:return new a10(b10[1],b10[2],b10[3],b10[4],b10[5],b10[6],b10[7])}function c10(){return a10.apply(this,gR(b10))}return c10.prototype=a10.prototype,new c10}function gS(a10){for(var c10={},b10=1;b10<a10.length;b10++){var d10=a10[b10];c10[H(d10[1])]=d10[2]}return c10}function Bt(a10){var d10=a10.length,c10=new Array(d10+1);c10[0]=0;for(var b10=0;b10<d10;b10++)c10[b10+1]=a10[b10];return c10}var d9=bh;function bE(a10,b10){return function(){for(var f10=arguments.length,d10=new Array(a10),e10=Math.min(arguments.length,a10),c10=0;c10<e10;c10++)d10[c10]=arguments[c10];return d9(b10,d10)}}function gU(a10,b10,c10){return a10[0]===b10?(a10[0]=c10,1):0}function Bu(a10){return gU(a10,d4,dW),0}function Bv(a10){return Array.isArray(a10)&&a10[0]===a10[0]>>>0&&gU(a10,dW,d4)?0:1}function l0(a10){return gU(a10,d4,cH),0}function Bw(a10,b10){return+(d_(a10,b10,!1)<0)}function Bx(a10){for(var b10=[];a10!==0;a10=a10[2])b10.push(a10[1]);return b10}function lP(a10,b10){return a10.add(b10)}function lQ(a10,b10){return a10.mul(b10)}function gQ(a10,b10){return a10.ucompare(b10)<0}function lS(a10){var g10=l6(a10),f10=g10[0],j10=g10[1],h10=g10[2],k10=g10[3],i10=cW(h10),l10=new d(aG,268435455,aB).udivmod(i10).quotient,e10=_(a10,f10),b10=eg(e10);(b10<0||b10>=h10)&&V(aZ);for(var c10=cW(b10);;)if(f10++,e10=_(a10,f10),e10!==95){if(b10=eg(e10),b10<0||b10>=h10)break;gQ(l10,c10)&&V(aZ),b10=cW(b10),c10=lP(lQ(i10,c10),b10),gQ(c10,b10)&&V(aZ)}return f10!==n(a10)&&V(aZ),k10&&gQ(new d(0,0,aA),c10)&&V(aZ),j10<0&&(c10=lR(c10)),c10}var Bz=lS(ag("0xdaba0b6eb09322e3")),By=lS(ag("0xd1342543de82ef95"));function AU(a10,b10){return a10.get(a10.offset(b10))}function Br(a10,b10){return a10.xor(b10)}function Bp(a10,b10){return a10.shift_right_unsigned(b10)}function Bo(a10,b10){return a10.shift_left(b10)}function l1(a10){function o10(a11,b11){return Bo(a11,b11)}function h10(a11,b11){return Bp(a11,b11)}function s10(a11,b11){return lU(a11,b11)}function f10(a11,b11){return Br(a11,b11)}function k10(a11,b11){return lP(a11,b11)}function i10(a11,b11){return lQ(a11,b11)}function m10(a11,b11){return s10(o10(a11,b11),h10(a11,64-b11))}function g10(a11,b11){return AU(a11,b11)}function j10(a11,b11,c11){return cQ(a11,b11,c11)}var q10=By,l10=Bz,b10,d10,c10,e10=a10,r10=g10(e10,0),n10=g10(e10,1),p10=g10(e10,2),t10=g10(e10,3);b10=k10(n10,p10),b10=i10(f10(b10,h10(b10,32)),l10),b10=i10(f10(b10,h10(b10,32)),l10),b10=f10(b10,h10(b10,32)),j10(e10,1,k10(i10(n10,q10),r10));var d10=p10,c10=t10;return c10=f10(c10,d10),d10=m10(d10,24),d10=f10(f10(d10,c10),o10(c10,16)),c10=m10(c10,37),j10(e10,2,d10),j10(e10,3,c10),b10}function AP(a10,b10){a10<0&&cP();var a10=a10+1|0,c10=new Array(a10);c10[0]=0;for(var d10=1;d10<a10;d10++)c10[d10]=b10;return c10}function ap(a10,b10){return AP(a10,b10)}function AM(){var a10=new ArrayBuffer(64),b10=new Uint32Array(a10),c10=new Uint8Array(a10);return{len:0,w:new Uint32Array([1732584193,4023233417,2562383102,271733878]),b32:b10,b8:c10}}var d6=function(){function k10(a10,b10){return a10+b10|0}function l10(a10,b10,c10,d10,e10,f10){return b10=k10(k10(b10,a10),k10(d10,f10)),k10(b10<<e10|b10>>>32-e10,c10)}function g10(a10,b10,c10,d10,e10,f10,g11){return l10(b10&c10|~b10&d10,a10,b10,e10,f10,g11)}function h10(a10,b10,c10,d10,e10,f10,g11){return l10(b10&d10|c10&~d10,a10,b10,e10,f10,g11)}function i10(a10,b10,c10,d10,e10,f10,g11){return l10(b10^c10^d10,a10,b10,e10,f10,g11)}function j10(a10,b10,c10,d10,e10,f10,g11){return l10(c10^(b10|~d10),a10,b10,e10,f10,g11)}return function(a10,b10){var c10=a10[0],d10=a10[1],e10=a10[2],f10=a10[3];c10=g10(c10,d10,e10,f10,b10[0],7,3614090360),f10=g10(f10,c10,d10,e10,b10[1],12,3905402710),e10=g10(e10,f10,c10,d10,b10[2],17,606105819),d10=g10(d10,e10,f10,c10,b10[3],22,3250441966),c10=g10(c10,d10,e10,f10,b10[4],7,4118548399),f10=g10(f10,c10,d10,e10,b10[5],12,1200080426),e10=g10(e10,f10,c10,d10,b10[6],17,2821735955),d10=g10(d10,e10,f10,c10,b10[7],22,4249261313),c10=g10(c10,d10,e10,f10,b10[8],7,1770035416),f10=g10(f10,c10,d10,e10,b10[9],12,2336552879),e10=g10(e10,f10,c10,d10,b10[10],17,4294925233),d10=g10(d10,e10,f10,c10,b10[11],22,2304563134),c10=g10(c10,d10,e10,f10,b10[12],7,1804603682),f10=g10(f10,c10,d10,e10,b10[13],12,4254626195),e10=g10(e10,f10,c10,d10,b10[14],17,2792965006),d10=g10(d10,e10,f10,c10,b10[15],22,1236535329),c10=h10(c10,d10,e10,f10,b10[1],5,4129170786),f10=h10(f10,c10,d10,e10,b10[6],9,3225465664),e10=h10(e10,f10,c10,d10,b10[11],14,643717713),d10=h10(d10,e10,f10,c10,b10[0],20,3921069994),c10=h10(c10,d10,e10,f10,b10[5],5,3593408605),f10=h10(f10,c10,d10,e10,b10[10],9,38016083),e10=h10(e10,f10,c10,d10,b10[15],14,3634488961),d10=h10(d10,e10,f10,c10,b10[4],20,3889429448),c10=h10(c10,d10,e10,f10,b10[9],5,568446438),f10=h10(f10,c10,d10,e10,b10[14],9,3275163606),e10=h10(e10,f10,c10,d10,b10[3],14,4107603335),d10=h10(d10,e10,f10,c10,b10[8],20,1163531501),c10=h10(c10,d10,e10,f10,b10[13],5,2850285829),f10=h10(f10,c10,d10,e10,b10[2],9,4243563512),e10=h10(e10,f10,c10,d10,b10[7],14,1735328473),d10=h10(d10,e10,f10,c10,b10[12],20,2368359562),c10=i10(c10,d10,e10,f10,b10[5],4,4294588738),f10=i10(f10,c10,d10,e10,b10[8],11,2272392833),e10=i10(e10,f10,c10,d10,b10[11],16,1839030562),d10=i10(d10,e10,f10,c10,b10[14],23,4259657740),c10=i10(c10,d10,e10,f10,b10[1],4,2763975236),f10=i10(f10,c10,d10,e10,b10[4],11,1272893353),e10=i10(e10,f10,c10,d10,b10[7],16,4139469664),d10=i10(d10,e10,f10,c10,b10[10],23,3200236656),c10=i10(c10,d10,e10,f10,b10[13],4,681279174),f10=i10(f10,c10,d10,e10,b10[0],11,3936430074),e10=i10(e10,f10,c10,d10,b10[3],16,3572445317),d10=i10(d10,e10,f10,c10,b10[6],23,76029189),c10=i10(c10,d10,e10,f10,b10[9],4,3654602809),f10=i10(f10,c10,d10,e10,b10[12],11,3873151461),e10=i10(e10,f10,c10,d10,b10[15],16,530742520),d10=i10(d10,e10,f10,c10,b10[2],23,3299628645),c10=j10(c10,d10,e10,f10,b10[0],6,4096336452),f10=j10(f10,c10,d10,e10,b10[7],10,1126891415),e10=j10(e10,f10,c10,d10,b10[14],15,2878612391),d10=j10(d10,e10,f10,c10,b10[5],21,4237533241),c10=j10(c10,d10,e10,f10,b10[12],6,1700485571),f10=j10(f10,c10,d10,e10,b10[3],10,2399980690),e10=j10(e10,f10,c10,d10,b10[10],15,4293915773),d10=j10(d10,e10,f10,c10,b10[1],21,2240044497),c10=j10(c10,d10,e10,f10,b10[8],6,1873313359),f10=j10(f10,c10,d10,e10,b10[15],10,4264355552),e10=j10(e10,f10,c10,d10,b10[6],15,2734768916),d10=j10(d10,e10,f10,c10,b10[13],21,1309151649),c10=j10(c10,d10,e10,f10,b10[4],6,4149444226),f10=j10(f10,c10,d10,e10,b10[11],10,3174756917),e10=j10(e10,f10,c10,d10,b10[2],15,718787259),d10=j10(d10,e10,f10,c10,b10[9],21,3951481745),a10[0]=k10(c10,a10[0]),a10[1]=k10(d10,a10[1]),a10[2]=k10(e10,a10[2]),a10[3]=k10(f10,a10[3])}}();function AN(a10,b10,c10){var e10=a10.len&be,d10=0;if(a10.len+=c10,e10){var f10=64-e10;if(c10<f10){a10.b8.set(b10.subarray(0,c10),e10);return}a10.b8.set(b10.subarray(0,f10),e10),d6(a10.w,a10.b32),c10-=f10,d10+=f10}for(;c10>=64;)a10.b8.set(b10.subarray(d10,d10+64),0),d6(a10.w,a10.b32),c10-=64,d10+=64;c10&&a10.b8.set(b10.subarray(d10,d10+c10),0)}function AL(a10){var c10=a10.len&be;if(a10.b8[c10]=at,c10++,c10>56){for(var b10=c10;b10<64;b10++)a10.b8[b10]=0;d6(a10.w,a10.b32);for(var b10=0;b10<56;b10++)a10.b8[b10]=0}else for(var b10=c10;b10<56;b10++)a10.b8[b10]=0;a10.b32[14]=a10.len<<3,a10.b32[15]=a10.len>>29&536870911,d6(a10.w,a10.b32);for(var e10=new Uint8Array(16),d10=0;d10<4;d10++)for(var b10=0;b10<4;b10++)e10[d10*4+b10]=a10.w[d10]>>8*b10&aK;return e10}function BR(a10){return cY(a10,0,a10.length)}function BB(a10,b10,c10){var d10=AM(),e10=gY(a10);return AN(d10,e10.subarray(b10,b10+c10),c10),BR(AL(d10))}function BC2(a10,b10,c10){return BB(bg(a10),b10,c10)}function BE(){return 0}var bi=new Array;function l2(a10){return bi[a10]}function bF(a10){var b10=l2(a10);return b10.opened||l("Cannot flush a closed channel"),!b10.buffer||b10.buffer_curr===0||(b10.output?b10.output(cY(b10.buffer,0,b10.buffer_curr)):b10.file.write(b10.offset,b10.buffer,0,b10.buffer_curr),b10.offset+=b10.buffer_curr,b10.buffer_curr=0),0}function BT(a10,b10){if(b10.name)try{var d10=__require(gi),c10=d10.openSync(b10.name,"rs");return new aC(c10,b10)}catch{}return new aC(a10,b10)}var ek=new Array(3);function cO(a10,b10){Z.call(this,C(0)),this.log=function(a11){return 0},a10===1&&typeof console.log=="function"?this.log=console.log:a10===2&&typeof console.error=="function"?this.log=console.error:typeof console.log=="function"&&(this.log=console.log),this.flags=b10}cO.prototype.length=function(){return 0},cO.prototype.write=function(a10,b10,c10,d10){if(this.log){d10>0&&c10>=0&&c10+d10<=b10.length&&b10[c10+d10-1]===10&&d10--;var e10=C(d10);return a1(gF(b10),c10,e10,0,d10),this.log(e10.toUtf16()),0}l(this.fd+kS)},cO.prototype.read=function(a10,b10,c10,d10){l(this.fd+": file descriptor is write only")},cO.prototype.close=function(){this.log=void 0};function el(a10,b10){return b10===void 0&&(b10=ek.length),ek[b10]=a10,b10|0}function B8(a10,b10,c10){for(var d10={};b10;){switch(b10[1]){case 0:d10.rdonly=1;break;case 1:d10.wronly=1;break;case 2:d10.append=1;break;case 3:d10.create=1;break;case 4:d10.truncate=1;break;case 5:d10.excl=1;break;case 6:d10.binary=1;break;case 7:d10.text=1;break;case 8:d10.nonblock=1;break}b10=b10[2]}d10.rdonly&&d10.wronly&&l(a10+gA),d10.text&&d10.binary&&l(a10+gl);var e10=mh(a10),f10=e10.device.open(e10.rest,d10);return el(f10,void 0)}(function(){function a10(a11,b10){return cZ()?BT(a11,b10):new cO(a11,b10)}el(a10(0,{rdonly:1,altname:"/dev/stdin",isCharacterDevice:!0}),0),el(a10(1,{buffered:2,wronly:1,isCharacterDevice:!0}),1),el(a10(2,{buffered:2,wronly:1,isCharacterDevice:!0}),2)})();function BF(a10){var b10=ek[a10];b10.flags.wronly&&l(ld+a10+" is writeonly");var d10=null,c10={file:b10,offset:b10.flags.append?b10.length():0,fd:a10,opened:!0,out:!1,buffer_curr:0,buffer_max:0,buffer:new Uint8Array(kl),refill:d10};return bi[c10.fd]=c10,c10.fd}function l3(a10){var b10=ek[a10];b10.flags.rdonly&&l(ld+a10+" is readonly");var d10=b10.flags.buffered!==void 0?b10.flags.buffered:1,c10={file:b10,offset:b10.flags.append?b10.length():0,fd:a10,opened:!0,out:!0,buffer_curr:0,buffer:new Uint8Array(kl),buffered:d10};return bi[c10.fd]=c10,c10.fd}function BG(){for(var b10=0,a10=0;a10<bi.length;a10++)bi[a10]&&bi[a10].opened&&bi[a10].out&&(b10=[0,bi[a10].fd,b10]);return b10}function BI(a10,b10,c10,d10){var e10=l2(a10);if(e10.opened||l("Cannot output to a closed channel"),b10=b10.subarray(c10,c10+d10),e10.buffer_curr+b10.length>e10.buffer.length){var g10=new Uint8Array(e10.buffer_curr+b10.length);g10.set(e10.buffer),e10.buffer=g10}switch(e10.buffered){case 0:e10.buffer.set(b10,e10.buffer_curr),e10.buffer_curr+=b10.length,bF(a10);break;case 1:e10.buffer.set(b10,e10.buffer_curr),e10.buffer_curr+=b10.length,e10.buffer_curr>=e10.buffer.length&&bF(a10);break;case 2:var f10=b10.lastIndexOf(10);f10<0?(e10.buffer.set(b10,e10.buffer_curr),e10.buffer_curr+=b10.length,e10.buffer_curr>=e10.buffer.length&&bF(a10)):(e10.buffer.set(b10.subarray(0,f10+1),e10.buffer_curr),e10.buffer_curr+=f10+1,bF(a10),e10.buffer.set(b10.subarray(f10+1),e10.buffer_curr),e10.buffer_curr+=b10.length-f10-1);break}return 0}function BH(a10,b10,c10,d10){var b10=gY(b10);return BI(a10,b10,c10,d10)}function gT(a10,b10,c10,d10){return BH(a10,bg(b10),c10,d10)}function l4(a10,b10){var c10=String.fromCharCode(b10);return gT(a10,c10,0,1),0}function bG(a10,b10){return+(d_(a10,b10,!1)!==0)}function BK(a10,b10){var d10=new Array(b10+1);d10[0]=a10;for(var c10=1;c10<=b10;c10++)d10[c10]=0;return d10}function bH(a10){return Array.isArray(a10)&&a10[0]===a10[0]>>>0?a10[0]:ed(a10)||ee(a10)?d2:a10 instanceof Function||typeof a10=="function"?247:a10&&a10.caml_custom?k9:cM}var mg=void 0;function AV(a10){var d10={},c10=-1;if(a10)for(var b10=1;b10<a10.length;b10++){var e10=a10[b10][2];c10=Math.max(c10,e10),d10[H(a10[b10][1])]=e10}return d10.next_idx=c10+1,d10}function aw(a10,b10,c10){if(c10){var d10=c10;if(mg)a10=d9(mg,[d10]);else if(O.symbols){O.symidx||(O.symidx=AV(O.symbols));var e10=O.symidx[d10];if(e10>=0)a10=e10;else{var a10=O.symidx.next_idx++;O.symidx[d10]=a10}}}O[a10+1]=b10,c10&&(O[c10]=b10)}function gX(a10,b10){return l5[a10]=b10,0}function BQ(){G(f8)}function D(a10,b10){return b10>>>0>=n(a10)&&BQ(),_(a10,b10)}function ej(a10){return a10.t&6&&cT(a10),a10.c}function BS(){return 2147483647/4|0}function BM(){l7(O.Not_found)}function l$(a10){var b10=mf(H(a10));return b10===void 0&&BM(),ag(b10)}function BU(){if(c.crypto){if(c.crypto.getRandomValues){var a10=c.crypto.getRandomValues(new Int32Array(4));return[0,a10[0],a10[1],a10[2],a10[3]]}else if(c.crypto.randomBytes){var a10=new Int32Array(c.crypto.randomBytes(16).buffer);return[0,a10[0],a10[1],a10[2],a10[3]]}}var b10=new Date().getTime(),d10=b10^4294967295*Math.random();return[0,d10]}function bI(a10){for(var b10=1;a10&&a10.joo_tramp;)a10=a10.joo_tramp.apply(null,a10.joo_args),b10++;return a10}function p(a10,b10){return{joo_tramp:a10,joo_args:b10}}function mb(a10,b10){if(b10.fun)return a10.fun=b10.fun,0;if(typeof b10=="function")return a10.fun=b10,0;for(var c10=b10.length;c10--;)a10[c10]=b10[c10];return 0}function P(a10){{if(Array.isArray(a10))return a10;var b10;return c.RangeError&&a10 instanceof c.RangeError&&a10.message&&a10.message.match(/maximum call stack/i)||c.InternalError&&a10 instanceof c.InternalError&&a10.message&&a10.message.match(/too much recursion/i)?b10=O.Stack_overflow:a10 instanceof c.Error&&bj(gc)?b10=[0,bj(gc),a10]:b10=[0,O.Failure,ag(String(a10))],a10 instanceof c.Error&&(b10.js_error=a10),b10}}function BW(){return init_awareness(),__toCommonJS(awareness_exports)}function BX(){return(init_y_indexeddb(),__toCommonJS(y_indexeddb_exports)).IndexeddbPersistence}function BY(){return(init_quill2(),__toCommonJS(quill_exports)).default}function BZ(){return require_quill_cursors()}function B0(){return(init_y_webrtc(),__toCommonJS(y_webrtc_exports)).WebrtcProvider}function B1(){return init_y_quill(),__toCommonJS(y_quill_exports)}function B2(){return init_yjs(),__toCommonJS(yjs_exports)}function Bs(a10){switch(a10[2]){case-8:case-11:case-12:return 1;default:return 0}}function A7(a10){var b10=e;if(a10[0]===0){if(b10+=a10[1][1],a10.length===3&&a10[2][0]===0&&Bs(a10[1]))var f10=a10[2],g10=1;else var g10=2,f10=a10;b10+="(";for(var d10=g10;d10<f10.length;d10++){d10>g10&&(b10+=kW);var c10=f10[d10];typeof c10=="number"?b10+=c10.toString():c10 instanceof a0||typeof c10=="string"?b10+=d1+c10.toString()+d1:b10+=lq}b10+=")"}else a10[0]===r&&(b10+=a10[1]);return b10}function lM(a10){if(Array.isArray(a10)&&(a10[0]===0||a10[0]===r)){var c10=bj(ls);if(c10)d9(c10,[a10,!1]);else{var d10=A7(a10),b10=bj(le);if(b10&&d9(b10,[0]),console.error(gd+d10),a10.js_error)throw a10.js_error}}else throw a10}function BP(){var d10=c.process;d10&&d10.on?d10.on("uncaughtException",function(a10,b10){lM(a10),d10.exit(2)}):c.addEventListener&&c.addEventListener(kU,function(a10){a10.error&&lM(a10.error)})}BP();function h(a10,b10){return(a10.l>=0?a10.l:a10.l=a10.length)===1?a10(b10):bh(a10,[b10])}function i(a10,b10,c10){return(a10.l>=0?a10.l:a10.l=a10.length)===2?a10(b10,c10):bh(a10,[b10,c10])}function x(a10,b10,c10,d10){return(a10.l>=0?a10.l:a10.l=a10.length)===3?a10(b10,c10,d10):bh(a10,[b10,c10,d10])}function f4(a10,b10,c10,d10,e10,f10){return(a10.l>=0?a10.l:a10.l=a10.length)===5?a10(b10,c10,d10,e10,f10):bh(a10,[b10,c10,d10,e10,f10])}function AK(a10,b10,c10,d10,e10,f10,g10,h10){return(a10.l>=0?a10.l:a10.l=a10.length)===7?a10(b10,c10,d10,e10,f10,g10,h10):bh(a10,[b10,c10,d10,e10,f10,g10,h10])}var B7=0;A8();var em=[r,lw,-1],g3=[r,kh,-2],b_=[r,gB,-3],b9=[r,j9,-4],a5=[r,k0,-7],g1=[r,lu,-8],g2=[r,kv,-9],f=[r,kA,-11],b$=[r,kH,-12],AJ=[4,0,0,0,[12,45,[4,0,0,0,0]]],eN=[0,[11,'File "',[2,0,[11,'", line ',[4,0,0,0,[11,lv,[4,0,0,0,[12,45,[4,0,0,0,[11,kL,[2,0,0]]]]]]]]]],'File "%s", line %d, characters %d-%d: %s'],jK=gz,bu="content",jQ="columns",jR="rows",fY=kc,fZ=gz,jS=bx,jT="page_content";aw(11,b$,kH),aw(10,f,kA),aw(9,[r,kC,-10],kC),aw(8,g2,kv),aw(7,g1,lu),aw(6,a5,k0),aw(5,[r,k_,-6],k_),aw(4,[r,kn,-5],kn),aw(3,b9,j9),aw(2,b_,gB),aw(1,g3,kh),aw(0,em,lw);var ms="output_substring",mo=bd,mk="true",ml="false",mx="CamlinternalLazy.Undefined",mD="option is None",mG="\\\\",mH="\\'",mI="\\b",mJ="\\t",mK="\\n",mL="\\r",mU="List.init",mQ="hd",m$="String.blit / Bytes.blit_string",m_="Bytes.blit",m9="String.sub / Bytes.sub",nk="String.contains_from / Bytes.contains_from",nq="Array.blit",np="Array.sub",nn="Array.init",nx=[0,"set.ml",lc,18],nt=dX,nu=dX,nv=dX,nw=dX,nA=d0,nB=d0,nC=d0,nD=d0,nE="Stdlib.Stack.Empty",nI="Stdlib.Queue.Empty",nR="Buffer.add_substring/add_subbytes",nP="Buffer.add: cannot grow buffer",nN="Buffer.sub",nY="first domain already spawned",nV=[0,"domain.ml",184,13],n9="%c",n_="%s",n$=k4,oa=j6,ob=ly,oc=kY,od="%f",oe="%B",of="%{",og="%}",oh="%(",oi="%)",oj="%a",ok="%t",ol="%?",om="%r",on="%_r",oo=[0,L,850,23],oz=[0,L,814,21],or=[0,L,815,21],oA=[0,L,818,21],os=[0,L,819,21],oB=[0,L,822,19],ot=[0,L,823,19],oC=[0,L,826,22],ou=[0,L,827,22],oD=[0,L,831,30],ov=[0,L,832,30],ox=[0,L,836,26],op=[0,L,837,26],oy=[0,L,846,28],oq=[0,L,847,28],ow=[0,L,851,23],pP=[0,L,1558,4],pQ="Printf: bad conversion %[",pR=[0,L,1626,39],pS=[0,L,1649,31],pT=[0,L,1650,31],pU="Printf: bad conversion %_",pV=kf,pW=kB,pX=kf,pY=kB,p2=[0,[11,"invalid box description ",[3,0,0]],"invalid box description %S"],p1=[0,0,4],pK=f_,pI="neg_infinity",pJ=kk,pH=bd,pC=[0,jZ],pq="%+nd",pr="% nd",pt="%+ni",pu="% ni",pv="%nx",pw="%#nx",px="%nX",py="%#nX",pz="%no",pA="%#no",pp="%nd",ps=ly,pB="%nu",pc="%+ld",pd="% ld",pf="%+li",pg="% li",ph="%lx",pi="%#lx",pj="%lX",pk="%#lX",pl="%lo",pm="%#lo",pb="%ld",pe=j6,pn="%lu",o0="%+Ld",o1="% Ld",o3="%+Li",o4="% Li",o5="%Lx",o6="%#Lx",o7="%LX",o8="%#LX",o9="%Lo",o_="%#Lo",oZ="%Ld",o2=kY,o$="%Lu",oM="%+d",oN="% d",oP="%+i",oQ="% i",oR="%x",oS="%#x",oT="%X",oU="%#X",oV="%o",oW="%#o",oL=f7,oO=k4,oX=kq,n1="@]",n2="@}",n3="@?",n4=`@
`,n5="@.",n6="@@",n7="@%",n8="@",oE="CamlinternalFormat.Type_mismatch",p7=e,p8=[0,[11,kW,[2,0,[2,0,0]]],", %s%s"],qI=[0,[11,gd,[2,0,[12,10,0]]],ku],qJ=[0,[11,"Fatal error in uncaught exception handler: exception ",[2,0,[12,10,0]]],`Fatal error in uncaught exception handler: exception %s
`],qH="Fatal error: out of memory in uncaught exception handler",qE=[0,[11,gd,[2,0,[12,10,0]]],ku],qy=[0,[2,0,[12,10,0]],`%s
`],qz=[0,[11,ke,0],ke],qn="Raised at",qo="Re-raised at",qp="Raised by primitive operation at",qq="Called from",qr=[0,[12,32,[4,0,0,0,0]]," %d"],qv=[0,[11,"s ",[4,0,0,0,[12,45,[4,0,0,0,0]]]],"s %d-%d"],qs=" (inlined)",qu=e,qt=[0,[2,0,[12,32,[2,0,[11,' in file "',[2,0,[12,34,[2,0,[11,", line",[2,0,[11,lv,AJ]]]]]]]]]],'%s %s in file "%s"%s, line%s, characters %d-%d'],qw=[0,[2,0,[11," unknown location",0]],"%s unknown location"],qg="Out of memory",qh="Stack overflow",qi="Pattern matching failed",qj="Assertion failed",qk="Undefined recursive module",p_=[0,[12,40,[2,0,[2,0,[12,41,0]]]],"(%s%s)"],p$=e,qa=e,qb=[0,[12,40,[2,0,[12,41,0]]],"(%s)"],p6=[0,[4,0,0,0,0],f7],p4=[0,[3,0,0],"%S"],p5=lq,qB=[0,e,`(Cannot print locations:
 bytecode executable program file not found)`,`(Cannot print locations:
 bytecode executable program file appears to be corrupt)`,`(Cannot print locations:
 bytecode executable program file has wrong magic number)`,`(Cannot print locations:
 bytecode executable program file cannot be opened;
 -- too many open files. Try running with OCAMLRUNPARAM=b=2)`],qN="Fun.Finally_raised: ",qL="Stdlib.Fun.Finally_raised",qO="Digest.BLAKE2: wrong hash size",qZ=ao(14371852,15349651,22696),q0=ao(12230193,11438743,35013),q1=ao(1424933,15549263,2083),q2=ao(9492471,4696708,43520),qR=ao(1,0,0),qS=ao(0,0,0),qV=ao(1,0,0),qT=ao(0,0,0),qU=ao(2,0,0),q_="Hashtbl: unsupported hash table format",q4=e,rQ=[3,0,3],rR=bd,rL=kD,rM="</",rN=e,rH=kD,rI="<",rJ=e,rF=`
`,rB=e,rC=e,rD=e,rE=e,ro=[0,e],rj=e,rk=e,rl=e,rm=e,rf=[0,e,0,e],rb="Stdlib.Format.String_tag",r0=[0,kp,72,5],r1=[0,kp,81,2],r2="CamlinternalMod.update_mod: not a module",rY="CamlinternalMod.init_mod: not a module",r3="Jsoo_runtime.Error.Exn",r4=gc,r8=[0,b,j5,10],r_=[0,b,179,10],sa=[0,b,191,10],sd=[0,b,lx,17],sm=[0,b,367,16],sn=[0,b,368,18],so=[0,b,372,15],sp=[0,b,377,15],sq=[0,b,383,15],sr=[0,b,386,10],ss=[0,b,362,16],st=[0,b,517,12],su=[0,b,459,14],sF=[0,b,686,27],sE=[0,b,651,27],sy=[0,b,560,16],sv=[0,b,550,23],sw=[0,b,k$,14],sl=[0,b,334,9],sh=[0,b,309,9],sg=[0,b,305,9],sf=[0,[11,`Lwd: unsafe mutation (variable invalidated during evaluation) at
`,[15,0]],`Lwd: unsafe mutation (variable invalidated during evaluation) at
%a`],sc=[0,b,j$,14],r$=[0,b,186,14],r9=[0,b,169,14],r7=[0,b,152,14],sz="Lwd.Release_failure",sN=[0,a,64,12],sX=[0,a,bv,21],s6=[0,a,205,18],s5=[0,a,lx,9],s8=[0,a,224,18],s7=[0,a,237,9],s9=[0,a,240,21],s_=[0,a,cH,21],s$=[0,a,260,21],tb=[0,a,296,14],tz=[0,a,kz,18],tA=[0,a,557,12],tB=[0,a,546,14],ty=[0,a,538,21],tw=[0,a,531,14],tv=[0,a,523,14],tt=[0,a,492,29],ts=[0,a,kE,29],tr=[0,a,462,21],tm=[0,a,420,10],tn=[0,a,423,15],to=[0,a,435,10],tp=[0,a,457,2],th=[0,a,371,24],ti=[0,a,391,16],tj=[0,a,394,2],te=[0,a,315,18],td=[0,a,317,9],s2=[0,a,193,4],s1=[0,a,j$,21],sZ=[0,a,j3,4],s0=[0,a,177,14],sU=[0,a,113,14],sS=[0,a,ka,14],sQ=[0,a,93,14],sO=[0,a,82,21],sM=[0,a,39,4],sL=[0,a,45,21],sJ=[0,a,32,14],t4=[0,Y,lc,12],tP=[0,Y,321,37],tQ=[0,Y,322,37],tS=[0,Y,346,10],tT=[0,Y,358,8],tR=[0,Y,337,37],tV=[0,Y,375,10],tW=[0,Y,384,8],tU=[0,Y,338,37],tZ=[0,Y,425,16],t2=[0,Y,513,50],t0=[0,Y,480,6],tY=[0,Y,395,14],tH=[0,Y,j3,57],tI=[0,Y,182,57],tJ=[0,Y,238,11],tC=ky,tD=ky,uQ="debug",uP="warn",uN=kU,uL="log",uU="isSecureContext",u$=[0,kd,233,16],u9=[0,kd,201,16],u4=[0,0,0],u2=[0,0,0],vG=e,vF=e,vv=[0,[0,T,li],0],vw=[0,[0,T,gh],[0,aI,0]],vx=[0,[0,T,gb],[0,aI,0]],vy=[0,[0,T,gn],[0,aI,0]],vz=[0,[0,T,ga],[0,aI,0]],vA=[0,[0,T,gw],[0,aI,0]],vB=[0,[0,T,ge],[0,aI,0]],vC=[0,[0,T,gv],[0,aI,0]],vD=[0,[0,T,li],[0,aI,0]],vm=[0,[0,T,gh],0],vn=[0,[0,T,gb],0],vo=[0,k6,0],vp=[0,[0,T,gn],0],vq=[0,[0,T,ga],0],vr=[0,[0,T,gw],0],vs=[0,[0,T,ge],0],vt=[0,aI,0],vu=[0,[0,T,gv],0],vk=[0,[11,"\x1B[",[4,0,0,0,[12,109,0]]],"\x1B[%dm"],vl="CCFormat.ANSI_codes.No_such_style",vH="CCFormat.Style",v5="content-box",v6="border-box",v7="device-pixel-content-box",wi=ks,wf=[0,[8,[0,0,0],0,0,[11,kI,0]],"%fpx"],wg=[0,[8,[0,0,0],0,0,[11,kr,0]],"%frem"],wh=[0,[8,[0,0,0],0,0,[11,kj,0]],"%fem"],wc=kI,wd=kr,we=kj,wl="Common.Utils.Forward_ref.Not_set",wn="Common.Utils.Forward_ref.Already_set",wr=[1,[0,3854881,"Failed to unmarshal data"]],wt=[1,-358247754],wD="TODO not implemented",wJ=[0,80,[0,"lwdui-controlled-scroll-wrapper"]],wK=[0,80,"lwdui-controlled-scroll-controls"],wL="Show playing",wP=j8,wN=e,wO=b4,wS=[0,80,b4],wQ=[0,[2,0,[11,"--id",0]],"%s--id"],wU=[0,[2,0,[11,"-id",0]],"%s-id"],wV=[0,80,kV],w7=[0,[11,kF,[2,0,0]],"height: %s"],w3=[0,[2,0,[12,32,[2,0,0]]],"%s %s"],w1="grid-template-columns",w2=[0,[2,0,[11,kL,[2,0,[12,59,0]]]],"%s: %s;"],w4=e,w8=[1,4],xb=[0,80,kT],w$=[0,[11,"height: calc(",[2,0,[11," * ",[4,3,0,0,[11,");",0]]]]],"height: calc(%s * %i);"],xa=[0,[11,kF,[2,0,[11," !important;",0]]],"height: %s !important;"],xc=[0,80,[0,"lwdui-lazy-table-content"]],xd=[0,80,[0,"lwdui-lazy-table-content-wrapper"]],xe=[0,"lwdui-lazy-table",0],xv=[0,[3,0,[11," is not a valid action",0]],"%S is not a valid action"],xn="retain",xo="insert",xp=k5,xq=[0,gs,72,22],xi=[0,[0,0,0,0,0,0,0]],xj=[0,gs,49,6],xk=[0,[0,0,[0,[0,0]],0,0,0,0,0,0]],xl=[0,gs,j5,6],xr=[0,[0,0,0,0,0,0,0]],xw=[0,[0,0,[0,[0,0]],0,0,0,0,0,0]],xJ="color",xK=bx,xM=bx,xL="user",xY="bcPeers",xZ="webrtcPeers",x0="removed",x1="added",xW="status",xX=lh,x2="peers",xV="awareness",xT=[0,[11,"stun:",[2,0,0]],"stun:%s"],xR="signaling",xS=[0,"stun.l.google.com:19302",[0,"stun2.l.google.com:19302",[0,"stun3.l.google.com:19302",[0,"stun4.l.google.com:19302",0]]]],xU="peerOpts",yc="toolbar",yb="cursors",ya="bubble",yd="snow",x6=kR,x7="italic",x8="underline",x9="strike",x_="link",yp=[0,[11,"vector length is ",[4,0,0,0,[11,", but data array has length ",[4,0,0,0,[11," (racy access?)",0]]]]],"vector length is %d, but data array has length %d (racy access?)"],yn=[0,[11,"index ",[4,0,0,0,[11," is out of range [0, ",[4,0,0,0,[12,41,0]]]]],"index %d is out of range [0, %d)"],yj=[0,[11,"invalid segment (ofs = ",[4,0,0,0,[11,", len = ",[4,0,0,0,[11,") in a sequence of length ",[4,0,0,0,0]]]]]],"invalid segment (ofs = %d, len = %d) in a sequence of length %d"],yC="XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",AA="tbl",AB=[0,"Create new table:",0],Aw=ks,Ax=[0,80,[0,dV]],Ay=[0,80,[0,kX]],Ar="Found",As=j0,At="1fr",Au="a",Aq=[2,5],Ao=[0,B,848,19],An=[0,80,"Add row"],Ag=[0,1],Af="Add map with id ",Ah=[0,1],Ak=e,Al=e,Ai=[0,bc,1],Aj=[0,bc,0],Am=[0,B,829,18],Ac=[0,B,777,25],Ab=e,Ad=[0,B,769,23],z$=k7,Aa="Form valid:",z4=[0,0,0],z5=[0,80,"Add column"],z6=[0,[0,cL,"String"],[0,[0,dZ,"Checkbox"],[0,[0,b4,"Richtext"],0]]],z7=[0,gz,cL,0],z8=[0,0],z9=[0,"demo"],z_=[0,1],z1="DELETE ROW",z2=j0,z0=[0,B,689,17],zV=[0,80,[0,gm]],zW=[0,[0,0,[0,1,[0,2,0]]]],zX=[0,1],zY=[0,0],zS=dR,zT=[0,80,[0,gm]],zN=k7,zO=" -> ",zM=[0,0],zK=[0,0],zL=[0,80,"Update"],zG=e,zH=e,zI=[0,80,[0,"cell-edit-btn"]],zJ="\xE2\x9C\x8F\xEF\xB8\x8F",zP=[0,80,[0,"cell-edit-overlay"]],zQ=[0,80,[0,gm]],zr="GET",zq=[0,B,479,17],zp=[0,B,494,11],zu=[0,B,509,19],zt=[0,B,519,13],zs=[0,B,kE,13],zv=[0,B,526,11],zB=[0,B,k$,19],zA=[0,B,539,19],zw=[0,B,532,13],zy=[0,B,548,15],zz=[0,B,552,15],zx=[0,B,kz,11],zD=e,zE=[0,B,565,17],zC=[0,B,568,11],zk=bx,zl=ki,ze="New column kind:",zc=[0,B,354,13],y_=dZ,y$=b4,za=dV,zb=cL,y6="Old value:",y7="Action: delete",y8="Key:",y9=[0,B,279,15],y5="On_change",y4=[0,B,204,22],y2="[blit v(%i) %i %i v'(%i)]",yZ=[0,B,147,18],yN=lf,yO="orange",yP=lj,yM="Received peers",yL="Received synced",yK="Received connected",yF="modules/cursors",yG="Narines",yH=[0,[0,"wss://p2p.u31.fr",0]],yI="testroom5267564",yJ="zedoc",yR=[0,80,[0,"p2p_status_icon"]],yT="\xE2\x99\xBC",yW=[0,80,[0,"p2p_status"]],zh=bx,zi=ki,AC=[0,80,"Add table"],AF=[0,80,[0,kX]];function y(a10){if(typeof a10=="number")return 0;switch(a10[0]){case 0:return[0,y(a10[1])];case 1:return[1,y(a10[1])];case 2:return[2,y(a10[1])];case 3:return[3,y(a10[1])];case 4:return[4,y(a10[1])];case 5:return[5,y(a10[1])];case 6:return[6,y(a10[1])];case 7:return[7,y(a10[1])];case 8:var c10=a10[1];return[8,c10,y(a10[2])];case 9:var b10=a10[1];return[9,b10,b10,y(a10[3])];case 10:return[10,y(a10[1])];case 11:return[11,y(a10[1])];case 12:return[12,y(a10[1])];case 13:return[13,y(a10[1])];default:return[14,y(a10[1])]}}function X(a10,b10){if(typeof a10=="number")return b10;switch(a10[0]){case 0:return[0,X(a10[1],b10)];case 1:return[1,X(a10[1],b10)];case 2:return[2,X(a10[1],b10)];case 3:return[3,X(a10[1],b10)];case 4:return[4,X(a10[1],b10)];case 5:return[5,X(a10[1],b10)];case 6:return[6,X(a10[1],b10)];case 7:return[7,X(a10[1],b10)];case 8:var c10=a10[1];return[8,c10,X(a10[2],b10)];case 9:var d10=a10[2],e10=a10[1];return[9,e10,d10,X(a10[3],b10)];case 10:return[10,X(a10[1],b10)];case 11:return[11,X(a10[1],b10)];case 12:return[12,X(a10[1],b10)];case 13:return[13,X(a10[1],b10)];default:return[14,X(a10[1],b10)]}}function w(a10,b10){if(typeof a10=="number")return b10;switch(a10[0]){case 0:return[0,w(a10[1],b10)];case 1:return[1,w(a10[1],b10)];case 2:var c10=a10[1];return[2,c10,w(a10[2],b10)];case 3:var d10=a10[1];return[3,d10,w(a10[2],b10)];case 4:var e10=a10[3],f10=a10[2],g10=a10[1];return[4,g10,f10,e10,w(a10[4],b10)];case 5:var h10=a10[3],i10=a10[2],j10=a10[1];return[5,j10,i10,h10,w(a10[4],b10)];case 6:var k10=a10[3],l10=a10[2],m10=a10[1];return[6,m10,l10,k10,w(a10[4],b10)];case 7:var n10=a10[3],o10=a10[2],p10=a10[1];return[7,p10,o10,n10,w(a10[4],b10)];case 8:var q10=a10[3],r10=a10[2],s10=a10[1];return[8,s10,r10,q10,w(a10[4],b10)];case 9:var t10=a10[1];return[9,t10,w(a10[2],b10)];case 10:return[10,w(a10[1],b10)];case 11:var u10=a10[1];return[11,u10,w(a10[2],b10)];case 12:var v10=a10[1];return[12,v10,w(a10[2],b10)];case 13:var x10=a10[2],y10=a10[1];return[13,y10,x10,w(a10[3],b10)];case 14:var z10=a10[2],A10=a10[1];return[14,A10,z10,w(a10[3],b10)];case 15:return[15,w(a10[1],b10)];case 16:return[16,w(a10[1],b10)];case 17:var B10=a10[1];return[17,B10,w(a10[2],b10)];case 18:var C2=a10[1];return[18,C2,w(a10[2],b10)];case 19:return[19,w(a10[1],b10)];case 20:var D2=a10[2],E2=a10[1];return[20,E2,D2,w(a10[3],b10)];case 21:var F2=a10[1];return[21,F2,w(a10[2],b10)];case 22:return[22,w(a10[1],b10)];case 23:var G2=a10[1];return[23,G2,w(a10[2],b10)];default:var H2=a10[2],I2=a10[1];return[24,I2,H2,w(a10[3],b10)]}}function a4(a10){throw g([0,b_,a10],1)}function s(a10){throw g([0,b9,a10],1)}function c0(a10){return 0<=a10?a10:-a10|0}var g4=kG;function aM(a10,b10){return a10+b10}function mn(b10){var e10=n(b10);return function(a10){for(var c10=a10;;){if(e10<=c10)return aM(b10,mo);var d10=D(b10,c10);a:{if(48<=d10){if(58>d10)break a}else if(d10===45)break a;return b10}c10=c10+1|0}}(0)}function mr(a10,b10,c10,d10){for(var f10=a10,e10=b10,g10=c10;;){if(!g10){f10[1+e10]=d10;return}var h10=g10[2],i10=g10[1];if(!h10){f10[1+e10]=[0,i10,d10];return}var j10=h10[2],k10=h10[1];if(!j10){f10[1+e10]=[0,i10,[0,k10,d10]];return}var l10=[0,j10[1],aJ],m10=j10[2];f10[1+e10]=[0,i10,[0,k10,l10]],f10=l10,e10=1,g10=m10}}BF(0);var en=l3(1),ah=l3(2);function ca(a10,b10){gT(a10,b10,0,n(b10))}function g5(a10,b10,c10,d10){return 0<=c10&&0<=d10&&(n(b10)-d10|0)>=c10?gT(a10,b10,c10,d10):s(ms)}function g6(a10){return ca(ah,a10),l4(ah,10),bF(ah)}var eo=[0,function(a10){return function(a11){for(var b10=a11;;){if(!b10)return 0;var d10=b10[2],e10=b10[1];try{bF(e10)}catch(f10){var c10=P(f10);if(c10[1]!==g3)throw g(c10,0)}b10=d10}}(BG(0))}],g7=[0,function(a10){}];function ep(a10){return h(g7[1],0),h(gD(eo),0)}gX(le,ep);function cb(a10){return bF(a10)}function mi(a10){return a10^-1}function mj(a10){return a10?mk:ml}function mm(a10){return e+a10}function mp(a10){return mn(gI("%.12g",a10))}function mq(a10,b10){if(!a10)return b10;var c10=a10[2],d10=a10[1];if(!c10)return[0,d10,b10];var e10=c10[2],f10=c10[1];if(!e10)return[0,d10,[0,f10,b10]];var g10=[0,e10[1],aJ];return mr(g10,1,e10[2],b10),[0,d10,[0,f10,g10]]}function mt(c10){for(;;){var a10=gD(eo);let d10=[0,1],e10=a10;var b10=1-gC(eo,a10,function(a11){return gC(d10,1,0)&&h(c10,0),h(e10,0)});if(!b10)return b10}}function mu(a10,b10){l4(a10,b10)}var eq2=BS(0),cc=(4*eq2|0)-1|0;function mv(a10){return 1-(typeof a10=="number"?1:0)}function g8(a10,b10,c10){return gC(a10,b10,c10)}function cd(a10){return gD(a10)}function ce(a10){return[0,a10]}function mw(a10,b10){return AR(a10,b10)}var my=[r,mx,an(0)];function mz(a10){var d10=a10[1];a10[1]=0;try{var c10=h(d10,0);return a10[1]=c10,l0(a10),c10}catch(f10){var b10=P(f10);throw a10[1]=function(a11){throw g(b10,0)},Bu(a10),g(b10,0)}}function mA(a10){var c10=a10[1];a10[1]=0;var b10=h(c10,0);return a10[1]=b10,l0(a10),b10}function mB(a10,b10){if(Bv(b10)===0)return a10?mA(b10):mz(b10);throw g(my,1)}function mC(a10){return mB(0,a10)}function c1(a10){return a10?a10[1]:s(mD)}function cf(a10,b10){return b10?[0,h(a10,b10[1])]:0}function g9(a10){return a10?1:0}function mE(a10){return a10?[0,a10[1],0]:0}function mF(a10){a:{if(40<=a10){if(a10===92)return mG;if(gg>a10)break a}else{if(32<=a10){if(39<=a10)return mH;break a}if(14>a10)switch(a10){case 8:return mI;case 9:return mJ;case 10:return mK;case 13:return mL}}var b10=C(4);return A(b10,0,92),A(b10,1,48+(a10/gp|0)|0),A(b10,2,48+((a10/10|0)%10|0)|0),A(b10,3,48+(a10%10|0)|0),ej(b10)}var c10=C(1);return A(c10,0,a10),ej(c10)}function mM(a10){return 25<a10+go>>>0?a10:a10-32|0}function mN(a10,b10){for(var d10=a10,c10=b10;;){if(!c10)return d10;d10=d10+1|0,c10=c10[2]}}function er(a10){return mN(0,a10)}function bJ(a10,b10){for(var c10=a10,d10=b10;;){if(!c10)return d10;var e10=[0,c10[1],d10];c10=c10[2],d10=e10}}function cg(a10){return bJ(a10,0)}function mR(a10,b10,c10){if(b10<a10)return 0;if(a10===b10)return[0,h(c10,a10),0];var e10=h(c10,a10),d10=[0,h(c10,a10+1|0),aJ];return mS(d10,1,a10+2|0,b10,c10),[0,e10,d10]}function mS(a10,b10,c10,d10,e10){for(var i10=a10,g10=b10,f10=c10;;){if(d10<f10){i10[1+g10]=0;return}if(f10===d10){i10[1+g10]=[0,h(e10,f10),0];return}var k10=h(e10,f10),j10=[0,h(e10,f10+1|0),aJ];i10[1+g10]=[0,k10,j10],i10=j10,g10=1,f10=f10+2|0}}function es(a10){if(!a10)return 0;var b10=a10[1];return mq(b10,es(a10[2]))}function c2(a10,b10){if(!b10)return 0;var c10=b10[2],d10=b10[1];if(!c10)return[0,h(a10,d10),0];var f10=c10[2],g10=c10[1],i10=h(a10,d10),e10=[0,h(a10,g10),aJ];return mV(e10,1,a10,f10),[0,i10,e10]}function mV(a10,b10,c10,d10){for(var g10=a10,f10=b10,e10=d10;;){if(!e10){g10[1+f10]=0;return}var i10=e10[2],j10=e10[1];if(!i10){g10[1+f10]=[0,h(c10,j10),0];return}var l10=i10[2],m10=i10[1],n10=h(c10,j10),k10=[0,h(c10,m10),aJ];g10[1+f10]=[0,n10,k10],g10=k10,f10=1,e10=l10}}function a6(a10,b10){for(var c10=b10;;){if(!c10)return 0;var d10=c10[2];h(a10,c10[1]),c10=d10}}function et(a10,b10,c10){for(var e10=b10,d10=c10;;){if(!d10)return e10;var f10=d10[2];e10=i(a10,e10,d10[1]),d10=f10}}function g_(a10,b10){for(var c10=b10;;){if(!c10)return 0;var d10=c10[2],e10=c10[1];if(h(a10,e10)){var f10=[0,e10,aJ];return mY(f10,1,a10,d10),f10}c10=d10}}function mY(a10,b10,c10,d10){for(var g10=a10,f10=b10,e10=d10;;){if(!e10){g10[1+f10]=0;return}var i10=e10[2],j10=e10[1];if(h(c10,j10)){var k10=[0,j10,aJ];g10[1+f10]=k10,g10=k10,f10=1,e10=i10}else e10=i10}}function g$(a10,b10){for(var c10=b10;;){if(!c10)return 0;var d10=c10[2],e10=h(a10,c10[1]);if(e10){var f10=[0,e10[1],aJ];return mZ(f10,1,a10,d10),f10}c10=d10}}function mZ(a10,b10,c10,d10){for(var g10=a10,f10=b10,e10=d10;;){if(!e10){g10[1+f10]=0;return}var i10=e10[2],j10=h(c10,e10[1]);if(j10){var k10=[0,j10[1],aJ];g10[1+f10]=k10,g10=k10,f10=1,e10=i10}else e10=i10}}function mO(a10,b10){return[0,a10,b10]}function mP(a10){return a10?a10[1]:a4(mQ)}function mT(a10,b10){return 0<=a10?mR(0,a10-1|0,b10):s(mU)}function mW(a10,b10){for(var c10=b10;;){if(!c10)return 1;var e10=c10[2],d10=h(a10,c10[1]);if(!d10)return d10;c10=e10}}function mX(a10,b10){for(var c10=b10;;){if(!c10)return 0;var e10=c10[2],d10=h(a10,c10[1]);if(d10)return d10;c10=e10}}function m0(j10,b10){return function(a10,b11,c10){for(var f10=a10,e10=b11,d10=c10;;){if(!d10){var k10=cg(e10);return[0,cg(f10),k10]}var i10=d10[2],g10=d10[1];h(j10,g10)?(f10=[0,g10,f10],d10=i10):(e10=[0,g10,e10],d10=i10)}}(0,0,b10)}function m1(d10,b10){function A10(a11,b11,c10){for(var g10=a11,f10=b11,e10=c10;;){if(!g10)return bJ(f10,e10);if(!f10)return bJ(g10,e10);var j10=f10[2],k10=f10[1],l10=g10[2],h11=g10[1],m10=i(d10,h11,k10);m10===0?(g10=l10,f10=j10,e10=[0,h11,e10]):0<=m10?(f10=j10,e10=[0,k10,e10]):(g10=l10,e10=[0,h11,e10])}}function B10(a11,b11,c10){for(var g10=a11,f10=b11,e10=c10;;){if(!g10)return bJ(f10,e10);if(!f10)return bJ(g10,e10);var j10=f10[2],k10=f10[1],l10=g10[2],h11=g10[1],m10=i(d10,h11,k10);m10===0?(g10=l10,f10=j10,e10=[0,h11,e10]):0<m10?(g10=l10,e10=[0,h11,e10]):(f10=j10,e10=[0,k10,e10])}}function h10(a11,b11){if(a11===2){if(b11){var h11=b11[2];if(h11){var j10=h11[1],g10=b11[1],A11=h11[2],q10=i(d10,g10,j10),C2=q10===0?[0,g10,0]:0<=q10?[0,j10,[0,g10,0]]:[0,g10,[0,j10,0]];return[0,C2,A11]}}}else if(a11===3&&b11){var k10=b11[2];if(k10){var l10=k10[2];if(l10){var e10=l10[1],c10=k10[1],f10=b11[1],F2=l10[2],u10=i(d10,f10,c10);if(u10===0)var v10=i(d10,c10,e10),G2=v10===0?[0,c10,0]:0<=v10?[0,e10,[0,c10,0]]:[0,c10,[0,e10,0]],m10=G2;else if(0<=u10){var w10=i(d10,f10,e10);if(w10===0)var n10=[0,c10,[0,f10,0]];else if(0<=w10)var x10=i(d10,c10,e10),H2=x10===0?[0,c10,[0,f10,0]]:0<=x10?[0,e10,[0,c10,[0,f10,0]]]:[0,c10,[0,e10,[0,f10,0]]],n10=H2;else var n10=[0,c10,[0,f10,[0,e10,0]]];var m10=n10}else{var y10=i(d10,c10,e10);if(y10===0)var o10=[0,f10,[0,c10,0]];else if(0<=y10)var z10=i(d10,f10,e10),I2=z10===0?[0,f10,[0,c10,0]]:0<=z10?[0,e10,[0,f10,[0,c10,0]]]:[0,f10,[0,e10,[0,c10,0]]],o10=I2;else var o10=[0,f10,[0,c10,[0,e10,0]]];var m10=o10}return[0,m10,F2]}}}var r10=a11>>1,s10=p10(r10,b11),D2=s10[1],t10=p10(a11-r10|0,s10[2]),E2=t10[2];return[0,B10(D2,t10[1],0),E2]}function p10(a11,b11){if(a11===2){if(b11){var j10=b11[2];if(j10){var k10=j10[1],g10=b11[1],B11=j10[2],q10=i(d10,g10,k10),C2=q10===0?[0,g10,0]:0<q10?[0,g10,[0,k10,0]]:[0,k10,[0,g10,0]];return[0,C2,B11]}}}else if(a11===3&&b11){var l10=b11[2];if(l10){var m10=l10[2];if(m10){var e10=m10[1],c10=l10[1],f10=b11[1],F2=m10[2],u10=i(d10,f10,c10);if(u10===0)var v10=i(d10,c10,e10),G2=v10===0?[0,c10,0]:0<v10?[0,c10,[0,e10,0]]:[0,e10,[0,c10,0]],n10=G2;else if(0<u10){var w10=i(d10,c10,e10);if(w10===0)var o10=[0,f10,[0,c10,0]];else if(0<w10)var o10=[0,f10,[0,c10,[0,e10,0]]];else var x10=i(d10,f10,e10),H2=x10===0?[0,f10,[0,c10,0]]:0<x10?[0,f10,[0,e10,[0,c10,0]]]:[0,e10,[0,f10,[0,c10,0]]],o10=H2;var n10=o10}else{var y10=i(d10,f10,e10);if(y10===0)var p11=[0,c10,[0,f10,0]];else if(0<y10)var p11=[0,c10,[0,f10,[0,e10,0]]];else var z10=i(d10,c10,e10),I2=z10===0?[0,c10,[0,f10,0]]:0<z10?[0,c10,[0,e10,[0,f10,0]]]:[0,e10,[0,c10,[0,f10,0]]],p11=I2;var n10=p11}return[0,n10,F2]}}}var r10=a11>>1,s10=h10(r10,b11),D2=s10[1],t10=h10(a11-r10|0,s10[2]),E2=t10[2];return[0,A10(D2,t10[1],0),E2]}var a10=er(b10);return 2<=a10?h10(a10,b10)[1]:b10}function m2(a10,b10){return lW(a10,b10)}function m3(a10,b10){return a10<=b10?a10:b10}function m4(a10,b10){return b10<=a10?a10:b10}function m5(a10){return e+a10}function bk(a10,b10){var c10=C(a10);return A5(c10,0,a10,b10),c10}var m6=C(0);function m7(a10){var b10=av(a10),c10=C(b10);return a1(a10,0,c10,0,b10),c10}function eu(a10,b10,c10){if(0<=b10&&0<=c10&&(av(a10)-c10|0)>=b10){var d10=C(c10);return a1(a10,b10,d10,0,c10),d10}return s(m9)}function ev(a10,b10,c10){return ej(eu(a10,b10,c10))}function ha(a10,b10,c10,d10,e10){if(0<=e10&&0<=b10&&(av(a10)-e10|0)>=b10&&0<=d10&&(av(c10)-e10|0)>=d10){a1(a10,b10,c10,d10,e10);return}return s(m_)}function ax(a10,b10,c10,d10,e10){if(0<=e10&&0<=b10&&(n(a10)-e10|0)>=b10&&0<=d10&&(av(c10)-e10|0)>=d10){cR(a10,b10,c10,d10,e10);return}return s(m$)}function hb(a10){var b10=a10-9|0;a:{if(4<b10>>>0){if(b10!==23)break a}else if(b10===2)break a;return 1}return 0}function nc(a10,b10){var d10=av(b10);if(d10===0)return b10;var e10=C(d10),f10=d10-1|0,g10=0;if(f10>=0)for(var c10=g10;;){A(e10,c10,h(a10,bB(b10,c10)));var i10=c10+1|0;if(f10===c10)break;c10=i10}return e10}function hc(a10,b10,c10){lH(a10,b10,Bg(c10))}function hd(a10,b10,c10){au(a10,b10,c10)}function he(a10,b10){return AX(a10,b10)}function ch(a10){return bg(a10)}function $(a10){return ej(a10)}function m8(a10){return m7(bg(a10))}function na(a10){for(var d10=av(a10),b10=[0,0];!(b10[1]>=d10||!hb(bB(a10,b10[1])));)b10[1]++;for(var c10=[0,d10-1|0];;){if(b10[1]<=c10[1]&&hb(bB(a10,c10[1]))){c10[1]--;continue}return b10[1]<=c10[1]?eu(a10,b10[1],(c10[1]-b10[1]|0)+1|0):m6}}function nb(a10){var b10=[0,0],j10=av(a10)-1|0,l10=0;if(j10>=0)for(var g10=l10;;){var e10=bB(a10,g10);a:{b:{c:{if(32<=e10){var h10=e10-34|0;if(58<h10>>>0){if(93<=h10)break c}else if(56<h10-1>>>0)break b;var i10=1;break a}if(11<=e10){if(e10===13)break b}else if(8<=e10)break b}var i10=4;break a}var i10=2}b10[1]=b10[1]+i10|0;var o10=g10+1|0;if(j10===g10)break;g10=o10}if(b10[1]===av(a10))return a10;var c10=C(b10[1]);b10[1]=0;var k10=av(a10)-1|0,m10=0;if(k10>=0)for(var f10=m10;;){var d10=bB(a10,f10);a:{b:{c:{if(35<=d10){if(d10!==92){if(gg<=d10)break c;break b}}else{if(32>d10){if(14<=d10)break c;switch(d10){case 8:A(c10,b10[1],92),b10[1]++,A(c10,b10[1],98);break a;case 9:A(c10,b10[1],92),b10[1]++,A(c10,b10[1],116);break a;case 10:A(c10,b10[1],92),b10[1]++,A(c10,b10[1],110);break a;case 13:A(c10,b10[1],92),b10[1]++,A(c10,b10[1],114);break a;default:break c}}if(34>d10)break b}A(c10,b10[1],92),b10[1]++,A(c10,b10[1],d10);break a}A(c10,b10[1],92),b10[1]++,A(c10,b10[1],48+(d10/gp|0)|0),b10[1]++,A(c10,b10[1],48+((d10/10|0)%10|0)|0),b10[1]++,A(c10,b10[1],48+(d10%10|0)|0);break a}A(c10,b10[1],d10)}b10[1]++;var n10=f10+1|0;if(k10===f10)break;f10=n10}return c10}function nd(a10){return nc(mM,a10)}function ne(a10,b10){return AY(a10,b10)}function nf(a10,b10,c10){lH(a10,b10,c10)}function c3(a10,b10){return $(bk(a10,b10))}function ew(a10,b10,c10){return $(eu(ch(a10),b10,c10))}function hf(a10){var b10=a10-9|0;a:{if(4<b10>>>0){if(b10!==23)break a}else if(b10===2)break a;return 1}return 0}function ni(a10,b10,c10,d10){for(var e10=c10;;){if(b10<=e10)throw g(a5,1);if(_(a10,e10)===d10)return e10;e10=e10+1|0}}function nj(a10,b10,c10){var d10=n(a10);if(0<=b10&&d10>=b10)try{ni(a10,d10,b10,c10);var f10=1;return f10}catch(f11){var e10=P(f11);if(e10===a5)return 0;throw g(e10,0)}return s(nk)}function ex(a10,b10){return l_(a10,b10)}function c4(a10,b10){return ne(ch(a10),b10)}function ey(a10,b10){return a10===b10?1:0}function ng(a10){return a10===e||!hf(_(a10,0))&&!hf(_(a10,n(a10)-1|0))?a10:$(na(ch(a10)))}function nh(a10){return $(nb(ch(a10)))}function nl(a10,b10){return nj(a10,0,b10)}function nm(a10){return $(nd(ch(a10)))}function hg(a10,b10){if(a10===0)return[0];if(0>a10)return s(nn);var d10=ap(a10,h(b10,0)),e10=a10-1|0,f10=1;if(e10>=1)for(var c10=f10;;){d10[1+c10]=h(b10,c10);var g10=c10+1|0;if(e10===c10)break;c10=g10}return d10}function ci(a10,b10,c10,d10,e10){return 0<=e10&&0<=b10&&(a10.length-1-e10|0)>=b10&&0<=d10&&(c10.length-1-e10|0)>=d10?AO(a10,b10,c10,d10,e10):s(nq)}function hh(a10,b10){var d10=b10.length-2|0,e10=0;if(d10>=0)for(var c10=e10;;){h(a10,b10[1+c10]);var f10=c10+1|0;if(d10===c10)break;c10=f10}return 0}function hi(a10,b10){var d10=b10.length-1;if(d10===0)return[0];var e10=ap(d10,h(a10,b10[1])),f10=d10-1|0,g10=1;if(f10>=1)for(var c10=g10;;){e10[1+c10]=h(a10,b10[1+c10]);var i10=c10+1|0;if(f10===c10)break;c10=i10}return e10}function nr(a10,b10){for(var d10=a10,c10=b10;;){if(!c10)return d10;d10=d10+1|0,c10=c10[2]}}function c5(a10){if(!a10)return[0];var b10=a10[2],c10=a10[1],e10=ap(nr(0,a10),c10);return function(a11,b11){for(var d10=a11,c11=b11;;){if(!c11)return e10;var f10=c11[2];e10[1+d10]=c11[1],d10=d10+1|0,c11=f10}}(1,b10)}function no(a10,b10,c10){return 0<=b10&&0<=c10&&(a10.length-1-c10|0)>=b10?AQ(a10,b10,c10):s(np)}function ns(k10){function h10(a10){return a10?a10[4]:0}function d10(a10,b11,c11){var d11=a10?a10[4]:0,e11=c11?c11[4]:0,f10=e11<=d11?d11+1|0:e11+1|0;return[0,a10,b11,c11,f10]}function j10(a10,b11,c11){var g10=a10?a10[4]:0,i10=c11?c11[4]:0;if((i10+2|0)<g10){if(!a10)return s(nu);var e11=a10[3],l10=a10[2],j11=a10[1],n11=h10(e11);if(n11<=h10(j11))return d10(j11,l10,d10(e11,b11,c11));if(!e11)return s(nt);var o10=e11[2],p10=e11[1],q10=d10(e11[3],b11,c11);return d10(d10(j11,l10,p10),o10,q10)}if((g10+2|0)>=i10){var w10=i10<=g10?g10+1|0:i10+1|0;return[0,a10,b11,c11,w10]}if(!c11)return s(nw);var k11=c11[3],m11=c11[2],f10=c11[1],r10=h10(f10);if(r10<=h10(k11))return d10(d10(a10,b11,f10),m11,k11);if(!f10)return s(nv);var t10=f10[2],u10=f10[1],v10=d10(f10[3],m11,k11);return d10(d10(a10,b11,u10),t10,v10)}function c10(a10,b11){if(!b11)return[0,0,a10,0,1];var d11=b11[3],e11=b11[2],f10=b11[1],g10=i(k10[1],a10,e11);if(g10===0)return b11;if(0<=g10){var h11=c10(a10,d11);return d11===h11?b11:j10(f10,e11,h11)}var l10=c10(a10,f10);return f10===l10?b11:j10(l10,e11,d11)}function b10(a10){return[0,0,a10,0,1]}var m10=0;function e10(a10,b11){for(var d11=a10,c11=b11;;){if(!c11)return d11;var f10=c11[2],g10=c11[1];d11=[0,f10,e10(d11,c11[3])],c11=g10}}function n10(a10){function c11(a11,b11){if(3>=a11>>>0)switch(a11){case 0:return[0,0,b11];case 1:if(b11)return[0,[0,0,b11[1],0,1],b11[2]];break;case 2:if(b11){var h11=b11[2];if(h11)return[0,[0,[0,0,b11[1],0,1],h11[1],0,2],h11[2]]}break;default:if(b11){var i10=b11[2];if(i10){var j11=i10[2];if(j11)return[0,[0,[0,0,b11[1],0,1],i10[1],[0,0,j11[1],0,1],2],j11[2]]}}}var k11=a11/2|0,l10=c11(k11,b11),e11=l10[2],n11=l10[1];if(!e11)throw g([0,f,nx],1);var o10=e11[1],m11=c11((a11-k11|0)-1|0,e11[2]),p10=m11[2];return[0,d10(n11,o10,m11[1]),p10]}return c11(er(a10),a10)[1]}return[0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(a10){return e10(0,a10)},,,,,,,,,,,,,,,,,,,function(a10){if(!a10)return m10;var f10=a10[2],d11=a10[1];if(!f10)return b10(d11);var g10=f10[2],e11=f10[1];if(!g10)return c10(e11,b10(d11));var h11=g10[2],i10=g10[1];if(!h11)return c10(i10,c10(e11,b10(d11)));var j11=h11[2],l10=h11[1];if(!j11)return c10(l10,c10(i10,c10(e11,b10(d11))));if(j11[2])return n10(m1(k10[1],a10));var o10=j11[1];return c10(o10,c10(l10,c10(i10,c10(e11,b10(d11)))))}]}function ny(a10){var b10=ns(a10);return[0,,,,,,,,,,b10[39],,,,,,,,,,,,,,,,,,,,,,,,,,,,b10[58]]}function nz(n10){function h10(a10){return a10?a10[5]:0}function e10(a10,b10,c10,d11){var e11=h10(a10),f11=h10(d11),g11=f11<=e11?e11+1|0:f11+1|0;return[0,a10,b10,c10,d11,g11]}function j10(a10,b10,c10,d11){var i10=a10?a10[5]:0,j11=d11?d11[5]:0;if((j11+2|0)<i10){if(!a10)return s(nB);var f11=a10[4],m10=a10[3],n11=a10[2],k10=a10[1],q10=h10(f11);if(q10<=h10(k10))return e10(k10,n11,m10,e10(f11,b10,c10,d11));if(!f11)return s(nA);var r10=f11[3],t10=f11[2],u10=f11[1],v10=e10(f11[4],b10,c10,d11);return e10(e10(k10,n11,m10,u10),t10,r10,v10)}if((i10+2|0)>=j11){var B10=j11<=i10?i10+1|0:j11+1|0;return[0,a10,b10,c10,d11,B10]}if(!d11)return s(nD);var l10=d11[4],o10=d11[3],p10=d11[2],g11=d11[1],w10=h10(g11);if(w10<=h10(l10))return e10(e10(a10,b10,c10,g11),p10,o10,l10);if(!g11)return s(nC);var x10=g11[3],y10=g11[2],z10=g11[1],A10=e10(g11[4],p10,o10,l10);return e10(e10(a10,b10,c10,z10),y10,x10,A10)}function f10(a10,b10,c10){if(!c10)return[0,0,a10,b10,0,1];var d11=c10[4],g11=c10[3],h11=c10[2],e11=c10[1],o10=c10[5],k10=i(n10[1],a10,h11);if(k10===0)return g11===b10?c10:[0,e11,a10,b10,d11,o10];if(0<=k10){var l10=f10(a10,b10,d11);return d11===l10?c10:j10(e11,h11,g11,l10)}var m10=f10(a10,b10,e11);return e11===m10?c10:j10(m10,h11,g11,d11)}function d10(a10,b10){for(var c10=b10;;){if(!c10)return 0;var e11=c10[4],f11=c10[3],g11=c10[2];d10(a10,c10[1]),i(a10,g11,f11),c10=e11}}function g10(a10,b10,c10){for(var d11=b10,e11=c10;;){if(!d11)return e11;var f11=d11[4],h11=d11[3],i10=d11[2],j11=x(a10,i10,h11,g10(a10,d11[1],e11));d11=f11,e11=j11}}return[0,,,,,0,,f10,,,,,,,,,,,,,,,,,,,,d10,,,g10]}function hj(a10){var b10=nz(a10);return[0,b10[5],b10[7],,,,,,,,,,,,,,,,,,,,,b10[27],b10[30]]}var ez=[r,nE,an(0)];function bK(a10){return[0,0,0]}function cj(a10){a10[1]=0,a10[2]=0}function a7(a10,b10){return b10[1]=[0,a10,b10[1]],b10[2]=b10[2]+1|0,0}function bL(a10){var b10=a10[1];if(!b10)return 0;var c10=b10[1];return a10[1]=b10[2],a10[2]=a10[2]-1|0,[0,c10]}function bM(a10){var b10=a10[1];return b10?[0,b10[1]]:0}function nF(a10){var b10=a10[1];if(!b10)throw g(ez,1);a10[1]=b10[2],a10[2]=a10[2]-1|0}function nG(a10){if(!a10[1])throw g(ez,1)}function nH(a10,b10){return a6(a10,b10[1])}var nJ=[r,nI,an(0)];function eA(a10){return[0,0,0,0]}function eB(a10){a10[1]=0,a10[2]=0,a10[3]=0}function eC(a10,b10){var c10=[0,a10,0],d10=b10[3];return d10?(b10[1]=b10[1]+1|0,d10[2]=c10,b10[3]=c10,0):(b10[1]=1,b10[2]=c10,b10[3]=c10,0)}function hk(a10){var b10=a10[2];if(!b10)throw g(nJ,1);var c10=b10[1];if(b10[2]){var d10=b10[2];return a10[1]=a10[1]-1|0,a10[2]=d10,c10}return eB(a10),c10}function eD(a10){return a10[1]===0?1:0}function nK(a10){var b10=a10[2];return b10?[0,b10[1]]:0}function nL(a10){var b10=a10[2];if(!b10)return 0;var c10=b10[1];if(b10[2]){var d10=b10[2];return a10[1]=a10[1]-1|0,a10[2]=d10,[0,c10]}return eB(a10),[0,c10]}function bl(a10){var b10=1<=a10?a10:1,c10=cc<b10?cc:b10,d10=C(c10);return[0,[0,d10,c10],0,d10]}function ck(a10){return ev(a10[1][1],0,a10[2])}function hl(a10){return a10[2]}function eE(a10,b10){for(var d10=a10[2],c10=[0,a10[1][2]];!(c10[1]>=(d10+b10|0));)c10[1]=2*c10[1]|0;cc<c10[1]&&((d10+b10|0)<=cc?c10[1]=cc:a4(nP));var e10=C(c10[1]);ha(a10[1][1],0,e10,0,a10[2]),a10[1]=[0,e10,c10[1]]}function hm(a10,b10,c10,d10){var e10=c10<0?1:0;if(e10)var f10=e10;else var k10=d10<0?1:0,f10=k10||((n(b10)-d10|0)<c10?1:0);f10&&s(nR);var g10=a10[2],h10=a10[1],i10=g10+d10|0,j10=h10[1];return h10[2]<i10?(eE(a10,d10),ax(b10,c10,a10[1][1],a10[2],d10)):cR(b10,c10,j10,g10,d10),a10[2]=i10,0}function cl(a10,b10){var c10=n(b10),d10=a10[2],e10=a10[1],f10=d10+c10|0,g10=e10[1];e10[2]<f10?(eE(a10,c10),ax(b10,0,a10[1][1],a10[2],c10)):cR(b10,0,g10,d10,c10),a10[2]=f10}function nM(a10,b10,c10){return 0<=b10&&0<=c10&&(a10[2]-c10|0)>=b10?ev(a10[1][1],b10,c10):s(nN)}function nO(a10){return a10[2]=0,0}function nQ(a10,b10){var c10=a10[2],d10=a10[1],e10=d10[1];d10[2]<=c10?(eE(a10,1),au(a10[1][1],a10[2],b10)):A(e10,c10,b10),a10[2]=c10+1|0}var eF=[0,0];function hn(a10){return a10}function ho(a10){return a10!==eF?1:0}function hp(a10){return a10}(function(a10){A3(ap(8,eF))})(0);var nS=ce(0),hq=ce(0);function nT(a10){for(;;){var b10=cd(hq),c10=1-g8(hq,b10,[0,a10,b10]);if(!c10)return c10}}function aN(a10,b10){var c10=[0,mw(nS,1),b10];return a10&&nT([0,c10,a10[1]]),c10}function hr(d10){for(;;){var a10=lK(0),b10=a10.length-1;if(d10<b10)return a10;var c10=ap(function(a11){for(var b11=a11;;){if(d10<b11)return b11;b11=2*b11|0}}(b10),eF);if(ci(a10,0,c10,0,b10),A2(a10,c10))return c10}}function cm(a10,b10){var c10=a10[1],d10=hr(c10),e10=b10;j(d10,c10)[1+c10]=e10}function nU(a10,b10,c10,d10){return j(a10,b10)[1+b10]===c10?(a10[1+b10]=d10,1):0}function a8(a10){var b10=a10[1],k10=a10[2],c10=j(hr(b10),b10)[1+b10];if(ho(c10))return c10;var d10=h(k10,0),l10=d10,e10=lK(0);if(nU(e10,b10,c10,l10))return d10;var i10=j(e10,b10)[1+b10];if(ho(i10))return i10;throw g([0,f,nV],1)}var nW=ce(0),eG=aN(0,function(a10){return function(a11){return 0}});function hs(b10){var c10=a8(eG);return cm(eG,function(a10){return h(b10,0),h(c10,0)})}g7[1]=function(a10){return h(a8(eG),0)};function nX(a10){if(cd(nW))throw g([0,b9,nY],1)}function eH(a10){return a10[2]===5?12:-6}function ht(a10){return[0,0,C(a10)]}function hu(a10,b10){var c10=av(a10[2]),d10=a10[1]+b10|0;if(c10<d10){var e10=C(m4(c10*2|0,d10));ha(a10[2],0,e10,0,c10),a10[2]=e10}}function bN(a10,b10){hu(a10,1),au(a10[2],a10[1],b10),a10[1]=a10[1]+1|0}function Q(a10,b10){var c10=n(b10);hu(a10,c10),ax(b10,0,a10[2],a10[1],c10),a10[1]=a10[1]+c10|0}function hv(a10){return ev(a10[2],0,a10[1])}function hw(a10){if(typeof a10=="number")switch(a10){case 0:return n1;case 1:return n2;case 2:return n3;case 3:return n4;case 4:return n5;case 5:return n6;default:return n7}switch(a10[0]){case 0:return a10[1];case 1:return a10[1];default:return aM(n8,c3(1,a10[1]))}}function eI(a10,b10){for(var c10=b10;;){if(typeof c10=="number")return;switch(c10[0]){case 0:var d10=c10[1];Q(a10,n9),c10=d10;break;case 1:var e10=c10[1];Q(a10,n_),c10=e10;break;case 2:var f10=c10[1];Q(a10,n$),c10=f10;break;case 3:var g10=c10[1];Q(a10,oa),c10=g10;break;case 4:var h10=c10[1];Q(a10,ob),c10=h10;break;case 5:var i10=c10[1];Q(a10,oc),c10=i10;break;case 6:var j10=c10[1];Q(a10,od),c10=j10;break;case 7:var k10=c10[1];Q(a10,oe),c10=k10;break;case 8:var l10=c10[2],m10=c10[1];Q(a10,of),eI(a10,m10),Q(a10,og),c10=l10;break;case 9:var n10=c10[3],o10=c10[1];Q(a10,oh),eI(a10,o10),Q(a10,oi),c10=n10;break;case 10:var p10=c10[1];Q(a10,oj),c10=p10;break;case 11:var q10=c10[1];Q(a10,ok),c10=q10;break;case 12:var r10=c10[1];Q(a10,ol),c10=r10;break;case 13:var s10=c10[1];Q(a10,om),c10=s10;break;default:var t10=c10[1];Q(a10,on),c10=t10}}}function E(a10){if(typeof a10=="number")return 0;switch(a10[0]){case 0:return[0,E(a10[1])];case 1:return[1,E(a10[1])];case 2:return[2,E(a10[1])];case 3:return[3,E(a10[1])];case 4:return[4,E(a10[1])];case 5:return[5,E(a10[1])];case 6:return[6,E(a10[1])];case 7:return[7,E(a10[1])];case 8:var b10=a10[1];return[8,b10,E(a10[2])];case 9:var c10=a10[2],d10=a10[1];return[9,c10,d10,E(a10[3])];case 10:return[10,E(a10[1])];case 11:return[11,E(a10[1])];case 12:return[12,E(a10[1])];case 13:return[13,E(a10[1])];default:return[14,E(a10[1])]}}function R(a10){if(typeof a10=="number")return[0,,function(a11){},,function(a11){}];switch(a10[0]){case 0:var b10=R(a10[1]),r10=b10[2];return[0,,function(a11){r10(0)},,b10[4]];case 1:var c10=R(a10[1]),s10=c10[2];return[0,,function(a11){s10(0)},,c10[4]];case 2:var d10=R(a10[1]),t10=d10[2];return[0,,function(a11){t10(0)},,d10[4]];case 3:var e10=R(a10[1]),u10=e10[2];return[0,,function(a11){u10(0)},,e10[4]];case 4:var f10=R(a10[1]),v10=f10[2];return[0,,function(a11){v10(0)},,f10[4]];case 5:var g10=R(a10[1]),w10=g10[2];return[0,,function(a11){w10(0)},,g10[4]];case 6:var h10=R(a10[1]),x10=h10[2];return[0,,function(a11){x10(0)},,h10[4]];case 7:var i10=R(a10[1]),y10=i10[2];return[0,,function(a11){y10(0)},,i10[4]];case 8:var j10=R(a10[2]),z10=j10[2];return[0,,function(a11){z10(0)},,j10[4]];case 9:var A10=a10[2],B10=a10[1],k10=R(a10[3]),C2=k10[4],D2=k10[2],l10=R(I(E(B10),A10)),F2=l10[4],G2=l10[2];return[0,,function(a11){G2(0),D2(0)},,function(a11){F2(0),C2(0)}];case 10:var m10=R(a10[1]),H2=m10[2];return[0,,function(a11){H2(0)},,m10[4]];case 11:var n10=R(a10[1]),J2=n10[2];return[0,,function(a11){J2(0)},,n10[4]];case 12:var o10=R(a10[1]),K2=o10[2];return[0,,function(a11){K2(0)},,o10[4]];case 13:var p10=R(a10[1]),L2=p10[4],M2=p10[2];return[0,,function(a11){M2(0)},,function(a11){L2(0)}];default:var q10=R(a10[1]),N2=q10[4],O2=q10[2];return[0,,function(a11){O2(0)},,function(a11){N2(0)}]}}function I(a10,b10){a:{b:{c:{d:{e:{f:{g:{if(typeof a10!="number"){switch(a10[0]){case 0:var d10=a10[1];if(typeof b10!="number")switch(b10[0]){case 0:return[0,I(d10,b10[1])];case 8:break f;case 9:break g;case 10:break a;case 11:break b;case 12:break c;case 13:break d;case 14:break e}break;case 1:var e10=a10[1];if(typeof b10!="number")switch(b10[0]){case 1:return[1,I(e10,b10[1])];case 8:break f;case 9:break g;case 10:break a;case 11:break b;case 12:break c;case 13:break d;case 14:break e}break;case 2:var h10=a10[1];if(typeof b10!="number")switch(b10[0]){case 2:return[2,I(h10,b10[1])];case 8:break f;case 9:break g;case 10:break a;case 11:break b;case 12:break c;case 13:break d;case 14:break e}break;case 3:var i10=a10[1];if(typeof b10!="number")switch(b10[0]){case 3:return[3,I(i10,b10[1])];case 8:break f;case 9:break g;case 10:break a;case 11:break b;case 12:break c;case 13:break d;case 14:break e}break;case 4:var j10=a10[1];if(typeof b10!="number")switch(b10[0]){case 4:return[4,I(j10,b10[1])];case 8:break f;case 9:break g;case 10:break a;case 11:break b;case 12:break c;case 13:break d;case 14:break e}break;case 5:var k10=a10[1];if(typeof b10!="number")switch(b10[0]){case 5:return[5,I(k10,b10[1])];case 8:break f;case 9:break g;case 10:break a;case 11:break b;case 12:break c;case 13:break d;case 14:break e}break;case 6:var l10=a10[1];if(typeof b10!="number")switch(b10[0]){case 6:return[6,I(l10,b10[1])];case 8:break f;case 9:break g;case 10:break a;case 11:break b;case 12:break c;case 13:break d;case 14:break e}break;case 7:var m10=a10[1];if(typeof b10!="number")switch(b10[0]){case 7:return[7,I(m10,b10[1])];case 8:break f;case 9:break g;case 10:break a;case 11:break b;case 12:break c;case 13:break d;case 14:break e}break;case 8:var n10=a10[2],o10=a10[1];if(typeof b10!="number")switch(b10[0]){case 8:var p10=b10[1],q10=I(n10,b10[2]);return[8,I(o10,p10),q10];case 10:break a;case 11:break b;case 12:break c;case 13:break d;case 14:break e}throw g([0,f,ox],1);case 9:var r10=a10[3],s10=a10[2],t10=a10[1];if(typeof b10!="number")switch(b10[0]){case 8:break f;case 9:var u10=b10[3],v10=b10[2],w10=b10[1],c10=R(I(E(s10),w10)),x10=c10[4];return c10[2].call(null,0),x10(0),[9,t10,v10,I(r10,u10)];case 10:break a;case 11:break b;case 12:break c;case 13:break d;case 14:break e}throw g([0,f,oy],1);case 10:var y10=a10[1];if(typeof b10!="number"&&b10[0]===10)return[10,I(y10,b10[1])];throw g([0,f,oz],1);case 11:var z10=a10[1];if(typeof b10!="number")switch(b10[0]){case 10:break a;case 11:return[11,I(z10,b10[1])]}throw g([0,f,oA],1);case 12:var A10=a10[1];if(typeof b10!="number")switch(b10[0]){case 10:break a;case 11:break b;case 12:return[12,I(A10,b10[1])]}throw g([0,f,oB],1);case 13:var B10=a10[1];if(typeof b10!="number")switch(b10[0]){case 10:break a;case 11:break b;case 12:break c;case 13:return[13,I(B10,b10[1])]}throw g([0,f,oC],1);default:var C2=a10[1];if(typeof b10!="number")switch(b10[0]){case 10:break a;case 11:break b;case 12:break c;case 13:break d;case 14:return[14,I(C2,b10[1])]}throw g([0,f,oD],1)}throw g([0,f,ow],1)}if(typeof b10=="number")return 0;switch(b10[0]){case 10:break a;case 11:break b;case 12:break c;case 13:break d;case 14:break e;case 8:break f;case 9:break;default:throw g([0,f,oo],1)}}throw g([0,f,oq],1)}throw g([0,f,op],1)}throw g([0,f,ov],1)}throw g([0,f,ou],1)}throw g([0,f,ot],1)}throw g([0,f,os],1)}throw g([0,f,or],1)}var M=[r,oE,an(0)];function nZ(a10,b10){var c10=a10?a10[1]:70;switch(b10[2]){case 0:return ka;case 1:return 101;case 2:return 69;case 3:return jZ;case 4:return 71;case 5:return c10;case 6:return 104;case 7:return 72;default:return 70}}function n0(a10,b10){switch(b10[1]){case 0:break;case 1:bN(a10,43);break;default:bN(a10,32)}if(8<=b10[2])return bN(a10,35)}function c6(a10,b10){if(typeof a10=="number")return[0,0,b10];if(a10[0]===0)return[0,[0,a10[1],a10[2]],b10];if(typeof b10!="number"&&b10[0]===2)return[0,[1,a10[1]],b10[1]];throw g(M,1)}function cn(a10,b10,c10){var d10=c6(a10,c10);if(typeof b10!="number")return[0,d10[1],[0,b10[1]],d10[2]];if(!b10)return[0,d10[1],0,d10[2]];var e10=d10[2];if(typeof e10!="number"&&e10[0]===2)return[0,d10[1],1,e10[1]];throw g(M,1)}function oF(a10,b10){var c10=t(a10,b10);if(typeof c10[2]=="number")return c10[1];throw g(M,1)}function t(a10,b10){if(typeof a10=="number")return[0,0,b10];switch(a10[0]){case 0:if(typeof b10!="number"&&b10[0]===0){var q10=t(a10[1],b10[1]);return[0,[0,q10[1]],q10[2]]}break;case 1:if(typeof b10!="number"&&b10[0]===0){var r10=t(a10[1],b10[1]);return[0,[1,r10[1]],r10[2]]}break;case 2:var T2=a10[2],s10=c6(a10[1],b10),c10=s10[2],U2=s10[1];if(typeof c10!="number"&&c10[0]===1){var u10=t(T2,c10[1]);return[0,[2,U2,u10[1]],u10[2]]}throw g(M,1);case 3:var V2=a10[2],v10=c6(a10[1],b10),d10=v10[2],W2=v10[1];if(typeof d10!="number"&&d10[0]===1){var w10=t(V2,d10[1]);return[0,[3,W2,w10[1]],w10[2]]}throw g(M,1);case 4:var X2=a10[4],Y2=a10[1],e10=cn(a10[2],a10[3],b10),f10=e10[3],Z2=e10[1];if(typeof f10!="number"&&f10[0]===2){var _2=e10[2],x10=t(X2,f10[1]);return[0,[4,Y2,Z2,_2,x10[1]],x10[2]]}throw g(M,1);case 5:var $2=a10[4],aa2=a10[1],h10=cn(a10[2],a10[3],b10),i10=h10[3],ab2=h10[1];if(typeof i10!="number"&&i10[0]===3){var ac2=h10[2],z10=t($2,i10[1]);return[0,[5,aa2,ab2,ac2,z10[1]],z10[2]]}throw g(M,1);case 6:var ad2=a10[4],ae2=a10[1],j10=cn(a10[2],a10[3],b10),k10=j10[3],af2=j10[1];if(typeof k10!="number"&&k10[0]===4){var ag2=j10[2],A10=t(ad2,k10[1]);return[0,[6,ae2,af2,ag2,A10[1]],A10[2]]}throw g(M,1);case 7:var ah2=a10[4],ai2=a10[1],l10=cn(a10[2],a10[3],b10),m10=l10[3],aj2=l10[1];if(typeof m10!="number"&&m10[0]===5){var ak2=l10[2],B10=t(ah2,m10[1]);return[0,[7,ai2,aj2,ak2,B10[1]],B10[2]]}throw g(M,1);case 8:var al2=a10[4],am2=a10[1],n10=cn(a10[2],a10[3],b10),o10=n10[3],an2=n10[1];if(typeof o10!="number"&&o10[0]===6){var ao2=n10[2],C2=t(al2,o10[1]);return[0,[8,am2,an2,ao2,C2[1]],C2[2]]}throw g(M,1);case 9:var ap2=a10[2],D2=c6(a10[1],b10),p10=D2[2],aq2=D2[1];if(typeof p10!="number"&&p10[0]===7){var E2=t(ap2,p10[1]);return[0,[9,aq2,E2[1]],E2[2]]}throw g(M,1);case 10:var F2=t(a10[1],b10);return[0,[10,F2[1]],F2[2]];case 11:var ar2=a10[1],G2=t(a10[2],b10);return[0,[11,ar2,G2[1]],G2[2]];case 12:var as2=a10[1],H2=t(a10[2],b10);return[0,[12,as2,H2[1]],H2[2]];case 13:if(typeof b10!="number"&&b10[0]===8){var I2=b10[1],at2=b10[2],au2=a10[3],av2=a10[1];if(bG([0,a10[2]],[0,I2]))throw g(M,1);var J2=t(au2,at2);return[0,[13,av2,I2,J2[1]],J2[2]]}break;case 14:if(typeof b10!="number"&&b10[0]===9){var K2=b10[1],aw2=b10[3],ax2=a10[3],ay2=a10[2],az2=a10[1],aA2=[0,y(K2)];if(bG([0,y(ay2)],aA2))throw g(M,1);var L2=t(ax2,y(aw2));return[0,[14,az2,K2,L2[1]],L2[2]]}break;case 15:if(typeof b10!="number"&&b10[0]===10){var N2=t(a10[1],b10[1]);return[0,[15,N2[1]],N2[2]]}break;case 16:if(typeof b10!="number"&&b10[0]===11){var O2=t(a10[1],b10[1]);return[0,[16,O2[1]],O2[2]]}break;case 17:var aB2=a10[1],P2=t(a10[2],b10);return[0,[17,aB2,P2[1]],P2[2]];case 18:return oG(a10[1],a10[2],b10);case 19:if(typeof b10!="number"&&b10[0]===13){var Q2=t(a10[1],b10[1]);return[0,[19,Q2[1]],Q2[2]]}break;case 20:if(typeof b10!="number"&&b10[0]===1){var aC2=a10[2],aD2=a10[1],R2=t(a10[3],b10[1]);return[0,[20,aD2,aC2,R2[1]],R2[2]]}break;case 21:if(typeof b10!="number"&&b10[0]===2){var aE2=a10[1],S2=t(a10[2],b10[1]);return[0,[21,aE2,S2[1]],S2[2]]}break;case 23:return oH(a10[1],a10[2],b10)}throw g(M,1)}function oG(a10,b10,c10){if(a10[0]===0){var d10=a10[1],j10=d10[2],e10=t(d10[1],c10),k10=e10[1],f10=t(b10,e10[2]);return[0,[18,[0,[0,k10,j10]],f10[1]],f10[2]]}var g10=a10[1],l10=g10[2],h10=t(g10[1],c10),m10=h10[1],i10=t(b10,h10[2]);return[0,[18,[1,[0,m10,l10]],i10[1]],i10[2]]}function oH(a10,b10,c10){if(typeof a10!="number")switch(a10[0]){case 0:return ac(a10,b10,c10);case 1:return ac(a10,b10,c10);case 2:return ac(a10,b10,c10);case 3:return ac(a10,b10,c10);case 4:return ac(a10,b10,c10);case 5:return ac(a10,b10,c10);case 6:return ac(a10,b10,c10);case 7:return ac(a10,b10,c10);case 8:return ac([8,a10[1],a10[2]],b10,c10);case 9:var h10=a10[1],e10=aa(a10[2],b10,c10),f10=e10[2];return[0,[23,[9,h10,e10[1]],f10[1]],f10[2]];case 10:return ac(a10,b10,c10);default:return ac(a10,b10,c10)}switch(a10){case 0:return ac(a10,b10,c10);case 1:return ac(a10,b10,c10);case 2:if(typeof c10!="number"&&c10[0]===14){var d10=t(b10,c10[1]);return[0,[23,2,d10[1]],d10[2]]}throw g(M,1);default:return ac(a10,b10,c10)}}function ac(a10,b10,c10){var d10=t(b10,c10);return[0,[23,a10,d10[1]],d10[2]]}function aa(a10,b10,c10){if(typeof a10=="number")return[0,0,t(b10,c10)];switch(a10[0]){case 0:if(typeof c10!="number"&&c10[0]===0){var f10=aa(a10[1],b10,c10[1]);return[0,[0,f10[1]],f10[2]]}break;case 1:if(typeof c10!="number"&&c10[0]===1){var h10=aa(a10[1],b10,c10[1]);return[0,[1,h10[1]],h10[2]]}break;case 2:if(typeof c10!="number"&&c10[0]===2){var i10=aa(a10[1],b10,c10[1]);return[0,[2,i10[1]],i10[2]]}break;case 3:if(typeof c10!="number"&&c10[0]===3){var j10=aa(a10[1],b10,c10[1]);return[0,[3,j10[1]],j10[2]]}break;case 4:if(typeof c10!="number"&&c10[0]===4){var k10=aa(a10[1],b10,c10[1]);return[0,[4,k10[1]],k10[2]]}break;case 5:if(typeof c10!="number"&&c10[0]===5){var l10=aa(a10[1],b10,c10[1]);return[0,[5,l10[1]],l10[2]]}break;case 6:if(typeof c10!="number"&&c10[0]===6){var m10=aa(a10[1],b10,c10[1]);return[0,[6,m10[1]],m10[2]]}break;case 7:if(typeof c10!="number"&&c10[0]===7){var n10=aa(a10[1],b10,c10[1]);return[0,[7,n10[1]],n10[2]]}break;case 8:if(typeof c10!="number"&&c10[0]===8){var o10=c10[1],x10=c10[2],z10=a10[2];if(bG([0,a10[1]],[0,o10]))throw g(M,1);var p10=aa(z10,b10,x10);return[0,[8,o10,p10[1]],p10[2]]}break;case 9:if(typeof c10!="number"&&c10[0]===9){var d10=c10[2],e10=c10[1],A10=c10[3],B10=a10[3],C2=a10[2],D2=a10[1],F2=[0,y(e10)];if(bG([0,y(D2)],F2))throw g(M,1);var G2=[0,y(d10)];if(bG([0,y(C2)],G2))throw g(M,1);var q10=R(I(E(e10),d10)),H2=q10[4];q10[2].call(null,0),H2(0);var r10=aa(y(B10),b10,A10),J2=r10[2];return[0,[9,e10,d10,E(r10[1])],J2]}break;case 10:if(typeof c10!="number"&&c10[0]===10){var s10=aa(a10[1],b10,c10[1]);return[0,[10,s10[1]],s10[2]]}break;case 11:if(typeof c10!="number"&&c10[0]===11){var u10=aa(a10[1],b10,c10[1]);return[0,[11,u10[1]],u10[2]]}break;case 13:if(typeof c10!="number"&&c10[0]===13){var v10=aa(a10[1],b10,c10[1]);return[0,[13,v10[1]],v10[2]]}break;case 14:if(typeof c10!="number"&&c10[0]===14){var w10=aa(a10[1],b10,c10[1]);return[0,[14,w10[1]],w10[2]]}break}throw g(M,1)}function oI(a10,b10){return oF(a10,y(E(b10)))}function ad(a10,b10,c10){var d10=n(c10),g10=0<=b10?a10:0,f10=c0(b10);if(f10<=d10)return c10;var h10=g10===2?48:32,e10=bk(f10,h10);switch(g10){case 0:ax(c10,0,e10,0,d10);break;case 1:ax(c10,0,e10,f10-d10|0,d10);break;default:a:if(0<d10){if(D(c10,0)!==43&&D(c10,0)!==45&&D(c10,0)!==32)break a;au(e10,0,D(c10,0)),ax(c10,1,e10,(f10-d10|0)+1|0,d10-1|0);break}a:if(1<d10&&D(c10,0)===48){if(kx!==D(c10,1)&&D(c10,1)!==88)break a;au(e10,1,D(c10,1)),ax(c10,2,e10,(f10-d10|0)+2|0,d10-2|0);break}ax(c10,0,e10,f10-d10|0,d10)}return $(e10)}function bO(a10,b10){var d10=c0(a10),c10=n(b10),e10=D(b10,0);a:{b:{if(58>e10){if(e10!==32){if(43>e10)break a;switch(e10-43|0){case 5:c:if(c10<(d10+2|0)&&1<c10){if(kx!==D(b10,1)&&D(b10,1)!==88)break c;var g10=bk(d10+2|0,48);return au(g10,1,D(b10,1)),ax(b10,2,g10,(d10-c10|0)+4|0,c10-2|0),$(g10)}break b;case 0:case 2:break;case 1:case 3:case 4:break a;default:break b}}if(c10>=(d10+1|0))break a;var f10=bk(d10+1|0,48);return au(f10,0,e10),ax(b10,1,f10,(d10-c10|0)+2|0,c10-1|0),$(f10)}if(71<=e10){if(5<e10+go>>>0)break a}else if(65>e10)break a}if(c10<d10){var h10=bk(d10,48);return ax(b10,0,h10,d10-c10|0,c10),$(h10)}}return b10}function oJ(a10){var b10=nh(a10),c10=n(b10),d10=bk(c10+2|0,34);return cR(b10,0,d10,1,c10),$(d10)}function oK(a10){switch(a10){case 1:return oM;case 2:return oN;case 4:return oP;case 5:return oQ;case 6:return oR;case 7:return oS;case 8:return oT;case 9:return oU;case 10:return oV;case 11:return oW;case 0:case 13:return oL;case 3:case 14:return oO;default:return oX}}function oY(a10){switch(a10){case 1:return o0;case 2:return o1;case 4:return o3;case 5:return o4;case 6:return o5;case 7:return o6;case 8:return o7;case 9:return o8;case 10:return o9;case 11:return o_;case 0:case 13:return oZ;case 3:case 14:return o2;default:return o$}}function pa(a10){switch(a10){case 1:return pc;case 2:return pd;case 4:return pf;case 5:return pg;case 6:return ph;case 7:return pi;case 8:return pj;case 9:return pk;case 10:return pl;case 11:return pm;case 0:case 13:return pb;case 3:case 14:return pe;default:return pn}}function po(a10){switch(a10){case 1:return pq;case 2:return pr;case 4:return pt;case 5:return pu;case 6:return pv;case 7:return pw;case 8:return px;case 9:return py;case 10:return pz;case 11:return pA;case 0:case 13:return pp;case 3:case 14:return ps;default:return pB}}function hx(a10,b10){var d10=c0(b10),e10=nZ(pC,a10),c10=ht(16);return bN(c10,37),n0(c10,a10),bN(c10,46),Q(c10,m5(d10)),bN(c10,e10),hv(c10)}function c7(a10,b10){if(13>a10)return b10;var h10=[0,0],i10=n(b10)-1|0,o10=0;if(i10>=0)for(var d10=o10;;){9>=_(b10,d10)+lk>>>0&&h10[1]++;var r10=d10+1|0;if(i10===d10)break;d10=r10}var j10=h10[1],k10=C(n(b10)+((j10-1|0)/3|0)|0),l10=[0,0];function e10(a11){au(k10,l10[1],a11),l10[1]++}var f10=[0,((j10-1|0)%3|0)+1|0],m10=n(b10)-1|0,p10=0;if(m10>=0)for(var c10=p10;;){var g10=_(b10,c10);9<g10+lk>>>0||(f10[1]===0&&(e10(95),f10[1]=3),f10[1]--),e10(g10);var q10=c10+1|0;if(m10===c10)break;c10=q10}return $(k10)}function pD(a10,b10){return c7(a10,eb(oK(a10),b10))}function pE(a10,b10){return c7(a10,eb(pa(a10),b10))}function pF(a10,b10){return c7(a10,eb(po(a10),b10))}function pG(a10,b10){return c7(a10,Bj(oY(a10),b10))}function aO(d10,b10,c10){function a10(a11){switch(d10[1]){case 0:var e11=45;break;case 1:var e11=43;break;default:var e11=32}return Be(c10,b10,e11)}function e10(a11){var b11=AZ(c10);return b11===3?c10<0?pI:pJ:4<=b11?pK:a11}function f10(b11){var e11=n(b11);return function(a11){for(var c11=a11;;){if(c11===e11)return 0;var d11=D(b11,c11)-46|0;a:{if(23<d11>>>0){if(d11===55)break a}else if(21<d11-1>>>0)break a;c11=c11+1|0;continue}return 1}}(0)?b11:aM(b11,pH)}switch(d10[2]){case 5:return e10(f10(gI(hx(d10,b10),c10)));case 6:return a10(0);case 7:return nm(a10(0));case 8:return e10(a10(0));default:return gI(hx(d10,b10),c10)}}function pL(a10){var b10=mF(a10),c10=n(b10),d10=bk(c10+2|0,39);return cR(b10,0,d10,1,c10),$(d10)}function pM(a10){var b10=ht(16);return eI(b10,a10),hv(b10)}function cF(a10,b10,c10,d10){for(var k10=b10,j10=c10,e10=d10;;){if(typeof e10=="number")return h(k10,j10);switch(e10[0]){case 0:var t10=e10[1];return function(a11){return o(k10,[5,j10,a11],t10)};case 1:var u10=e10[1];return function(a11){return o(k10,[4,j10,pL(a11)],u10)};case 2:return eJ(k10,j10,e10[2],e10[1],function(a11){return a11});case 3:return eJ(k10,j10,e10[2],e10[1],oJ);case 4:return c8(k10,j10,e10[4],e10[2],e10[3],pD,e10[1]);case 5:return c8(k10,j10,e10[4],e10[2],e10[3],pE,e10[1]);case 6:return c8(k10,j10,e10[4],e10[2],e10[3],pF,e10[1]);case 7:return c8(k10,j10,e10[4],e10[2],e10[3],pG,e10[1]);case 8:return pN(k10,j10,e10[4],e10[2],e10[3],e10[1]);case 9:return eJ(k10,j10,e10[2],e10[1],mj);case 10:j10=[7,j10],e10=e10[1];break;case 11:j10=[2,j10,e10[1]],e10=e10[2];break;case 12:j10=[3,j10,e10[1]],e10=e10[2];break;case 13:var v10=e10[3],x10=pM(e10[2]);return function(a11){return o(k10,[4,j10,x10],v10)};case 14:var y10=e10[3],z10=e10[2];return function(a11){return o(k10,j10,w(oI(a11[1],z10),y10))};case 15:var A10=e10[1];return function(c11,b11){return o(k10,[6,j10,function(a11){return i(c11,a11,b11)}],A10)};case 16:var B10=e10[1];return function(a11){return o(k10,[6,j10,a11],B10)};case 17:j10=[0,j10,e10[1]],e10=e10[2];break;case 18:var l10=e10[1];if(l10[0]===0){let b11=j10,c11=k10,d11=e10[2];k10=function(a11){return o(c11,[1,b11,[0,a11]],d11)},j10=0,e10=l10[1][1]}else{let b11=j10,c11=k10,d11=e10[2];k10=function(a11){return o(c11,[1,b11,[1,a11]],d11)},j10=0,e10=l10[1][1]}break;case 19:throw g([0,f,pP],1);case 20:var C2=e10[3],D2=[8,j10,pQ];return function(a11){return o(k10,D2,C2)};case 21:var E2=e10[2];return function(a11){return o(k10,[4,j10,eb(kq,a11)],E2)};case 22:var F2=e10[1];return function(a11){return o(k10,[5,j10,a11],F2)};case 23:var m10=e10[2],n10=e10[1];return a10<50?jV(a10+1|0,k10,j10,n10,m10):p(jV,[0,k10,j10,n10,m10]);default:var q10=e10[3],r10=e10[1],s10=h(e10[2],0);return a10<50?f0(a10+1|0,k10,j10,q10,r10,s10):p(f0,[0,k10,j10,q10,r10,s10])}}}function o(a10,b10,c10){return bI(cF(0,a10,b10,c10))}function jV(a10,b10,c10,d10,e10){if(typeof d10=="number")switch(d10){case 0:return a10<50?q(a10+1|0,b10,c10,e10):p(q,[0,b10,c10,e10]);case 1:return a10<50?q(a10+1|0,b10,c10,e10):p(q,[0,b10,c10,e10]);case 2:throw g([0,f,pR],1);default:return a10<50?q(a10+1|0,b10,c10,e10):p(q,[0,b10,c10,e10])}switch(d10[0]){case 0:return a10<50?q(a10+1|0,b10,c10,e10):p(q,[0,b10,c10,e10]);case 1:return a10<50?q(a10+1|0,b10,c10,e10):p(q,[0,b10,c10,e10]);case 2:return a10<50?q(a10+1|0,b10,c10,e10):p(q,[0,b10,c10,e10]);case 3:return a10<50?q(a10+1|0,b10,c10,e10):p(q,[0,b10,c10,e10]);case 4:return a10<50?q(a10+1|0,b10,c10,e10):p(q,[0,b10,c10,e10]);case 5:return a10<50?q(a10+1|0,b10,c10,e10):p(q,[0,b10,c10,e10]);case 6:return a10<50?q(a10+1|0,b10,c10,e10):p(q,[0,b10,c10,e10]);case 7:return a10<50?q(a10+1|0,b10,c10,e10):p(q,[0,b10,c10,e10]);case 8:return a10<50?q(a10+1|0,b10,c10,e10):p(q,[0,b10,c10,e10]);case 9:var h10=d10[2];return a10<50?f1(a10+1|0,b10,c10,h10,e10):p(f1,[0,b10,c10,h10,e10]);case 10:return a10<50?q(a10+1|0,b10,c10,e10):p(q,[0,b10,c10,e10]);default:return a10<50?q(a10+1|0,b10,c10,e10):p(q,[0,b10,c10,e10])}}function f1(a10,h10,c10,d10,e10){if(typeof d10=="number")return a10<50?q(a10+1|0,h10,c10,e10):p(q,[0,h10,c10,e10]);switch(d10[0]){case 0:var b10=d10[1];return function(a11){return ai(h10,c10,b10,e10)};case 1:var i10=d10[1];return function(a11){return ai(h10,c10,i10,e10)};case 2:var j10=d10[1];return function(a11){return ai(h10,c10,j10,e10)};case 3:var k10=d10[1];return function(a11){return ai(h10,c10,k10,e10)};case 4:var l10=d10[1];return function(a11){return ai(h10,c10,l10,e10)};case 5:var m10=d10[1];return function(a11){return ai(h10,c10,m10,e10)};case 6:var n10=d10[1];return function(a11){return ai(h10,c10,n10,e10)};case 7:var o10=d10[1];return function(a11){return ai(h10,c10,o10,e10)};case 8:var r10=d10[2];return function(a11){return ai(h10,c10,r10,e10)};case 9:var s10=d10[3],t10=d10[2],u10=I(E(d10[1]),t10);return function(a11){return ai(h10,c10,X(u10,s10),e10)};case 10:var v10=d10[1];return function(a11,b11){return ai(h10,c10,v10,e10)};case 11:var w10=d10[1];return function(a11){return ai(h10,c10,w10,e10)};case 12:var x10=d10[1];return function(a11){return ai(h10,c10,x10,e10)};case 13:throw g([0,f,pS],1);default:throw g([0,f,pT],1)}}function ai(a10,b10,c10,d10){return bI(f1(0,a10,b10,c10,d10))}function q(a10,b10,c10,d10){var e10=[8,c10,pU];return a10<50?cF(a10+1|0,b10,e10,d10):p(cF,[0,b10,e10,d10])}function eJ(g10,f10,c10,d10,e10){if(typeof d10=="number")return function(a10){return o(g10,[4,f10,h(e10,a10)],c10)};if(d10[0]===0){var b10=d10[2],i10=d10[1];return function(a10){return o(g10,[4,f10,ad(i10,b10,h(e10,a10))],c10)}}var j10=d10[1];return function(a10,b11){return o(g10,[4,f10,ad(j10,a10,h(e10,b11))],c10)}}function c8(k10,j10,h10,d10,e10,f10,g10){if(typeof d10=="number"){if(typeof e10=="number")return e10?function(a10,b11){return o(k10,[4,j10,bO(a10,i(f10,g10,b11))],h10)}:function(a10){return o(k10,[4,j10,i(f10,g10,a10)],h10)};var b10=e10[1];return function(a10){return o(k10,[4,j10,bO(b10,i(f10,g10,a10))],h10)}}if(d10[0]===0){var c10=d10[2],l10=d10[1];if(typeof e10=="number")return e10?function(a10,b11){return o(k10,[4,j10,ad(l10,c10,bO(a10,i(f10,g10,b11)))],h10)}:function(a10){return o(k10,[4,j10,ad(l10,c10,i(f10,g10,a10))],h10)};var n10=e10[1];return function(a10){return o(k10,[4,j10,ad(l10,c10,bO(n10,i(f10,g10,a10)))],h10)}}var m10=d10[1];if(typeof e10=="number")return e10?function(a10,b11,c11){return o(k10,[4,j10,ad(m10,a10,bO(b11,i(f10,g10,c11)))],h10)}:function(a10,b11){return o(k10,[4,j10,ad(m10,a10,i(f10,g10,b11))],h10)};var p10=e10[1];return function(a10,b11){return o(k10,[4,j10,ad(m10,a10,bO(p10,i(f10,g10,b11)))],h10)}}function pN(i10,h10,g10,d10,e10,f10){if(typeof d10=="number"){if(typeof e10=="number")return e10?function(a10,b11){return o(i10,[4,h10,aO(f10,a10,b11)],g10)}:function(a10){return o(i10,[4,h10,aO(f10,eH(f10),a10)],g10)};var b10=e10[1];return function(a10){return o(i10,[4,h10,aO(f10,b10,a10)],g10)}}if(d10[0]===0){var c10=d10[2],j10=d10[1];if(typeof e10=="number")return e10?function(a10,b11){return o(i10,[4,h10,ad(j10,c10,aO(f10,a10,b11))],g10)}:function(a10){return o(i10,[4,h10,ad(j10,c10,aO(f10,eH(f10),a10))],g10)};var l10=e10[1];return function(a10){return o(i10,[4,h10,ad(j10,c10,aO(f10,l10,a10))],g10)}}var k10=d10[1];if(typeof e10=="number")return e10?function(a10,b11,c11){return o(i10,[4,h10,ad(k10,a10,aO(f10,b11,c11))],g10)}:function(a10,b11){return o(i10,[4,h10,ad(k10,a10,aO(f10,eH(f10),b11))],g10)};var m10=e10[1];return function(a10,b11){return o(i10,[4,h10,ad(k10,a10,aO(f10,m10,b11))],g10)}}function f0(a10,b10,c10,d10,e10,f10){if(e10){var i10=e10[1];return function(a11){return pO(b10,c10,d10,i10,h(f10,a11))}}var g10=[4,c10,f10];return a10<50?cF(a10+1|0,b10,g10,d10):p(cF,[0,b10,g10,d10])}function pO(a10,b10,c10,d10,e10){return bI(f0(0,a10,b10,c10,d10,e10))}function aP(a10,b10){for(var c10=b10;;){if(typeof c10=="number")return;switch(c10[0]){case 0:var f10=c10[1],g10=hw(c10[2]);return aP(a10,f10),ca(a10,g10);case 1:var d10=c10[2],e10=c10[1];if(d10[0]===0){var i10=d10[1];aP(a10,e10),ca(a10,pV),c10=i10}else{var j10=d10[1];aP(a10,e10),ca(a10,pW),c10=j10}break;case 6:var m10=c10[2];return aP(a10,c10[1]),h(m10,a10);case 7:return aP(a10,c10[1]),cb(a10);case 8:var n10=c10[2];return aP(a10,c10[1]),s(n10);case 2:case 4:var k10=c10[2];return aP(a10,c10[1]),ca(a10,k10);default:var l10=c10[2];return aP(a10,c10[1]),mu(a10,l10)}}}function aQ(a10,b10){for(var c10=b10;;){if(typeof c10=="number")return;switch(c10[0]){case 0:var f10=c10[1],g10=hw(c10[2]);return aQ(a10,f10),cl(a10,g10);case 1:var d10=c10[2],e10=c10[1];if(d10[0]===0){var i10=d10[1];aQ(a10,e10),cl(a10,pX),c10=i10}else{var j10=d10[1];aQ(a10,e10),cl(a10,pY),c10=j10}break;case 6:var m10=c10[2];return aQ(a10,c10[1]),cl(a10,h(m10,0));case 7:c10=c10[1];break;case 8:var n10=c10[2];return aQ(a10,c10[1]),s(n10);case 2:case 4:var k10=c10[2];return aQ(a10,c10[1]),cl(a10,k10);default:var l10=c10[2];return aQ(a10,c10[1]),nQ(a10,l10)}}}function pZ(a10){var c10=a10[1],b10=bl(cJ);return o(function(a11){return aQ(b10,a11),a4(ck(b10))},0,c10)}function p0(c10){if(c10===e)return p1;var f10=n(c10);function j10(a11){return h(pZ(p2),c10)}function k10(a11){for(var b11=a11;;){if(b11===f10)return b11;var d11=D(c10,b11);if(d11!==9&&d11!==32)return b11;b11=b11+1|0}}var i10=k10(0),o10=function(a11,b11){for(var d11=b11;;){if(d11===f10||25<D(c10,d11)+go>>>0)return d11;d11=d11+1|0}}(i10,i10),a10=ew(c10,i10,o10-i10|0),d10=k10(o10),l10=function(a11,b11){for(var d11=b11;;){if(d11===f10)return d11;var e10=D(c10,d11);a:{if(48<=e10){if(58>e10)break a}else if(e10===45)break a;return d11}d11=d11+1|0}}(d10,d10);if(d10===l10)var m10=0;else try{var r10=lX(ew(c10,d10,l10-d10|0)),m10=r10}catch(f11){var p10=P(f11);if(p10[1]!==b_)throw g(p10,0);var q10=j10(0),m10=q10}k10(l10)!==f10&&j10(0);a:{if(a10!==e&&a10!==j4){if(a10==="h"){var b10=0;break a}if(a10==="hov"){var b10=3;break a}if(a10==="hv"){var b10=2;break a}if(a10!=="v"){var b10=j10(0);break a}var b10=1;break a}var b10=4}return[0,m10,b10]}function p3(d10,b10,c10){return o(function(a10){return aP(b10,a10),h(d10,b10)},0,c10[1])}function c9(a10,b10){return p3(function(a11){return 0},a10,b10)}function eK(a10){return c9(ah,a10)}function eL(c10,b10){return o(function(a10){var b11=bl(64);return aQ(b11,a10),h(c10,ck(b11))},0,b10[1])}function z(a10){return eL(function(a11){return a11},a10)}var eM=ce(0);function eO(a10,b10){var c10=a10[1+b10];return mv(c10)?bH(c10)===d2?h(z(p4),c10):bH(c10)===253?mp(c10):p5:h(z(p6),c10)}function hy(a10,b10){if(a10.length-1<=b10)return p7;var c10=hy(a10,b10+1|0),d10=eO(a10,b10);return i(z(p8),d10,c10)}function p9(a10){var b10=a10.length-1;if(2>=b10>>>0)switch(b10){case 0:return p$;case 1:return qa;default:var e10=eO(a10,1);return h(z(qb),e10)}var c10=hy(a10,2),d10=eO(a10,1);return i(z(p_),d10,c10)}function qc(d10){return function(a10){for(var b10=a10;;){if(!b10)return 0;var e10=b10[2],f10=b10[1];a:{try{var c10=h(f10,d10)}catch{break a}if(c10)return[0,c10[1]]}b10=e10}}(cd(eM))}function qd(a10){if(bH(a10)!==0)return[0,a10[1],0];var b10=a10[1][1];return[0,b10,[0,p9(a10)]]}function qe(a10){var b10=qd(a10),c10=b10[2],d10=b10[1];return c10?aM(d10,c10[1]):d10}function qf(a10){if(a10===em)return qg;if(a10===g2)return qh;if(a10[1]===g1){var b10=a10[2],e10=b10[3],i10=b10[2],j10=b10[1];return f4(z(eN),j10,i10,e10,e10+5|0,qi)}if(a10[1]===f){var c10=a10[2],g10=c10[3],k10=c10[2],l10=c10[1];return f4(z(eN),l10,k10,g10,g10+6|0,qj)}if(a10[1]!==b$)return qe(a10);var d10=a10[2],h10=d10[3],m10=d10[2],n10=d10[1];return f4(z(eN),n10,m10,h10,h10+6|0,qk)}function c_(a10){var b10=qc(a10);return b10?b10[1]:qf(a10)}function ql(a10){var b10=[0,A0(a10)];return b10}function qm(c10,b10){function a10(a11){return a11?c10===0?qn:qo:c10===0?qp:qq}if(b10[0]!==0){if(b10[1])return 0;var p10=a10(0);return[0,h(z(qw),p10)]}if(b10[3]===b10[6])var e10=b10[3],d10=h(z(qr),e10);else var n10=b10[6],o10=b10[3],d10=i(z(qv),o10,n10);var f10=b10[7],g10=b10[4],j10=b10[8]?qs:qu,k10=b10[2],l10=b10[9],m10=a10(b10[1]);return[0,AK(z(qt),m10,l10,k10,j10,d10,g10,f10)]}function qx(a10,b10){if(!b10)return c9(a10,qz);var d10=b10[1],e10=d10.length-2|0,g10=0;if(e10>=0)for(var c10=g10;;){var f10=qm(c10,j(d10,c10)[1+c10]);if(f10){var i10=f10[1];h(c9(a10,qy),i10)}var k10=c10+1|0;if(e10===c10)break;c10=k10}return 0}function c$(a10,b10){return qx(a10,ql(b10))}var qC=qB.slice();function qD(a10,b10){var e10=c_(a10);h(eK(qE),e10),c$(ah,b10);var c10=BE(0);if(c10<0){var d10=c0(c10);g6(j(qC,d10)[1+d10])}return cb(ah)}var qF=[0];function hz(a10){var b10=lN(0);return b10}function qG(a10,b10){try{var d10=b10?qF:hz(0);try{ep(0)}catch{}try{var f10=qD(a10,d10),e10=f10}catch(f11){var i10=P(f11),j10=hz(0),k10=c_(a10);h(eK(qI),k10),c$(ah,d10);var l10=c_(i10);h(eK(qJ),l10),c$(ah,j10);var e10=cb(ah)}return e10}catch(f11){var c10=P(f11);if(c10===em)return g6(qH);throw g(c10,0)}}gX(ls,function(a10,b10){try{var c10=qG(a10,b10);return c10}catch{return 0}});function qA(a10){for(;;){var b10=cd(eM),c10=1-g8(eM,b10,[0,a10,b10]);if(!c10)return c10}}function qK(a10){return lN(a10)}var qM=[r,qL,an(0)];qA(function(a10){return a10[1]===qM?[0,aM(qN,c_(a10[2]))]:0});function eP(a10){var b10=a10[1]<1?1:0,c10=b10||(64<a10[1]?1:0);c10&&s(qO)}eP([0,16]),eP([0,32]),eP([0,64]);function qP(a10){return BC2(a10,0,n(a10))}function hA(a10){return qP($(a10))}function qQ(a10,b10,c10){return AS(a10,b10,[0,c10])}function hB(a10){return qQ(7,0,4)}function hC(a10,b10,c10,d10,e10){cQ(a10,0,lU(b10,qR)),cQ(a10,1,c10);var f10=bG(d10,qS)?d10:qV;cQ(a10,2,f10);var g10=bG(e10,qT)?e10:qU;cQ(a10,3,g10)}function hD(a10,b10,c10,d10){var e10=hB(0);return hC(e10,a10,b10,c10,d10),e10}function qW(a10,b10){var e10=b10.length-1,d10=C((e10*8|0)+1|0),f10=e10-1|0,i10=0;if(f10>=0)for(var c10=i10;;){nf(d10,c10*8|0,cW(j(b10,c10)[1+c10]));var n10=c10+1|0;if(f10===c10)break;c10=n10}au(d10,e10*8|0,1);var g10=hA(d10);au(d10,e10*8|0,2);var h10=hA(d10),k10=c4(h10,8),l10=c4(h10,0),m10=c4(g10,8);return hC(a10,c4(g10,0),m10,l10,k10)}function qX(a10){var b10=hB(0);return qW(b10,a10),b10}function hE(a10){return qX(BU(0))}function bP(a10){return l1(a10)}function qY(a10){return lV(l1(a10))&1073741823}aN([0,function(a10){var b10=bP(a10),c10=bP(a10),d10=bP(a10);return hD(b10,c10,d10,bP(a10))}],function(a10){return hD(q2,q1,q0,qZ)});function q3(a10){var b10=a10.length-1<4?1:0,c10=b10||(a10[4]<0?1:0);return c10}try{var AI=l$(ln),hI=AI}catch(f10){var hF=P(f10);if(hF!==a5)throw g(hF,0);try{var AH=l$("CAMLRUNPARAM"),hH=AH}catch(f11){var hG=P(f11);if(hG!==a5)throw g(hG,0);var hH=q4}var hI=hH}var q5=ce(nl(hI,82)),q6=aN(0,hE);function q7(a10,b10){for(var c10=a10;;){if(b10<=c10||eq2<(c10*2|0))return c10;c10=c10*2|0}}function hJ(a10,b10){var d10=a10?a10[1]:cd(q5),c10=q7(16,b10),e10=d10?qY(a8(q6)):0;return[0,0,ap(c10,0),e10,c10]}function q8(m10,b10,c10,d10){var g10=d10.length-1,f10=ap(g10,0),i10=c10.length-2|0;function n10(a11){for(var c11=a11;;){if(!c11)return;var i11=c11[1],l11=c11[2],n11=c11[3],g11=b10?c11:[0,i11,l11,0],e11=h(m10,i11),k11=j(f10,e11)[1+e11];k11?k11[3]=g11:j(d10,e11)[1+e11]=g11,j(f10,e11)[1+e11]=g11,c11=n11}}var o10=0;if(i10>=0)for(var e10=o10;;){n10(j(c10,e10)[1+e10]);var r10=e10+1|0;if(i10===e10)break;e10=r10}if(b10){var k10=g10-1|0,p10=0;if(k10>=0)for(var a10=p10;;){var l10=j(f10,a10)[1+a10];l10&&(l10[3]=0);var q10=a10+1|0;if(k10===a10)break;a10=q10}}}function q9(a10,b10){var c10=b10[2],d10=(c10.length-1)*2|0,e10=d10<eq2?1:0;if(!e10)return e10;var f10=ap(d10,0),g10=1-q3(b10);return b10[2]=f10,q8(h(a10,b10),g10,c10,f10)}function eQ(a10,b10){return 4<=a10.length-1?A_(10,gp,a10[3],b10)&(a10[2].length-2|0):s(q_)}function q$(a10,b10){for(var c10=b10;;){if(!c10)return 0;var d10=c10[2],e10=c10[3];if(cS(a10,c10[1])===0)return[0,d10];c10=e10}}function hK(a10,b10){var f10=eQ(a10,b10),c10=j(a10[2],f10)[1+f10];if(!c10)return 0;var d10=c10[3],g10=c10[2];if(cS(b10,c10[1])===0)return[0,g10];if(!d10)return 0;var e10=d10[3],h10=d10[2];if(cS(b10,d10[1])===0)return[0,h10];if(!e10)return 0;var i10=e10[2],k10=e10[3];return cS(b10,e10[1])===0?[0,i10]:q$(b10,k10)}function ra(a10,b10,c10){for(var d10=c10;;){if(!d10)return 1;var e10=d10[3];if(cS(d10[1],a10)===0)return d10[1]=a10,d10[2]=b10,0;d10=e10}}function hL(a10,b10,c10){var d10=eQ(a10,b10),e10=j(a10[2],d10)[1+d10];if(ra(b10,c10,e10)&&(j(a10[2],d10)[1+d10]=[0,b10,c10,e10],a10[1]=a10[1]+1|0,a10[2].length-1<<1<a10[1]))return q9(eQ,a10)}function ar(a10){return a10}var da=0,hM=-1;function hN(a10){return 0<=a10?1:0}var co=[r,rb,an(0)];function cp(a10,b10){return a10[13]=a10[13]+b10[3]|0,eC(b10,a10[28])}var hO=1000000010;function rc(a10){return a10[12]=1,a10[13]=1,eB(a10[28])}function eR(a10,b10){return x(a10[17],b10,0,n(b10))}function db(a10){return h(a10[19],0)}function rd(a10,b10){return h(a10[20],b10)}function re(a10,b10){return h(a10[21],b10)}function hP(a10,b10,c10){a10[9]=a10[9]-b10|0,eR(a10,c10),a10[11]=0}function dc(a10,b10){var c10=b10!==e?1:0;return c10&&hP(a10,n(b10),b10)}function bm(a10,b10,c10){var d10=b10[3],e10=b10[2];return dc(a10,b10[1]),db(a10),a10[11]=1,a10[10]=m3(a10[8],(a10[6]-c10|0)+e10|0),a10[9]=a10[6]-a10[10]|0,re(a10,a10[10]),dc(a10,d10)}function hQ(a10,b10){return bm(a10,rf,b10)}function bQ(a10,b10){var c10=b10[2],d10=b10[3];return dc(a10,b10[1]),a10[9]=a10[9]-c10|0,rd(a10,c10),dc(a10,d10)}function rg(a10){var b10=bM(a10[2]);if(!b10)return db(a10);var c10=b10[1],d10=c10[2],e10=a10[9]<d10?1:0,f10=c10[1];if(!e10)return e10;if(!(3<f10-1>>>0))return hQ(a10,d10)}function rh(a10){var b10=nL(a10[28]);if(b10){var c10=b10[1],d10=c10[1];a10[12]=a10[12]-c10[3]|0;var e10=d10;a10[9]=a10[9]+e10|0}}function ri(a10,b10,c10){if(typeof c10=="number")switch(c10){case 0:var j10=bM(a10[3]);if(!j10)return;var k10=j10[1][1],l10=function(a11,b11){if(!b11)return[0,a11,0];var c11=b11[1],d11=b11[2];return Bw(a11,c11)?[0,a11,b11]:[0,c11,l10(a11,d11)]};k10[1]=l10(a10[6]-a10[9]|0,k10[1]);return;case 1:bL(a10[2]);return;case 2:bL(a10[3]);return;case 3:var m10=bM(a10[2]);return m10?hQ(a10,m10[1][2]):db(a10);case 4:var o10=a10[10]!==(a10[6]-a10[9]|0)?1:0;return o10&&rh(a10);default:var p10=bL(a10[5]);return p10?eR(a10,h(a10[25],p10[1])):void 0}switch(c10[0]){case 0:return hP(a10,b10,c10[1]);case 1:var d10=c10[2],f10=c10[1],q10=d10[1],z10=d10[2],r10=bM(a10[2]);if(!r10)return;var s10=r10[1],e10=s10[2];switch(s10[1]){case 0:return bQ(a10,f10);case 1:return bm(a10,d10,e10);case 2:return bm(a10,d10,e10);case 3:return a10[9]<(b10+n(q10)|0)?bm(a10,d10,e10):bQ(a10,f10);case 4:return a10[11]?bQ(a10,f10):a10[9]<(b10+n(q10)|0)||((a10[6]-e10|0)+z10|0)<a10[10]?bm(a10,d10,e10):bQ(a10,f10);default:return bQ(a10,f10)}case 2:var g10=a10[6]-a10[9]|0,A10=c10[2],B10=c10[1],t10=bM(a10[3]);if(!t10)return;var u10=t10[1][1],v10=u10[1];if(v10)var C2=v10[1],i10=function(a11){for(var b11=a11;;){if(!b11)return C2;var c11=b11[1],d11=b11[2];if(g10<=c11)return c11;b11=d11}}(u10[1]);else var i10=g10;var w10=i10-g10|0;return 0<=w10?bQ(a10,[0,rk,w10+B10|0,rj]):bm(a10,[0,rm,i10+A10|0,rl],a10[6]);case 3:var x10=c10[2],D2=c10[1];a10[8]<(a10[6]-a10[9]|0)&&rg(a10);var E2=a10[9]-D2|0,F2=x10===1?1:a10[9]<b10?x10:5;return a7([0,F2,E2],a10[2]);case 4:return a7(c10[1],a10[3]);default:var y10=c10[1];return eR(a10,h(a10[24],y10)),a7(y10,a10[5])}}function hR(a10){for(;;){var d10=nK(a10[28]);if(!d10)return 0;var b10=d10[1],c10=b10[1],f10=b10[3],g10=b10[2],h10=a10[13]-a10[12]|0,i10=hN(c10),e10=i10||(a10[9]<=h10?1:0);if(!e10)return e10;hk(a10[28]);var j10=hN(c10)?c10:hO;ri(a10,j10,g10),a10[12]=f10+a10[12]|0}}function hS(a10,b10){return cp(a10,b10),hR(a10)}function hT(a10,b10,c10){return hS(a10,[0,b10,[0,c10],b10])}function rn(a10,b10){return hT(a10,n(b10),b10)}function eS(a10){return cj(a10),a7([0,-1,[0,hM,ro,0]],a10)}function eT(a10,b10){var d10=bM(a10[1]);if(d10){var e10=d10[1],c10=e10[2],h10=e10[1],f10=c10[1];if(h10<a10[12])return eS(a10[1]);var g10=c10[2];if(typeof g10!="number")switch(g10[0]){case 3:1-b10&&(c10[1]=a10[13]+f10|0,bL(a10[1]));return;case 1:case 2:b10&&(c10[1]=a10[13]+f10|0,bL(a10[1]));return}}}function hU(a10,b10,c10){return cp(a10,c10),b10&&eT(a10,1),a7([0,a10[13],c10],a10[1])}function hV(a10,b10,c10){if(a10[14]=a10[14]+1|0,a10[14]<a10[15])return hU(a10,0,[0,-a10[13]|0,[3,b10,c10],0]);var d10=a10[14]===a10[15]?1:0;return d10&&rn(a10,a10[16])}function rp(a10){return hV(a10,0,3)}function hW(a10,b10){var c10=1<a10[14]?1:0;if(c10){a10[14]<a10[15]&&(cp(a10,[0,da,1,0]),eT(a10,1),eT(a10,0)),a10[14]=a10[14]-1|0;var d10=0}else var d10=c10;return d10}function hX(a10,b10){a10[23]&&cp(a10,[0,da,5,0]);var c10=a10[22];if(c10){var d10=bL(a10[4]);if(d10)return h(a10[27],d10[1]);var e10=0}else var e10=c10;return e10}function ru(a10){return rc(a10),eS(a10[1]),cj(a10[2]),cj(a10[3]),cj(a10[4]),cj(a10[5]),a10[10]=0,a10[14]=0,a10[9]=a10[6],rp(a10)}function rv(b10){return nH(function(a10){return hX(b10,0)},b10[4])}function hY(a10,b10){for(rv(a10);;){if(1>=a10[14])return a10[13]=hO,hR(a10),b10&&db(a10),ru(a10);hW(a10,0)}}function eU(a10,b10,c10){var d10=a10[14]<a10[15]?1:0;return d10&&hT(a10,b10,c10)}function hZ(a10,b10,c10){return eU(a10,b10,c10)}function cq(a10,b10){return hZ(a10,1,c3(1,b10))}function a9(a10,b10){return hY(a10,0),h(a10[18],0)}function rz(a10,b10,c10){var d10=a10[14]<a10[15]?1:0,e10=b10[3],f10=b10[2],g10=b10[1];return d10&&hU(a10,1,[0,-a10[13]|0,[1,b10,c10],(n(g10)+f10|0)+n(e10)|0])}function h0(a10,b10){var c10=b10[5],d10=b10[4],e10=b10[3],f10=b10[2];return a10[17]=b10[1],a10[18]=f10,a10[19]=e10,a10[20]=d10,a10[21]=c10,0}function h1(a10,b10){return[0,,,a10[19],a10[20],a10[21]]}function eV(a10,b10){return x(a10[17],rF,0,1)}var h2=c3(80,32);function bR(a10,b10){for(var c10=b10;;){var d10=0<c10?1:0;if(!d10)return d10;if(80>=c10)return x(a10[17],h2,0,c10);x(a10[17],h2,0,80),c10=c10-80|0}}function rG(a10){return a10[1]===co?aM(rI,aM(a10[2],rH)):rJ}function rK(a10){return a10[1]===co?aM(rM,aM(a10[2],rL)):rN}function rO(a10){return 0}function rP(a10){return 0}function eW(a10,b10,c10,d10,e10){var g10=eA(0),h10=[0,hM,rQ,0];eC(h10,g10);var f10=bK(0);eS(f10),a7([0,1,h10],f10);var i10=78,j10=bK(0),k10=bK(0),l10=bK(0);return[0,f10,bK(0),l10,k10,j10,i10,10,68,i10,0,1,1,1,1,g4,rR,a10,b10,c10,d10,e10,0,0,rG,rK,rO,rP,g10]}function h3(a10,b10){var c10=eW(a10,b10,function(a11){return 0},function(a11){return 0},function(a11){return 0});return c10[19]=function(a11){return eV(c10,a11)},c10[20]=function(a11){return bR(c10,a11)},c10[21]=function(a11){return bR(c10,a11)},c10}function h4(d10){return h3(function(a10,b10,c10){return g5(d10,a10,b10,c10)},function(a10){return cb(d10)})}function dd(d10){return h3(function(a10,b10,c10){return hm(d10,a10,b10,c10)},function(a10){return 0})}var eX=dU;function h5(a10){return bl(eX)}var h6=h5(0),eY=h4(en),eZ=h4(ah),rS=dd(h6),h7=aN(0,h5);cm(h7,h6),cm(aN(0,function(a10){return dd(a8(h7))}),rS);function de(a10,b10,c10,d10){return hm(a8(a10),b10,c10,d10)}function df(a10,b10,c10){var d10=a8(b10),e10=hl(d10);return g5(a10,ck(d10),0,e10),cb(a10),nO(d10)}var dg=aN(0,function(a10){return bl(eX)}),dh=aN(0,function(a10){return bl(eX)}),h8=aN(0,function(a10){var b10=eW(function(a11,b11,c10){return de(dg,a11,b11,c10)},function(a11){return df(en,dg,a11)},function(a11){return 0},function(a11){return 0},function(a11){return 0});return b10[19]=function(a11){return eV(b10,a11)},b10[20]=function(a11){return bR(b10,a11)},b10[21]=function(a11){return bR(b10,a11)},hs(function(a11){return a9(b10,a11)}),b10});cm(h8,eY);var h9=aN(0,function(a10){var b10=eW(function(a11,b11,c10){return de(dh,a11,b11,c10)},function(a11){return df(ah,dh,a11)},function(a11){return 0},function(a11){return 0},function(a11){return 0});return b10[19]=function(a11){return eV(b10,a11)},b10[20]=function(a11){return bR(b10,a11)},b10[21]=function(a11){return bR(b10,a11)},hs(function(a11){return a9(b10,a11)}),b10});cm(h9,eZ);function rq(a10,b10){a10[22]&&(a7(b10,a10[4]),h(a10[26],b10));var c10=a10[23];return c10&&cp(a10,[0,da,[5,b10],0])}function rw(a10,b10){return hZ(a10,n(b10),b10)}function rx(a10,b10){return hY(a10,1),h(a10[18],0)}function ry(a10,b10){var c10=a10[14]<a10[15]?1:0;return c10&&hS(a10,[0,da,3,0])}function rA(a10,b10,c10){return rz(a10,[0,rE,b10,rD],[0,rC,c10,rB])}function h_(a10,b10){var c10=bl(16),d10=dd(c10);i(a10,d10,b10),a9(d10,0);var e10=hl(c10);return 2<=e10?nM(c10,1,e10-2|0):ck(c10)}function rT(a10,b10){if(typeof b10=="number")switch(b10){case 0:return hW(a10,0);case 1:return hX(a10,0);case 2:return a9(a10,0);case 3:return ry(a10,0);case 4:return rx(a10,0);case 5:return cq(a10,64);default:return cq(a10,37)}switch(b10[0]){case 0:return rA(a10,b10[2],b10[3]);case 1:return 0;default:var c10=b10[1];return cq(a10,64),cq(a10,c10)}}function aj(a10,b10){if(typeof b10=="number")return 0;a:{b:{c:{switch(b10[0]){case 0:var z10=b10[2];return aj(a10,b10[1]),rT(a10,z10);case 1:var g10=b10[2],m10=b10[1];if(g10[0]===0){var A10=g10[1];return aj(a10,m10),rq(a10,[0,co,h_(aj,A10)])}var B10=g10[1];aj(a10,m10);var n10=p0(h_(aj,B10));return hV(a10,n10[1],n10[2]);case 2:var c10=b10[1];if(typeof c10!="number"&&c10[0]===0){var i10=c10[2];if(typeof i10!="number"&&i10[0]===1){var t10=b10[2],r10=i10[2],q10=c10[1];break b}}var p10=b10[2],o10=c10;break a;case 3:var d10=b10[1];if(typeof d10!="number"&&d10[0]===0){var j10=d10[2];if(typeof j10!="number"&&j10[0]===1){var y10=b10[2],x10=j10[2],w10=d10[1];break}}var v10=b10[2],u10=d10;break c;case 4:var e10=b10[1];if(typeof e10!="number"&&e10[0]===0){var k10=e10[2];if(typeof k10!="number"&&k10[0]===1){var t10=b10[2],r10=k10[2],q10=e10[1];break b}}var p10=b10[2],o10=e10;break a;case 5:var f10=b10[1];if(typeof f10!="number"&&f10[0]===0){var l10=f10[2];if(typeof l10!="number"&&l10[0]===1){var y10=b10[2],x10=l10[2],w10=f10[1];break}}var v10=b10[2],u10=f10;break c;case 6:var D2=b10[2];return aj(a10,b10[1]),h(D2,a10);case 7:return aj(a10,b10[1]),a9(a10,0);default:var E2=b10[2];return aj(a10,b10[1]),s(E2)}aj(a10,w10);var C2=c3(1,y10);return eU(a10,x10,C2)}return aj(a10,u10),cq(a10,v10)}return aj(a10,q10),eU(a10,r10,t10)}return aj(a10,o10),rw(a10,p10)}function h$(a10){return a9(a8(h8),0),a9(a8(h9),0)}mt(h$),nX(function(a10){h$(0);var b10=h1(eY,0);h0(eY,[0,function(a11,b11,c11){return de(dg,a11,b11,c11)},function(a11){return df(en,dg,a11)},b10[3],b10[4],b10[5]]);var c10=h1(eZ,0);return h0(eZ,[0,function(a11,b11,c11){return de(dh,a11,b11,c11)},function(a11){return df(ah,dh,a11)},c10[3],c10[4],c10[5]])});function rr(a10,b10){a10[23]=b10}function rs(a10,b10){return[0,a10[24],a10[25],a10[26],a10[27]]}function rt(a10,b10){var c10=b10[4],d10=b10[3],e10=b10[2];a10[24]=b10[1],a10[25]=e10,a10[26]=d10,a10[27]=c10}function rU(d10,b10,c10){return o(function(a10){return aj(b10,a10),h(d10,b10)},0,c10[1])}function rV(a10,b10){var c10=bH(b10)===r?b10:b10[1];gX(a10,c10)}function rW(b10){function a10(a11){throw g([0,b$,b10],1)}return[0,a10,a10,a10,0]}function rX(e10,b10,c10,d10){if(typeof d10=="number")switch(d10){case 0:var i10=function(a11){var d11=e10[1+b10];if(i10===d11)throw g([0,b$,c10],1);return h(d11,a11)},a10=i10;break;case 1:var f10=[];mb(f10,[dW,function(a11){var d11=e10[1+b10];if(f10===d11)throw g([0,b$,c10],1);var h10=bH(d11);return cH===h10?d11[1]:dW!==h10&&d4!==h10?d11:mC(d11)}]);var a10=f10;break;default:var a10=rW(c10)}else var a10=d10[0]===0?ia(c10,d10[1]):d10[1];e10[1+b10]=a10}function ia(a10,b10){var d10=b10.length-1,e10=BK(0,d10),f10=d10-1|0,g10=0;if(f10>=0)for(var c10=g10;;){rX(e10,c10,a10,j(b10,c10)[1+c10]);var h10=c10+1|0;if(f10===c10)break;c10=h10}return e10}function ib(a10,b10){return typeof b10!="number"&&b10[0]===0?ia(a10,b10[1]):a4(rY)}function rZ(a10,b10,c10,d10){if(typeof c10!="number")return c10[0]===0?ic(c10[1],a10[1+b10],d10):void 0;if(c10!==2){a10[1+b10]=d10;return}if(bH(d10)===0&&d10.length-1===4)for(var e10=0,h10=a10[1+b10];;){h10[1+e10]=d10[1+e10];var i10=e10+1|0;if(e10===3)return;e10=i10}throw g([0,f,r0],1)}function ic(a10,b10,c10){if(bH(c10)===0&&a10.length-1<=c10.length-1){var e10=a10.length-2|0,h10=0;if(e10>=0)for(var d10=h10;;){var i10=c10[1+d10];rZ(b10,d10,j(a10,d10)[1+d10],i10);var k10=d10+1|0;if(e10===d10)break;d10=k10}return}throw g([0,f,r1],1)}function id2(a10,b10,c10){return typeof a10!="number"&&a10[0]===0?ic(a10[1],b10,c10):a4(r2)}var e0=[r,r3,an(0)];rV(r4,[0,e0,[0]]);function e1(a10){return[0,a10]}function S(a10){return[0,a10]}function di(a10){return a10[0]===0?[0,a10[1]]:0}var bS=[0,function(a10){return a10}(0)];function bT(a10){return[1,0,0,0,a10]}function k(a10,b10){return a10[0]===0?[0,h(b10,a10[1])]:bT([0,a10,b10])}function bU(a10,b10,c10){if(a10[0]===0){var d10=a10[1];if(b10[0]===0)return[0,i(c10,d10,b10[1])]}return bT([1,a10,b10,c10])}function ie(a10){return a10[0]===0?a10[1]:bT([4,a10,0])}function ig(a10,b10,c10){switch(c10[0]){case 0:throw g([0,f,r7],1);case 1:c10[3]=[0,b10,a10,c10[3]];return;default:c10[2]=[0,b10,a10,c10[2]];return}}function e2(a10,b10){if(!b10)throw g([0,f,r8],1);if(b10[2]===a10)return[0,b10[1],b10[3]];var c10=e2(a10,b10[3]),d10=c10[1];return b10[3]=c10[2],[0,d10,b10]}function cr(a10,b10){switch(b10[0]){case 0:throw g([0,f,r9],1);case 1:var c10=e2(a10,b10[3]),e10=c10[1];return b10[3]=c10[2],e10;default:var d10=e2(a10,b10[2]),h10=d10[1];return b10[2]=d10[2],h10}}function ih(a10,b10,c10,d10){for(var e10=d10;;){if(!e10)throw g([0,f,r_],1);if(e10[1]===b10&&e10[2]===a10){e10[1]=c10;return}e10=e10[3]}}function e3(a10,b10,c10,d10){switch(d10[0]){case 0:throw g([0,f,r$],1);case 1:return ih(a10,b10,c10,d10[3]);default:return ih(a10,b10,c10,d10[2])}}function ii(a10,b10){for(var c10=b10;;){if(!c10)throw g([0,f,sa],1);if(c10[2]===a10)return c10[1];c10=c10[3]}}function sb(a10,b10){switch(b10[0]){case 0:throw g([0,f,sc],1);case 1:return ii(a10,b10[3]);default:return ii(a10,b10[2])}}function aW(a10,b10,c10,d10){switch(d10[0]){case 0:throw g([0,f,sd],1);case 1:var j10=d10[1];if(typeof j10=="number"&&!j10){if(!c10||b10[1])return;b10[1]=1;return}var k10=d10[4];if(k10[0]===7){var n10=k10[2];if(n10[0]===1){var o10=n10[1];if(typeof o10=="number"){if(!o10&&c10){if(b10[1])return;b10[1]=1;return}}else if(c10)return}}var l10=d10[1];a:{if(typeof l10=="number"&&l10){var e10=1;break a}var e10=c10}d10[1]=0;var m10=d10[2];return a10<50?jW(a10+1|0,b10,e10,m10):p(jW,[0,b10,e10,m10]);default:var i10=d10[1];if(d10[1]=0,typeof i10=="number"){if(!i10)return;b10[1]=2;return}var q10=i10[1];return c10&&(b10[1]=2),h(d10[3],q10)}}function a_(a10,b10,c10){return bI(aW(0,a10,b10,c10))}function jW(a10,b10,c10,d10){if(typeof d10!="number")switch(d10[0]){case 0:var f10=d10[1];return a10<50?aW(a10+1|0,b10,c10,f10):p(aW,[0,b10,c10,f10]);case 1:var g10=d10[2];return a_(b10,c10,d10[1]),a10<50?aW(a10+1|0,b10,c10,g10):p(aW,[0,b10,c10,g10]);case 2:var h10=d10[3],l10=d10[2];return a_(b10,c10,d10[1]),a_(b10,c10,l10),a10<50?aW(a10+1|0,b10,c10,h10):p(aW,[0,b10,c10,h10]);case 3:var i10=d10[4],m10=d10[3],n10=d10[2];return a_(b10,c10,d10[1]),a_(b10,c10,n10),a_(b10,c10,m10),a10<50?aW(a10+1|0,b10,c10,i10):p(aW,[0,b10,c10,i10]);default:var o10=d10[1];d10[1]=0;var k10=o10-1|0,q10=0;if(k10>=0)for(var e10=q10;;){a_(b10,c10,j(d10[3],e10)[1+e10]);var r10=e10+1|0;if(k10===e10)break;e10=r10}return}}function se(a10){return i(c9(ah,sf),c$,A9(20))}function dj(a10,b10){var c10=[0,0];a_(c10,a10,b10);var d10=2<=c10[1]?1:0;return d10&&se(0)}function ae(a10){return bT([5,a10])}function as(a10){return a10}function ab(a10,b10){if(a10[0]===1){var c10=a10[4];if(c10[0]===5)return c10[1]=b10,dj(0,a10)}throw g([0,f,sg],1)}function bn(a10){if(a10[0]===1){var b10=a10[4];if(b10[0]===5)return b10[1]}throw g([0,f,sh],1)}function bV(a10,b10,c10){for(var k10=a10,h10=b10,d10=c10;;)switch(d10[0]){case 0:return k10;case 1:var e10=d10[2];if(typeof e10=="number")throw g([0,f,sm],1);switch(e10[0]){case 0:if(e10[1]!==h10)throw g([0,f,sn],1);var o10=0;break;case 1:var B10=e10[2],C2=e10[1];if(C2===h10)var D2=[0,B10];else{if(B10!==h10)throw g([0,f,so],1);var D2=[0,C2]}var o10=D2;break;case 2:var u10=e10[3],v10=e10[2],w10=e10[1];if(w10===h10)var x10=[1,v10,u10];else if(v10===h10)var x10=[1,w10,u10];else{if(u10!==h10)throw g([0,f,sp],1);var x10=[1,w10,v10]}var o10=x10;break;case 3:var p10=e10[4],q10=e10[3],r10=e10[2],s10=e10[1];if(s10===h10)var t10=[2,r10,q10,p10];else if(r10===h10)var t10=[2,s10,q10,p10];else if(q10===h10)var t10=[2,s10,r10,p10];else{if(p10!==h10)throw g([0,f,sq],1);var t10=[2,s10,r10,q10]}var o10=t10;break;default:var n10=cr(d10,h10);if(j(e10[3],n10)[1+n10]!==h10)throw g([0,f,sr],1);var m10=e10[2]-1|0;if(e10[2]=m10,n10<m10){var E2=j(e10[3],m10)[1+m10];j(e10[3],n10)[1+n10]=E2,j(e10[3],m10)[1+m10]=bS,e3(d10,m10,n10,E2)}else j(e10[3],n10)[1+n10]=bS;if(m10<e10[1]&&(e10[1]=m10),m10===4){var F2=j(e10[3],0)[1],G2=j(e10[3],1)[2],H2=j(e10[3],2)[3],I2=j(e10[3],3)[4];cr(d10,F2),cr(d10,G2),cr(d10,H2),cr(d10,I2);var J2=[3,F2,G2,H2,I2]}else{var K2=e10[3].length-1;if(m10<=(K2>>>2|0))var U2=no(e10[3],0,K2>>>1|0),L2=[4,e10[1],e10[2],U2];else var L2=e10;var J2=L2}var o10=J2}if(d10[2]=o10,typeof o10!="number")return k10;var y10=d10[1];d10[1]=1;var l10=d10[4];switch(l10[0]){case 0:h10=d10,d10=l10[1];break;case 1:var M2=l10[2];k10=bV(k10,d10,l10[1]),h10=d10,d10=M2;break;case 2:var N2=l10[2];k10=bV(k10,d10,l10[1]),h10=d10,d10=N2;break;case 3:var O2=l10[2];k10=bV(k10,d10,l10[1]),h10=d10,d10=O2;break;case 4:var z10=l10[2],A10=bV(k10,d10,l10[1]);if(!z10)return A10;var Q2=z10[1];l10[2]=0,k10=A10,h10=d10,d10=Q2;break;case 5:return k10;case 6:if(typeof y10=="number")return k10;var R2=y10[1];try{return i(l10[2],d10,R2),k10}catch(f10){var S2=P(f10);return[0,[0,S2,qK(0)],k10]}default:var T2=l10[1];k10=bV(k10,d10,l10[2]),h10=d10,d10=T2}break;default:throw g([0,f,ss],1)}}function a$(a10,b10){for(var e10=a10,c10=b10;;)switch(c10[0]){case 0:return;case 1:var n10=typeof c10[2]=="number"?1:0,d10=c10[2];if(typeof d10=="number")var k10=[0,e10];else switch(d10[0]){case 0:var k10=[1,e10,d10[1]];break;case 1:var k10=[2,e10,d10[1],d10[2]];break;case 2:var k10=[3,e10,d10[1],d10[2],d10[3]];break;case 3:for(var o10=[0,d10[1],d10[2],d10[3],d10[4],e10,bS,bS,bS],l10=0;;){ig(c10,l10,j(o10,l10)[1+l10]);var w10=l10+1|0;if(l10===4)break;l10=w10}var k10=[4,5,5,o10];break;default:var i10=d10[2];if(i10<d10[3].length-1){d10[2]=d10[2]+1|0;var q10=d10,p10=d10[3]}else{var m10=ap(i10*2|0,bS);ci(d10[3],0,m10,0,i10);var q10=[4,d10[1],i10+1|0,m10],p10=m10}j(p10,i10)[1+i10]=e10,ig(c10,i10,e10);var k10=q10}if(c10[2]=k10,!n10)return n10;var h10=c10[4];switch(h10[0]){case 0:e10=c10,c10=h10[1];break;case 1:var r10=h10[2];a$(c10,h10[1]),e10=c10,c10=r10;break;case 2:var s10=h10[2];a$(c10,h10[1]),e10=c10,c10=s10;break;case 3:var t10=h10[2];a$(c10,h10[1]),e10=c10,c10=t10;break;case 4:var u10=h10[2];if(a$(c10,h10[1]),u10)throw g([0,f,st],1);return;case 5:return;case 6:return;default:var v10=h10[2];a$(c10,h10[1]),e10=c10,c10=v10}break;default:throw g([0,f,su],1)}}function ij(a10,b10,c10){if(typeof c10!="number"&&c10[0]===4){var e10=sb(a10,b10),d10=c10[1];d10<=e10&&(c10[1]=d10+1|0);var f10=d10<e10?1:0;if(!f10)return f10;var g10=j(c10[3],d10)[1+d10];return j(c10[3],e10)[1+e10]=g10,j(c10[3],d10)[1+d10]=b10,e3(a10,d10,e10,g10),e3(a10,e10,d10,b10)}}function ik(a10){switch(a10[0]){case 0:return 0;case 1:var b10=a10[1];if(typeof b10!="number")return 0;if(b10)throw g([0,f,sv],1);return 1;default:throw g([0,f,sw],1)}}function e4(a10,b10){var c10=a10?a10[1]:function(a11){return 0};return[2,0,0,c10,0,b10]}function r6(a10,b10){return ie(k(a10,b10))}function sx(k10){function d10(a10,b10){switch(b10[0]){case 0:return b10[1];case 1:var l10=b10[1];if(typeof l10!="number"){var B10=l10[1];return ij(b10,a10,b10[2]),B10}b10[1]=1;var c10=b10[4];switch(c10[0]){case 0:var s10=c10[2],e10=h(s10,d10(b10,c10[1]));break;case 1:var t10=c10[3],u10=c10[1],v10=d10(b10,c10[2]),e10=i(t10,d10(b10,u10),v10);break;case 2:var w10=c10[1],x10=d10(b10,c10[2]),e10=[0,d10(b10,w10),x10];break;case 3:var y10=c10[1],z10=d10(b10,c10[2]),e10=h(d10(b10,y10),z10);break;case 4:var j10=d10(b10,c10[1]),n10=c10[2];if(n10){var o10=n10[1];o10!==j10&&(k10[1]=[0,b10,o10,k10[1]],c10[2]=[0,j10],a$(b10,j10))}else c10[2]=[0,j10],a$(b10,j10);var e10=d10(b10,j10);break;case 5:var e10=c10[1];break;case 6:var e10=h(c10[1],b10);break;default:var p10=c10[2],q10=c10[1];d10(b10,p10);var A10=d10(b10,q10);if(ik(p10))var r10=d10(a10,b10);else{ik(q10)&&dj(1,b10);var r10=A10}var e10=r10}var m10=b10[1];a:if(typeof m10=="number"&&m10){b10[1]=[0,e10];break a}return ij(b10,a10,b10[2]),e10;default:throw g([0,f,sy],1)}}return d10}var sA=[r,sz,an(0)];function sB(a10){return function(a11,b10){for(var d10=a11,c10=b10;;){if(!c10)return d10;var e10=bV(d10,c10[1],c10[2]);d10=e10,c10=c10[3]}}(0,a10)}function sC(a10){var b10=a10[1];return a10[1]=0,sB(b10)}function sD(a10,b10){if(b10[0]!==2)throw g([0,f,sE],1);var c10=b10[1];if(typeof c10!="number")return c10[1];1-b10[4]&&(b10[4]=1,a$(b10,b10[5])),b10[1]=1;var h10=b10[5],d10=sx(a10)(b10,h10),e10=b10[1];a:if(typeof e10=="number"&&e10){b10[1]=[0,d10];break a}return d10}function e5(a10,b10){if(a10[0]!==2)throw g([0,f,sF],1);return a10[3]=b10,0}function il(a10,b10){var c10=sC(b10);if(c10)throw g([0,sA,a10,c10],1)}function bW(a10){var b10=[0,0];try{var d10=sD(b10,a10)}catch(f10){var c10=P(f10);throw il([0,c10],b10),g(c10,0)}return il(0,b10),d10}function e6(a10,b10){return k(a10,b10)}function r5(a10,b10){if(a10[0]===0){var c10=a10[1];if(b10[0]===0)return[0,[0,c10,b10[1]]]}return bT([2,a10,b10])}function si(a10,b10){return bT([6,a10,b10])}function sj(a10){return a10}function sk(a10){if(a10[0]===1){var b10=a10[1],c10=a10[4];if(c10[0]===6){if(typeof b10=="number")return b10?dj(1,a10):0;var d10=b10[1];return dj(0,a10),i(c10[2],a10,d10)}}throw g([0,f,sl],1)}function sG(a10,b10){return r6(a10,b10)}function dk(d10,b10,c10){var g10=b10[2];function f10(a11,b11,c11){for(var e11=a11,d11=b11,f11=c11;;){if(d11){var h10=d11[1],j10=d11[2],k10=h10[2];if(e11===h10[1]){e11=e11+1|0,d11=j10,f11=i(g10,k10,f11);continue}}return[0,[0,e11,f11],d11]}}var e10=b10[1],a10=et(function(a11,b11){return f10(0,a11,h(d10,b11))},0,c10);return a10?et(function(a11,b11){return i(g10,b11[2],a11)},a10[1][2],a10[2]):e10}var sH=[0,0],sI=[0,0];function im(a10){return[1,0,0,sI,0]}function dl(a10,b10){if(typeof b10!="number"){if(b10[0]!==0)throw g([0,f,sJ],1);b10[5]=a10}}function sK(a10,b10,c10){if(typeof a10!="number"){if(a10[0]!==0){if(a10[2]!==b10)throw g([0,f,sM],1);a10[2]=c10;return}if(a10[2]===b10){a10[2]=c10;return}if(a10[4]===b10){a10[4]=c10;return}}throw g([0,f,sL],1)}function e7(a10,b10,c10,d10){var f10=a10?[0,a10[1],1]:0,e10=[0,0,b10,f10,c10,d10,0];return dl(e10,b10),dl(e10,c10),e10}function cs(a10){for(var b10=a10;;){if(typeof b10=="number")throw g([0,f,sN],1);if(b10[0]!==0)return a6(sk,b10[4]);if(b10[6]===0)return;b10[6]=0,b10=b10[5]}}function e8(a10,b10){if(typeof b10!="number"&&b10[0]===1){cs(b10);var c10=e7(a10,b10[2],0,b10);return b10[2]=c10,c10}throw g([0,f,sO],1)}function e9(a10){if(typeof a10!="number"&&a10[0]===0){var b10=a10[3];if(b10)return[0,b10[1]]}return 0}function io(a10){a10&&(a10[2]=0)}function sT(a10,b10){if(typeof b10!="number"){if(b10[0]!==0)throw g([0,f,sU],1);if(typeof b10[5]!="number")return cs(b10),io(b10[3]),b10[3]=a10,0}return 0}function sW(a10,b10){for(var c10=b10;;){if(typeof c10!="number"&&c10[0]===0){if(typeof c10[2]=="number")return c10[2]=a10,dl(c10,a10),c10;c10=c10[2];continue}throw g([0,f,sX],1)}}function bX(a10){if(typeof a10=="number")return 0;if(a10[0]!==0)throw g([0,f,s0],1);if(a10[6]===0)throw g([0,f,sZ],1);return a10[6]}function e_(a10,b10){var c10=a10<b10?1:0,d10=c10&&((a10&b10)<<1<b10?1:0);return d10}function ip(a10,b10){return e_(a10,b10>>>1|0)}function iq(a10,b10,c10){if(typeof a10!="number"){if(a10[0]!==0){if(a10[2]!==b10)throw g([0,f,s2],1);a10[2]=c10;return}if(a10[2]===b10){a10[2]=c10;return}if(a10[4]===b10){a10[4]=c10;return}}throw g([0,f,s1],1)}function f3(a10,b10,c10){if(typeof c10!="number"&&c10[0]===0){var d10=c10[4];if(typeof d10!="number"&&d10[0]!==1){var h10=c10[5],e10=d10[2];if(typeof e10=="number")var i10=0;else{if(e10[0]!==0)throw g([0,f,s6],1);e10[5]=c10;var i10=e10}return d10[2]=c10,c10[4]=i10,c10[5]=d10,d10[5]=h10,iq(h10,c10,d10),e$(b10,c10),a10<50?cG(a10+1|0,b10,d10):p(cG,[0,b10,d10])}}throw g([0,f,s5],1)}function s3(a10,b10){return bI(f3(0,a10,b10))}function f2(a10,b10,c10){if(typeof c10!="number"&&c10[0]===0){var d10=c10[2];if(typeof d10!="number"&&d10[0]!==1){var h10=c10[5],e10=d10[4];if(typeof e10=="number")var i10=0;else{if(e10[0]!==0)throw g([0,f,s8],1);e10[5]=c10;var i10=e10}return d10[4]=c10,c10[2]=i10,c10[5]=d10,d10[5]=h10,iq(h10,c10,d10),e$(b10,c10),a10<50?cG(a10+1|0,b10,d10):p(cG,[0,b10,d10])}}throw g([0,f,s7],1)}function s4(a10,b10){return bI(f2(0,a10,b10))}function jY(a10,b10,c10){if(typeof c10!="number"&&c10[0]===0){var d10=c10[4];a:if(typeof d10!="number"&&d10[0]===0){var e10=bX(d10[2]);if(e_(bX(d10[4]),e10)){s4(b10,d10);break a}}return a10<50?f3(a10+1|0,b10,c10):p(f3,[0,b10,c10])}throw g([0,f,s9],1)}function jX(a10,b10,c10){if(typeof c10!="number"&&c10[0]===0){var d10=c10[2];a:if(typeof d10!="number"&&d10[0]===0){var e10=bX(d10[4]);if(e_(bX(d10[2]),e10)){s3(b10,d10);break a}}return a10<50?f2(a10+1|0,b10,c10):p(f2,[0,b10,c10])}throw g([0,f,s_],1)}function cG(a10,b10,c10){if(typeof c10!="number"&&c10[0]===0){var d10=bX(c10[2]),e10=bX(c10[4]);return d10<e10?ip(d10,e10)?a10<50?jY(a10+1|0,b10,c10):p(jY,[0,b10,c10]):(c10[1]=b10,c10[6]=(1+d10|0)+e10|0,c10):ip(e10,d10)?a10<50?jX(a10+1|0,b10,c10):p(jX,[0,b10,c10]):(c10[1]=b10,c10[6]=(1+d10|0)+e10|0,c10)}throw g([0,f,s$],1)}function e$(a10,b10){return bI(cG(0,a10,b10))}function ta(a10,b10){for(var c10=b10;;){if(typeof c10=="number"||c10[0]!==0)return;var f10=c10[6]===0?1:0;if(!f10)return f10;var d10=c10[2];if(typeof d10!="number"&&d10[0]===0&&d10[6]===0){c10=c10[2];continue}var e10=c10[4];if(typeof e10!="number"&&e10[0]===0&&e10[6]===0){c10=c10[4];continue}var g10=c10[5];e$(a10,c10),c10=g10}}function ir(a10,b10){for(var c10=b10;;){if(typeof c10=="number")return;if(c10[0]!==0)throw g([0,f,tb],1);c10[1]=a10,ir(a10,c10[2]),c10=c10[4]}}function tc(a10){if(typeof a10!="number"&&a10[0]===1){var b10=a10[2];if(typeof b10!="number"){if(b10[0]!==0)throw g([0,f,te],1);if(b10[6]===0){var d10=a10[1]+1|0,c10=d10===kG?(a10[3]=[0,0],ir(0,a10[2]),0):d10;return a10[1]=c10,ta(c10,a10[2]),c10}}return a10[1]}throw g([0,f,td],1)}function dm(a10,b10,c10){var d10=a10[1],e10=a10[2];return b10===d10?c10:c10===d10?b10:i(e10,b10,c10)}function tf(a10){function f10(a11,b10){for(var d10=a11,c10=b10;;){if(!c10)return d10;var e10=f10(d10,c10[6]),g10=c10[2];if(g10)var i10=g10[2]?[0,[0,c10[2],c10[3]],e10]:e10,h10=i10;else var h10=e10;d10=h10,c10=c10[5]}}return f10(0,a10)}function tg(c10,b10){var e10=[0,tf(c10[3])];function h10(a11){if(typeof a11=="number")return 0;if(a11[0]!==0)throw g([0,f,ti],1);var j10=h10(a11[2]),d10=a11[3],k10=e10[1];a:if(d10){if(k10){var m10=k10[1],o10=k10[2],p10=m10[2];if(d10===m10[1]){e10[1]=o10;var b11=p10;break a}}if(!d10[2])throw g([0,f,th],1);var b11=i(c10[5],a11,d10[1])}else var b11=c10[6][1];var l10=h10(a11[4]),n10=j10?dm(c10[6],j10[4],b11):b11,q10=l10?dm(c10[6],n10,l10[4]):n10;return[0,a11,a11[3],b11,q10,j10,l10]}var a10=h10(b10);if(e10[1]===0)return a10;throw g([0,f,tj],1)}function tk(j10,b10){function g10(a10,b11){for(var d10=a10,c10=b11;;){if(!c10)return d10;var e10=c10[1];if(typeof e10!="number"&&e10[0]===0&&e10[1]<=j10)return[0,c10,d10];var f10=g10(d10,c10[6]),h10=c10[2];if(h10)var k10=h10[2]?[0,c10,f10]:f10,i10=k10;else var i10=f10;d10=i10,c10=c10[5]}}return g10(0,b10)}function tl(d10,b10,c10){var e10=[0,tk(b10,d10[3])];function j10(a11){if(typeof a11!="number"&&a11[0]===0){if(a11[1]<=b10){var k10=e10[1];if(k10){var l10=k10[1];if(l10){var r10=k10[2];if(l10[1]!==a11)throw g([0,f,tm],1);return e10[1]=r10,l10}}throw g([0,f,tn],1)}var m10=j10(a11[2]),h10=a11[3],n10=e10[1];a:if(h10){if(n10){var o10=n10[1];if(o10){var s10=n10[2];if(h10===o10[2]){e10[1]=s10;var t10=o10[3],c11=t10;break a}}}if(!h10[2])throw g([0,f,to],1);var c11=i(d10[5],a11,h10[1])}else var c11=d10[6][1];var p10=j10(a11[4]),q10=m10?dm(d10[6],m10[4],c11):c11,u10=p10?dm(d10[6],q10,p10[4]):q10;return[0,a11,a11[3],c11,u10,m10,p10]}return 0}var a10=j10(c10);if(e10[1]===0)return a10;throw g([0,f,tp],1)}function tq(a10){var b10=a10[2];if(typeof b10!="number"&&b10[0]===1){var d10=tc(a10[2]);a10[4]!==b10[3]?(a10[4]=b10[3],a10[3]=tg(a10,b10[2])):a10[3]=tl(a10,a10[1],b10[2]),a10[1]=d10;var c10=a10[3];return c10?c10[4]:a10[6][1]}throw g([0,f,tr],1)}function is(a10){return a10}function ct(a10,b10,c10){var d10=[0,0,c10,0,sH,a10,b10];return k(si(function(a11){var b11=d10[2];if(typeof b11!="number"&&b11[0]===1){var c11=b11[4];return b11[4]=[0,a11,c11],d10}throw g([0,f,tt],1)},function(a11,b11){var c11=b11[2];if(typeof c11!="number"&&c11[0]===1){var d11=c11[4],e10=a11,h10=function(a12,b12){return a12!==b12?1:0};return c11[4]=g_(function(a12){return h10(e10,a12)},d11),0}throw g([0,f,ts],1)}),tq)}function tu(a10,b10){for(var d10=a10,c10=b10;;){if(typeof c10=="number")return d10;if(c10[0]!==0)throw g([0,f,tv],1);d10=[0,c10],c10=c10[2]}}function it(a10){return tu(0,a10)}mb([],[0,function(a10,b10){for(var d10=a10,c10=b10;;){if(typeof c10=="number")return d10;if(c10[0]!==0)throw g([0,f,tw],1);d10=[0,c10],c10=c10[4]}}]);function iu(a10){if(typeof a10=="number")return 0;if(a10[0]!==0)throw g([0,f,tB],1);var b10=it(a10[4]);return b10||function(a11,b11){for(var d10=a11,c10=b11;;){if(typeof c10=="number")throw g([0,f,tz],1);if(c10[0]!==0)return 0;if(c10[2]===d10)return[0,c10];if(c10[4]!==d10)throw g([0,f,tA],1);d10=c10,c10=c10[5]}}(a10,a10[5])}function sP(a10,b10){if(typeof b10!="number"){if(b10[0]!==0)throw g([0,f,sQ],1);if(typeof b10[5]!="number"){cs(b10);var c10=e7(a10,b10[2],0,b10);return b10[2]=c10,c10}}return 0}function sR(a10,b10){if(typeof b10!="number"){if(b10[0]!==0)throw g([0,f,sS],1);if(typeof b10[5]!="number"){cs(b10);var c10=e7(a10,0,b10[4],b10);return b10[4]=c10,c10}}return 0}function sV(a10,b10){return sT([0,b10,1],a10)}function sY(a10){if(typeof a10!="number"&&a10[0]===0&&typeof a10[5]!="number"){var c10=a10[2],b10=a10[4],d10=a10[5];io(a10[3]),a10[2]=0,a10[4]=0,a10[5]=0,a10[3]=0,a10[1]=g4;a:{if(typeof c10=="number")var f10=b10;else{if(typeof b10!="number"){var g10=sW(c10,b10),e10=b10;break a}var f10=c10}var g10=d10,e10=f10}return sK(d10,a10,e10),dl(d10,e10),cs(g10)}}function tx(a10){if(typeof a10!="number"&&a10[0]===1)return it(a10[2]);throw g([0,f,ty],1)}var cu=0;function J(a10){return[0,0,a10]}function iv(a10,b10){return a10<b10?b10:a10}function dn(a10){return typeof a10=="number"?0:a10[0]===0?(a10[1]!==0&&s(tC),0):(a10[1]&2&&s(tD),a10[1]>>>2|0)}function aD(a10,b10){if(typeof a10=="number")var c10=b10;else{if(typeof b10!="number"){var d10=dn(b10);return[1,(iv(dn(a10),d10)+1|0)<<2,a10,b10]}var c10=a10}return c10}function iw(a10){return typeof a10=="number"?0:a10[0]===0?[0,a10[2]]:[1,a10[2],a10[3]]}var fa=1,fb=2,tE=3;function ix(a10){return a10===-1?1:0}function fc(a10){return a10!==-1?1:0}function bY(a10){return(a10&3)===3?1:0}function iy(a10){return(a10&3)===1?1:0}function iz(a10){return(a10&3)===2?1:0}function iA(a10){return a10|3}function tF(a10){return a10>>>2|0}function iB(a10){return a10<<2|2}function cv(a10){return a10&mi(tE)}function iC(a10){return a10[2]}function iD(a10){return a10[3]}function iE(a10){return[0,0,0,0]}function dp(a10){a10[1]=a10[1]+1|0}function dq(a10){a10[2]=a10[2]+1|0}function dr(a10){a10[3]=a10[3]+1|0}function fd(a10,b10,c10){for(var d10=c10;;){if(typeof d10=="number")return;if(d10[0]===0){var e10=d10[1],i10=(e10&3)!==3?1:0,l10=i10&&(e10&3?1:0);if(l10){if(e10&b10)throw g([0,f,tH],1);dp(a10),dr(a10),d10[1]=e10|3}return}var h10=d10[1],j10=(h10&3)!==3?1:0,k10=j10&&(h10&3?1:0);if(!k10)return k10;if(h10&b10)throw g([0,f,tI],1);dp(a10),dr(a10),d10[1]=h10|3,fd(a10,b10,d10[2]),d10=d10[3]}}function ds(a10,b10,c10,d10){if(typeof d10!="number"){if(d10[0]===0){var e10=d10[1];e10&c10||(dp(a10),e10&3?(d10[1]=-1,dr(a10),dq(a10)):d10[1]=e10|c10);var g10=e10!==-1?1:0,h10=g10&&((e10&3)===3?1:0);return h10&&(d10[1]=-1,dq(a10))}var f10=d10[1];f10&c10||(dp(a10),f10&3?(d10[1]=-1,dr(a10),dq(a10),fd(a10,c10,d10[2]),fd(a10,c10,d10[3])):(d10[1]=f10|c10,eC(d10,b10)));var i10=f10!==-1?1:0,j10=i10&&((f10&3)===3?1:0);return j10&&(d10[1]=-1,dq(a10))}}function fe(a10,b10,c10){var d10=hk(b10);if(typeof d10!="number"&&d10[0]===1){var e10=(d10[1]&3)===c10?1:0;return e10&&(ds(a10,b10,c10,d10[2]),ds(a10,b10,c10,d10[3]))}throw g([0,f,tJ],1)}function iF(a10,b10,c10){for(;;){if(eD(b10))return;fe(a10,b10,c10)}}function tK(a10,b10,c10,d10){for(;;){if(eD(c10))return iF(b10,d10,fb);if(eD(d10))return iF(a10,c10,fa);fe(a10,c10,fa),fe(b10,d10,fb)}}function ff(a10){var b10=a10[6];return a10[6]=b10+1|0,b10}function fg(a10){for(var b10=a10;;){if(typeof b10=="number")return;if(b10[0]===0){var c10=b10[1];if(typeof c10!="number"&&c10[0]===0){var e10=c10[1],i10=fc(e10),l10=i10&&bY(e10);l10&&(c10[1]=cv(e10));return}throw g([0,f,tP],1)}var d10=b10[1];if(typeof d10!="number"&&d10[0]===1){var h10=d10[1],m10=b10[4],n10=b10[3],j10=fc(h10),k10=j10&&bY(h10);if(!k10)return k10;d10[1]=cv(h10),fg(n10),b10=m10;continue}throw g([0,f,tQ],1)}}function iG(a10,b10){for(var c10=b10;;){if(typeof c10=="number")return;if(c10[0]===0){var d10=c10[1];if(typeof d10!="number"&&d10[0]===0){var e10=d10[1],u10=c10[2];if(!iy(e10)){if(ix(e10)){var k10=ff(a10);j(a10[4],k10)[1+k10]=d10,j(a10[5],k10)[1+k10]=[0,c10,0],d10[1]=iB(k10);return}if(iz(e10)){var n10=tF(e10),v10=[0,c10,j(a10[5],n10)[1+n10]];j(a10[5],n10)[1+n10]=v10;return}var q10=bY(e10);if(q10)throw g([0,f,tT],1);return q10}var m10=a10[2];if(-1<m10&&(j(a10[1],m10)[1+m10]=u10,a10[2]=m10+1|0,a10[2]>a10[3]))throw g([0,f,tS],1);d10[1]=cv(e10);return}throw g([0,f,tR],1)}var h10=c10[1];if(typeof h10!="number"&&h10[0]===1){var r10=c10[4],s10=c10[3],i10=h10[1],w10=c10[2];if(ix(i10)){var l10=ff(a10);return j(a10[4],l10)[1+l10]=h10,j(a10[5],l10)[1+l10]=[0,c10,0],h10[1]=iB(l10),fg(s10),fg(r10)}if(!iy(i10)){if(iz(i10)){var o10=i10>>>2|0,x10=[0,c10,j(a10[5],o10)[1+o10]];j(a10[5],o10)[1+o10]=x10;return}var t10=bY(i10);if(t10)throw g([0,f,tW],1);return t10}if(-1<a10[3]){var p10=a10[3]-1|0;if(j(a10[1],p10)[1+p10]=w10,a10[3]=p10,a10[2]>a10[3])throw g([0,f,tV],1)}h10[1]=cv(i10),iG(a10,s10),c10=r10;continue}throw g([0,f,tU],1)}}function cw(a10,b10){if(typeof b10=="number")return 0;if(b10[0]!==0){var i10=b10[1];if(i10===-1){var l10=ff(a10);b10[1]=0,j(a10[4],l10)[1+l10]=b10;var p10=cw(a10,b10[2]);return[1,b10,0,p10,cw(a10,b10[3])]}if(!bY(i10)){b10[1]=cv(b10[1]);var r10=cw(a10,b10[2]);return[1,b10,0,r10,cw(a10,b10[3])]}var d10=i10>>>2|0,k10=j(a10[5],d10)[1+d10];if(!k10)throw g([0,f,tZ],1);var m10=k10[2],q10=k10[1];return j(a10[5],d10)[1+d10]=m10,m10===0&&(b10[1]=0),q10}var e10=b10[1];if(fc(e10)&&bY(e10)){var c10=e10>>>2|0,h10=j(a10[5],c10)[1+c10];if(!h10)return[0,b10,0];var n10=h10[2],o10=h10[1];return j(a10[5],c10)[1+c10]=n10,o10}return b10[1]=0,[0,b10,0]}var fh=[0,0,[0],0,0];function tG(a10){return a10[1]}function tL(a10){return a10[1]}function tM(a10){return a10[2]}function tN(a10,b10){var c10=iE(0),d10=iE(0),e10=eA(0),f10=eA(0);return ds(c10,e10,fa,a10),ds(d10,f10,fb,b10),tK(c10,d10,e10,f10),[0,c10,d10]}function tO(a10){if(typeof a10!="number"){if(a10[0]===0){a10[1]=0;return}var b10=dn(a10[3]);a10[1]=(iv(dn(a10[2]),b10)+1|0)<<2}}function tX(a10){var e10=a10[6]-1|0,h10=0;if(e10>=0)for(var b10=h10;;){var c10=j(a10[4],b10)[1+b10];typeof c10!="number"&&(c10[0],c10[1]=iA(c10[1]));var d10=j(a10[5],b10)[1+b10];if(!d10)throw g([0,f,tY],1);if(d10[2]){var i10=cg(d10);j(a10[5],b10)[1+b10]=i10}var k10=b10+1|0;if(e10===b10)break;b10=k10}}function iH(a10,b10,c10){if(typeof b10=="number"){if(typeof c10=="number")return[0,fh,0]}else if(b10[1]===c10)return[0,fh,b10];var t10=typeof b10=="number"?cu:b10[1],m10=tN(t10,c10),i10=tL(m10),n10=tM(m10),u10=iD(n10),v10=iD(i10)+u10|0,o10=tG(i10)-v10|0,w10=iC(n10),p10=iC(i10)+w10|0,x10=0,y10=ap(p10,0),z10=ap(p10,0),A10=a10?o10:-1,B10=a10?0:-1,C2=a10?ap(o10,0):[0],d10=[0,C2,B10,A10,z10,y10,x10];if(iG(d10,b10),d10[2]!==d10[3])throw g([0,f,t0],1);tX(d10);var q10=cw(d10,c10),r10=d10[6]-1|0;if(r10>=0)for(var h10=r10;;){tO(j(d10[4],h10)[1+h10]);var F2=h10-1|0;if(h10===0)break;h10=F2}if(!a10)return[0,fh,q10];var k10=[0,0],l10=[0,0],s10=d10[6]-1|0,D2=0;if(s10>=0)for(var e10=D2;;){a6(function(a11){if(typeof a11!="number")if(a11[0]===0){var b11=a11[2];if(b11)return k10[1]=[0,b11[1],k10[1]],0}else{var c11=a11[2];if(c11)return l10[1]=[0,c11[1],l10[1]],0}return 0},j(d10[5],e10)[1+e10]);var E2=e10+1|0;if(s10===e10)break;e10=E2}return[0,[0,d10[2],d10[1],k10[1],l10[1]],q10]}function t1(d10,b10){if(typeof b10=="number")return 0;function c10(a10){a:if(typeof a10!="number"){b:{if(a10[0]===0){var b11=a10[1];if(typeof b11!="number"&&b11[0]===0){var e10=a10[2];if(e10){var j10=e10[1];break b}var k10=h(d10[1],b11[2]);return a10[2]=[0,k10],k10}break a}var l10=a10[2];if(!l10){var n10=c10(a10[3]),o10=c10(a10[4]),m10=i(d10[2],n10,o10);return a10[2]=[0,m10],m10}var j10=l10[1]}return j10}throw g([0,f,t2],1)}return[0,c10(b10)]}function dt(a10,b10){return[0,[0,a10,b10],0]}function du(a10){return t1(a10[1],a10[2])}function t3(a10,b10){var c10=a10[1];return[0,c10,iH(0,a10[2],b10)[2]]}function fi(a10,b10){var d10=a10[1],c10=iH(1,a10[2],b10);return[0,c10[1],[0,d10,c10[2]]]}function dv(a10,b10,c10,d10){var e10=[0,d10];if(v===a10)var h10=c10[1],g10=0;else if(km<=a10)var h10=c10[2].length-1,g10=c10[1];else var h10=c10[2].length-1,g10=0;var k10=h10-1|0;if(k10>=g10)for(var f10=g10;;){var l10=j(c10[2],f10)[1+f10];l10&&(e10[1]=i(b10,l10[1],e10[1]));var m10=f10+1|0;if(k10===f10)break;f10=m10}km>a10&&a6(function(a11){return e10[1]=i(b10,a11,e10[1]),0},c10[3]),v!==a10&&a6(function(a11){return e10[1]=i(b10,a11,e10[1]),0},c10[4])}function fj(a10,b10,c10){if(typeof c10=="number")throw g([0,f,t4],1);if(c10[0]===0)return h(a10,c10[2]);var d10=fj(a10,b10,c10[3]);return i(b10,fj(a10,b10,c10[2]),d10)}function bo(a10,b10,c10){var d10=b10[2],e10=b10[1],f10=di(c10);if(f10){var g10=f10[1];return S(typeof g10=="number"?e10:fj(a10,d10,g10))}var h10=[0,dt(a10,d10)];return k(c10,function(a11){var b11=t3(h10[1],a11);h10[1]=b11;var c11=du(b11);return c11?c11[1]:e10})}var aR=[0,cu,aD];function t5(a10,b10){return dk(b10,aR,a10)}function dw(a10){return t5(a10,J)}function iI(a10){function e10(a11,b10){for(var c10=a11,d10=b10;;){if(typeof c10=="number")return d10;if(c10[0]===0)return[0,c10[2],d10];var f10=e10(c10[3],d10);c10=c10[2],d10=f10}}return e10(a10,0)}var iJ=[0,S(0),function(a10,b10){return bU(a10,b10,aD)}];function fk(c10,b10){return bo(function(a10){return J(h(c10,a10))},aR,b10)}function t6(a10,b10){return ie(bo(b10,iJ,a10))}function bp(a10){return t6(a10,function(a11){return k(a11,J)})}var bq=e;function t7(a10){return a10[kN]}function iK(a10,b10){var c10=a10?a10[1]:bq;return Bx(b10).join(c10)}function fl(a10){return t7(a10)===0?1:0}function dx(a10,b10){return lL(a10,b10)}c.Number;var fm=null,t8=void 0;function cx(a10){return a10===fm?1:0}function t9(a10){return a10===t8?1:0}function bZ(a10){var b10=cx(a10);return b10||t9(a10)}function iL(a10){return 1-bZ(a10)}function dy(a10,b10){return bZ(b10)?0:[0,h(a10,b10)]}var m=c;function fn(a10,b10){var c10=a10[b10];return bZ(c10)?0:[0,c10]}function fo(a10){return new m[la](a10)}function iM(a10){return a10[kN]}function iN(c10,b10){return hg(iM(b10),function(a10){return h(c10,b10[a10])})}function iO(a10,b10){var d10=b10.length-1,e10=fo(d10),f10=d10-1|0,g10=0;if(f10>=0)for(var c10=g10;;){e10[c10]=h(a10,j(b10,c10)[1+c10]);var i10=c10+1|0;if(f10===c10)break;c10=i10}return e10}function iP(c10,b10){return mT(iM(b10),function(a10){return h(c10,b10[a10])})}function fp(f10,b10){return function(a10,b11,c10){for(var e10=a10,d10=c10;;){if(!d10)return b11;var g10=d10[2];b11[e10]=h(f10,d10[1]),e10=e10+1|0,d10=g10}}(0,fo(0),b10)}function ub(a10,b10){var c10=new m.Error(b10);return a10&&(c10[bx]=a10[1]),c10}var ud=Symbol.iterator;function uf(a10){return a10.next()}function ug(a10){var b10=dy(function(a11){return a11|0},a10.done);return b10?b10[1]:0}function uh(a10){return a10[dT]}function iQ(i10,g10,c10,d10,e10){return function(a10,b10){for(var d11=b10;;){var e11=uf(a10);if(ug(e11))return d11;var f10=uh(e11),j10=h(g10,f10[1]);d11=x(c10,h(i10,f10[0]),j10,d11)}}(d10,e10)}m.Promise;function ua(a10){return ag(a10)}function br(a10,b10,c10){return ef(a10,ua(b10),c10)}function ay(a10){return ag(a10)}function u(a10){return H(a10)}function b0(a10,b10){return a10 instanceof b10?1:0}var t_=!0;function t$(a10,b10){a10[b10]}function uc(a10,b10){return h(function(a11){throw a11},ub(a10,b10))}function ue(a10){return a10[ud]()}m.Event;function dz(a10){return a10[f5]}function iR(a10,b10,c10,d10){var e10=a10?a10[1]:{},f10=bE(1,c10);return d10.addEventListener(b10,f10,e10),function(a11){return d10.removeEventListener(b10,f10,e10),0}}function iS(a10){return h(a10,0)}var fq="change",cy="click";m.ArrayBuffer,m.DataView;function ui(a10){return a10.preventDefault(),0}var uj="DOMContentLoaded",uk=kt,ul="scroll",um="wheel";m.Blob,m.File;var iT=m.JSON;m.encodeURI,m.decodeURI,m.encodeURIComponent,m.decodeURIComponent,m.URL,m.URLSearchParams;function aS(a10,b10){return[0,a10,b10]}var cz=[0,bq,bq];function fr(a10){return[0,a10,bq]}function iU(a10){return a10}var cA=lr,fs=kc,iV=bx,iW=kZ,ft="type",fu=dT,iX=fr(dR),uq="for";function aT(a10){return aS(cA,a10)}function iY(a10){return aS(uq,a10)}var ut=fr("required");function dA(a10){return aS(iW,a10)}function iZ(a10){return aS(ft,a10)}var uu=fr("selected"),bs=m.document;function un(a10){return iT.stringify(a10)}function uo(a10){try{var c10=iT.parse(a10)}catch(f10){var b10=P(f10);if(b10[1]===e0)return[1,b10[2]];throw g(b10,0)}return[0,c10]}function up(a10,b10){return a10?b10:cz}var ur="placeholder";function us(a10){return aS(fs,a10)}function uv(a10){return aS(fu,a10)}function uw(a10){return a10.ownerDocument}bZ(bs)||bs[j_];function ux(a10,b10){return a10.appendChild(b10),0}function uy(a10,b10,c10,d10){for(var g10=b10,f10=c10,e10=d10;;){if(!e10){g10!==0&&a10.setAttribute(kZ,iK([0,";"],cg(g10))),f10!==0&&a10.setAttribute(lr,iK([0,aH],cg(f10)));return}var h10=e10[2],k10=e10[1],i10=k10[2],j10=k10[1];if(fl(j10))e10=h10;else if(dx(j10,iW))g10=[0,i10,g10],e10=h10;else if(dx(j10,cA)){var l10=fl(i10)?f10:[0,i10,f10];f10=l10,e10=h10}else a10.setAttribute(j10,i10),e10=h10}}function i0(a10,b10,c10,d10){var f10=a10?a10[1]:bs,g10=b10?b10[1]:0,e10=f10.createElement(c10);return uy(e10,0,0,g10),a6(function(a11){return ux(e10,a11)},d10),e10}function aU(a10,b10){var c10=a10?a10[1]:bs;return c10.createTextNode(u(b10))}function i1(a10,b10,c10){return fl(a10)?0:b10?(c10.setAttribute(a10,b10[1]),0):(c10.removeAttribute(a10),0)}function i2(a10,b10,c10){return b10?(c10[j1].add(a10),0):(c10[j1].remove(a10),0)}var i3="div";function uI(a10,b10,c10,d10){return i0(b10,c10,a10,d10)}function i4(a10,b10,c10){return uI(i3,a10,b10,c10)}function i5(a10){return a10[j_]}function dB(a10,b10,c10){return ef(a10,b10,c10),0}var dC=m[kO];function dD(a10){return Bt(function(a11,b10,c10){for(var e10=b10,d10=c10;;){if(!d10)return a11;var f10=d10[2];a11[e10]=d10[1],e10=e10+1|0,d10=f10}}(fo(0),0,a10))}function aE(a10){return dB(dC,uL,dD(a10))}function b1(a10){return dB(dC,uQ,dD(a10))}m[kO],m.navigator;var uT=m.performance,dE=m[lp];t$(m,uU);function uz(a10,b10){ef(a10,kK,c5(b10))}function uA(a10,b10,c10){var e10=a10?a10[1]:m[lp],d10=e10.getComputedStyle(c10)[b10];return bZ(d10)?bq:d10}function uB(a10,b10){var c10=a10?a10[1]:lm,d10=lm<=c10?1:0;return b10.scrollIntoView(!!d10),0}var uC="button",uD="form",uE=kt,uF="label",uG="option",uH="select";function uJ(a10){var b10=a10.body;return iL(b10)?b10:uc(0,"Document body is null. Try to defer your script execution.")}function uK(a10){return dy(function(a11){return a11},a10.activeElement)}function uM(a10){return dB(dC,uN,dD(a10))}function uO(a10){return dB(dC,uP,dD(a10))}function uR(a10){return a10}function uS(a10){return a10.now()}function uV(a10,b10){return m.setTimeout(bE(1,b10),a10)}function uW(a10){m.clearTimeout(a10)}function uX(a10){m.requestAnimationFrame(bE(1,a10))}m.ClipboardItem,m.FormData,m.Headers,m.Request,m.Response,m.fetch,m.MediaStream,m.MediaRecorder,m.MessageChannel,m.BroadcastChannel,m.Notification,m.WebSocket;function uY(a10){return a10.localStorage}function uZ(a10,b10){function c10(a11){return a11}return function(a11){return dy(c10,a11)}(a10.getItem(b10))}function u0(a10,b10,c10){try{a10.setItem(b10,c10);return}catch(f10){var d10=P(f10);if(d10[1]===e0)return;throw g(d10,0)}}function az(a10,b10,c10){return[0,a10,b10,c10]}function i6(a10){var b10=a10[1];return b10===82||83<=b10?g9(di(a10[2])):1}function dF(a10){return c1(di(a10))}function u1(a10){return es(c2(function(a11){var b10=a11[1];return b10===82?[0,dF(a11[2]),0]:83<=b10?iI(dF(a11[2])):[0,a11[2],0]},a10))}function i7(a10){if(!a10)return u2;var b10=m0(i6,a10),c10=b10[2];return[0,u1(b10[1]),c10]}var i8=kK,fv="before";function u5(a10){return[0,a10]}function u6(a10,b10){return[1,fm,a10,b10]}var u7="remove",u8="contains";function i9(a10){var b10=uK(uw(a10));return b10?br(a10,u8,[0,b10[1]])|0:0}function i_(e10,b10){var c10=[0,dt(u5,u6)];return k(b10,function(a10){var b11=fi(c10[1],a10),d10=b11[2],g10=b11[1];c10[1]=d10,dv(v,function(a11,b12){return a11[0]===0?a11[1][dS]=t_:0},g10,0);var h10=i9(e10),i10=du(d10);if(i10){var f10=function(d11,b12){if(b12[0]!==0){if(!cx(b12[1]))return b12[1];var l10=f10(d11,b12[3]),k10=f10(l10,b12[2]);return b12[1]=k10,k10}var c11=b12[1];if(delete c11[dS],c11.parentNode!==e10)cx(d11)?br(e10,i8,[0,c11]):br(d11,fv,[0,c11]);else{var a11=c11.nextSibling!==d11?1:0;if(a11){if(h10)var g11=i9(c11),i11=g11&&function(a12){for(;;){var b13=c11.nextSibling;if(b13===d11)return 1;if(cx(b13))return 0;br(c11,fv,[0,b13])}}(0);else var i11=h10;var j10=1-i11}else var j10=a11;j10&&(cx(d11)?br(e10,i8,[0,c11]):br(d11,fv,[0,c11]))}return c11};f10(fm,i10[1])}return dv(v,function(a11,b12){if(a11[0]!==0)return 0;var c11=a11[1],d11=iL(c11[dS]),e11=d11&&(delete c11[dS],br(c11,u7,[0]),0);return e11},g10,0),e10})}var dG=S(0),fw=[0,bq,bq];function u3(a10){if(!a10)return u4;var b10=a10[1],c10=b10[1];if(c10===82){if(!a10[2])return[0,0,[0,k(b10[2],J)]]}else if(83<=c10){if(!a10[2])return[0,0,[0,b10[2]]]}else if(!a10[2])return[0,[0,b10[2],0],0];return mW(i6,a10)?[0,es(c2(function(a11){var b11=a11[1];return b11===82?[0,dF(a11[2]),0]:83<=b11?iI(dF(a11[2])):[0,a11[2],0]},a10)),0]:[0,0,[0,dk(function(a11){var b11=a11[1];return b11===82?k(a11[2],J):83<=b11?a11[2]:S(J(a11[2]))},iJ,a10)]]}function i$(c10,b10){function d10(a10){var b11=a10[2],d11=a10[1];return dx(d11,cA)?i2(b11,1,c10):i1(d11,[0,b11],c10)}function e10(a10){var b11=a10[1],d11=a10[2];return dx(b11,cA)?i2(d11,0,c10):i1(b11,0,c10)}function h10(a10){var b11=[0,fw];return function(a11){b11[1]!==fw&&e10(b11[1]);var c11=a11;return d10(c11),b11[1]=c11,0}}return dk(function(a10){var b11=a10[1];if(b11===82){var i10=a10[2];return k(i10,h10(0))}if(83>b11)throw g([0,f,u9],1);var j10=a10[2],c11=[0,dt(function(a11){var b12=a11;return d10(b12),b12},function(a11,b12){return fw})];return k(j10,function(a11){var b12=fi(c11[1],a11),d11=b12[2],f10=b12[1];return c11[1]=d11,dv(v,function(a12,b13){return e10(a12)},f10,0),du(d11),0})},[0,dG,function(a10,b11){return dG}],b10)}function fx(a10,b10){return iR(b10[1],b10[2],b10[3],a10)}function u_(c10,b10){return dk(function(a10){var b11=a10[1];if(b11===82){var d10=[0,0];return k(a10[2],function(a11){var b12=d10[1];return b12&&iS(b12[1]),d10[1]=[0,fx(c10,a11)],0})}if(83>b11)throw g([0,f,u$],1);var h10=a10[2],e10=[0,dt(function(a11){return fx(c10,a11)},function(a11,b12){return a11})];return k(h10,function(a11){var b12=fi(e10[1],a11),c11=b12[2],d11=b12[1];return e10[1]=c11,dv(v,function(a12,b13){return iS(a12)},d11,0),du(c11),0})},[0,dG,function(a10,b11){return dG}],b10)}function ja(a10,b10,c10,d10,e10,f10){var q10=b10?b10[1]:0,r10=c10?c10[1]:0,s10=d10?d10[1]:function(a11){},m10=i7(q10),l10=m10[2],t10=m10[1],n10=i7(r10),o10=n10[2],u10=n10[1],p10=u3(f10),i10=p10[2],g10=i0(a10,[0,t10],e10,p10[1]);if(h(s10,g10),l10)if(i10)var v10=i_(g10,i10[1]),j10=bU(i$(g10,l10),v10,function(a11,b11){return b11});else var j10=k(i$(g10,l10),function(a11){return g10});else var j10=i10?i_(g10,i10[1]):S(g10);a6(function(a11){return fx(g10,a11),0},u10);var w10=o10?bU(u_(g10,o10),j10,function(a11,b11){return b11}):j10;return w10}function b2(a10,b10,c10,d10,e10,f10){return ja(b10,c10,d10,e10,a10,f10)}function va(a10,b10,c10,d10,e10,f10){return ja(b10,c10,d10,e10,a10,0)}function fy(a10,b10,c10,d10,e10){return b2(uC,a10,b10,c10,d10,e10)}function K(a10,b10,c10,d10,e10){return b2(i3,a10,b10,c10,d10,e10)}function fz(a10,b10,c10,d10,e10){return va(uE,a10,b10,c10,d10,e10)}function jb(a10,b10,c10,d10,e10){return b2(uF,a10,b10,c10,d10,e10)}function vb(a10,b10,c10,d10,e10){return b2(uD,a10,b10,c10,d10,e10)}function vc(a10,b10,c10,d10,e10){return b2(uG,a10,b10,c10,d10,e10)}function vd(a10,b10,c10,d10,e10){return b2(uH,a10,b10,c10,d10,e10)}function dH(a10,b10){return b10<a10?1:0}function ve(a10,b10){return a10===b10?1:0}function vf(a10,b10){return a10!==b10?1:0}function vg(a10,b10){return b10<=a10?1:0}function vh(a10,b10){return b10<a10?1:0}function vi(a10,b10){return lL(a10,b10)}function fA(a10){try{var c10=[0,A6(a10)];return c10}catch(f10){var b10=P(f10);if(b10[1]===b_)return 0;throw g(b10,0)}}function jc(a10){return gh<=a10?ge<=a10?gw<=a10?2:6:gv<=a10?4:3:gb<=a10?gn<=a10?1:7:ga<=a10?5:0}function vj(a10){return typeof a10=="number"?aI<=a10?1:0:T<=a10[1]?30+jc(a10[2])|0:40+jc(a10[2])|0}(function(a10){var b10=vj(a10);return h(z(vk),b10)})(k6);var fB=[r,vl,an(0)];function jd(a10){var b10=ng(a10),c10=l_(b10,"blue");if(0<=c10){if(0>=c10)return vu;if(b10===kR)return vt;if(b10==="cyan")return vs;if(b10===lf)return vr;if(b10==="magenta")return vq;if(b10===lj)return vp;if(b10==="reset")return vo;if(b10==="white")return vn;if(b10==="yellow")return vm}else{if(b10==="Black")return vD;if(b10==="Blue")return vC;if(b10==="Cyan")return vB;if(b10==="Green")return vA;if(b10==="Magenta")return vz;if(b10==="Red")return vy;if(b10==="White")return vx;if(b10==="Yellow")return vw;if(b10==="black")return vv}throw g(fB,1)}function je(a10,b10){return a7(b10,a10),vF}function jf(a10){try{nF(a10),nG(a10)}catch(f10){var b10=P(f10);if(b10!==ez)throw g(b10,0)}return vG}var jg=[r,vH,an(0)],vE=0;function vI(a10,b10,c10){if(c10[1]===jg)return je(a10,c10[2]);if(c10[1]!==co)return h(b10,c10);var e10=c10[2];try{var f10=je(a10,jd(e10));return f10}catch(f11){var d10=P(f11);if(d10===fB)return h(b10,c10);throw g(d10,0)}}function vJ(a10,b10,c10){if(c10[1]===jg)return jf(a10);if(c10[1]!==co)return h(b10,c10);var e10=c10[2];try{jd(e10)}catch(f10){var d10=P(f10);if(d10===fB)return h(b10,c10);throw g(d10,0)}return jf(a10)}function vK(a10){var c10=bK(0);rr(a10,1);var b10=rs(a10,0),d10=b10[2],e10=b10[1];return rt(a10,[0,function(a11){return vI(c10,e10,a11)},function(a11){return vJ(c10,d10,a11)},b10[3],b10[4]])}function vL(a10,b10){var d10=bl(64),c10=dd(d10),e10=a10&&vE;return e10&&vK(c10),rU(function(a11){return a9(c10,0),ck(d10)},c10,b10)}function vM(a10){return vL(1,a10)}function vN(a10,b10){return m2(a10,b10)}function vO(a10){try{var c10=[0,lX(a10)];return c10}catch(f10){var b10=P(f10);if(b10[1]===b_)return 0;throw g(b10,0)}}function vP(a10){return a10|0}function fC(a10,b10){return b10?[0,h(a10,b10[1])]:0}function vQ(a10,b10,c10){return c10?h(b10,c10[1]):a10}function vR(a10,b10){if(b10)return h(a10,b10[1])}function vS(a10,b10){return b10?b10[1]:a10}function vT(a10,b10){return a10?a10[1]:b10}function vU(a10){return a10?[0,a10[1],0]:0}function vV(a10,b10){return b10[0]===0?h(a10,b10[1]):[1,b10[1]]}function vW(a10,b10){return vV(b10,a10)}function vX(a10){var b10=ny(a10);return[0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,b10[38],,,,,,,,,,,b10[10]]}function vY(a10){var b10=vX(a10);return[0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,b10[40],,,,,,,,,,,,,,,,,,,,b10[51]]}function vZ(e10,b10){var d10=n(e10);if(dH(d10,n(b10)))return 0;var f10=n(b10)-d10|0;return function(a10){for(var c10=a10;;){if(ve(c10,d10))return 1;if(_(b10,f10+c10|0)!==_(e10,c10))return 0;c10=c10+1|0}}(0)}function fD(a10,b10){return vZ(a10,b10)?[0,ew(b10,0,n(b10)-n(a10)|0)]:0}function v0(a10){return a10.height}function v1(a10){return a10}function v4(a10){switch(a10){case 0:return v5;case 1:return v6;default:return v7}}function v2(a10){return a10.contentRect}function v3(a10){a10[f5]}function v8(a10,b10,c10){var d10=b10?[0,c10,{box:u(v4(b10[1]))}]:[0,c10];return ef(a10,"observe",d10),0}function v9(c10){return new m.ResizeObserver(function(a10,b10){return i(c10,iP(function(a11){return a11},a10),b10)})}var v_=j8,v$="pattern",jh=vY([0,ex]);function wa(a10,b10){return h(a10,b10),b10}function wb(a10){var b10=fD(wc,a10);if(b10){var c10=b10[1],d10=vO(c10);if(d10)return[0,[0,d10[1]]];var g10=function(a11){return[0,a11]};return function(a11){return fC(g10,a11)}(fA(c10))}var e10=fD(wd,a10);if(e10){var h10=function(a11){return[1,a11]};return function(a11){return fC(h10,a11)}(fA(e10[1]))}var f10=fD(we,a10);if(!f10)return 0;function i10(a11){return[1,a11]}return function(a11){return fC(i10,a11)}(fA(f10[1]))}function ji(a10){switch(a10[0]){case 0:var b10=a10[1];return h(z(wf),b10);case 1:var c10=a10[1];return h(z(wg),c10);default:var d10=a10[1];return h(z(wh),d10)}}function jj(a10){var c10=a10?a10[1]:i5(bs);function b10(a11){var b11=wb(ag(uA(0,"font-size",a11)));if(!b11)return 16;var c11=b11[1];return c11[0]===0?c11[1]:a4(wi)}return function(a11){switch(a11[0]){case 0:return a11[1];case 1:var d10=a11[1];return d10*b10(i5(bs));default:var e10=a11[1];return e10*b10(c10)}}}function wj(e10,b10,c10,d10){function f10(a10,b11){return x(e10,b11[1],b11[2],a10)}function g10(a10,b11){return bU(d10,a10,b11)}return function(a10){return g10(a10,f10)}(bU(b10,c10,function(a10,b11){return[0,a10,b11]}))}var wm=[r,wl,an(0)],wo=[r,wn,an(0)];function fE(a10){return[0,0]}function fF(a10,b10){if(a10[1])throw g(wo,1);return a10[1]=[0,b10],0}function fG(a10){var b10=a10[1];if(b10)return b10[1];throw g(wm,1)}function wk(a10,b10,c10){return wj(function(a11,b11,c11){return[0,a11,b11,c11]},a10,b10,c10)}function wp(a10){return un(a10)}function wq(a10){var b10=uo(a10);return b10[0]===0?[0,b10[1]]:(uM([0,b10[1],0]),wr)}var jk=uY(dE);function jl(c10,b10){return function(a10){return u0(jk,c10,a10)}(wp(b10))}function ws(a10){var b10=uZ(jk,a10);function c10(a11){return wq(a11)}var d10=b10?[0,b10[1]]:wt;return vW(d10,c10)}function wu(a10,b10){var c10=ws(a10);if(c10[0]===0)return c10[1];var d10=c10[1];return typeof d10=="number"||uO([0,d10[2],0]),h(b10,0)}function wv(d10,b10){jl(d10,b10);var a10=ae(b10),c10=e4(0,a10);return e5(c10,function(a11){return jl(d10,bW(c10)),0}),bW(c10),a10}function ww(a10,b10){var c10=H(a10);return wv(c10,wu(c10,b10))}function jm(a10,b10){return ww(a10,function(a11){return b10})}var wy=jh[49],wx=jh[29];function wz(a10){return c2(function(a11){return[0,80,aT(H(a11))]},wy(a10))}var wA=0;function ba(d10,b10,c10){var a10=b10[1],e10=a10===82?[0,82,k(b10[2],function(a11){return function(a12){return aS(d10,a12)}(H(a11))})]:83<=a10?a4(wD):[0,80,function(a11){return aS(d10,a11)}(H(b10[2]))];return[0,e10,c10]}function fH(d10,b10,c10){return b10?[0,[0,80,function(a10){return aS(d10,a10)}(H(b10[1]))],c10]:c10}function jn(a10,b10){var c10=b10[1];return c10===82?[0,82,k(b10[2],a10)]:83<=c10?[0,83,fk(a10,b10[2])]:[0,80,h(a10,b10[2])]}function wF(a10){return a10[0]===0?aT(H(a10[1])):a10[1]}function fI(a10,b10){return[0,jn(wF,a10),b10]}function ak(a10){return fI(a10,0)}function cB(a10,b10){return fI(a10,b10)}function wB(a10,b10){var d10=wz(b10[1]),e10=b10[2],c10=function(a11){return bJ(e10,a11)}(d10);return a10?[0,[0,80,us(H(a10[1]))],c10]:c10}function wC(a10){return[0,wx(a10),wA]}function wE(a10,b10,c10){return b10?[0,[0,80,a10],c10]:c10}function wG(a10){return fI(jn(function(a11){return[0,a11]},a10),0)}function wH(a10,b10){return b10[0]===0?(a10.scroll(0,b10[1]),0):uB(0,b10[1])}function wI(a10,b10,c10,d10,e10){var g10=a10?a10[1]:0,h10=b10?b10[1]:0,f10=ae(1),i10=cB(wJ,cB([0,82,k(f10,function(a11){return a11?[1,aT("locked")]:[1,cz]})],g10)),j10=wG(wK),l10=[0,[0,80,az(0,cy,function(a11){return ab(f10,1)})],0],m10=K(0,[0,j10],[0,l10],0,[0,[0,82,fy(0,0,0,0,[0,[0,80,aU(0,wL)],0])],0]),n10=az(0,um,function(a11){var b11=bn(f10);return b11&&ab(f10,0)});return K(0,[0,i10],[0,[0,[0,80,n10],h10]],c10,[0,[0,82,k(wk(e10,f10,d10),function(a11){var b11=a11[1],c11=a11[3];return a11[2]&&vR(function(a12){return wH(b11,a12)},c11),b11})],[0,[0,82,m10],0]])}function dI(a10,b10){return typeof b10=="number"?0:b10[0]===0?[0,h(a10,b10[1])]:[1,b10[1]]}function wM(e10,b10,c10){var d10=ae(c10);return[0,az(0,b10,function(a10){return ab(d10,h(e10,dz(a10)[dT]))}),d10]}function jo(a10,b10,c10,d10,e10,f10,g10,h10,i10,j10){var l10=d10?d10[1]:0,m10=f10?f10[1]:0,n10=function(a11){return fH(v$,h10,a11)}(function(a11){return wE(ut,m10,a11)}([0,[0,80,iZ(H(i10))],l10])),o10=vT(b10,function(a11){return[0,a11]}),k10=wM(a10,g10,j10),p10=k10[2],q10=k10[1];return[0,fz(c10,[0,n10],[0,[0,[0,80,q10],vU(e10)]],0,0),p10,o10]}function dJ(a10,b10,c10,d10,e10,f10,g10,h10){var i10=c10?c10[1]:0,j10=function(a11){return fH(fu,h10,a11)}(function(a11){return fH(ur,g10,a11)}(i10));return jo(ay,a10,b10,[0,j10],d10,e10,uk,f10,wO,vS(wN,h10))}function dK(a10,b10,c10,d10){var e10=b10?b10[1]:0;return jo(function(a11){return 0},0,a10,[0,ba(fu,d10,e10)],c10,0,fq,0,wP,0)}function aF(a10,b10){return k(a10,function(a11){return[0,a11,b10]})}function dL(a10,b10,c10,d10,e10){var i10=[0,[0,cu,function(a11){return a11}],function(a11,b11){var c11=b11[2],d11=a11[2];return[0,aD(a11[1],b11[1]),function(a12){return h(c11,h(d11,a12))}]}];function j10(a11){var b11=a11[1],c11=a11[2];function d11(a12){var c12=bn(b11[2]);return h(b11[3],c12)}return[0,J(b11[1]),function(a12){var b12=d11(0);return h(h(c11,a12),b12)}]}var f10=function(a11){return bo(j10,i10,a11)}(bp(d10[2])),g10=[0,82,k(f10,function(a11){var b11=a11[2];return az(0,v_,function(a12){return h(e10,h(b11,d10[1])),ui(a12)})})],l10=k(f10,function(a11){return a11[1]}),m10=vQ([0,g10,0],function(a11){return mO(g10,a11)},c10);return vb(a10,b10,[0,m10],0,[0,[0,83,bp(l10)],0])}function jp(a10,b10){return a10?h(z(wQ),b10):b10}function wR(a10,b10,c10,d10,e10,f10){var m10=a10?a10[1]:1,n10=b10?b10[1]:0,o10=c10?c10[1]:0,l10=d10?d10[1]:function(a11){return function(a12){return 0}},j10=jp(1,e10[1]),p10=jp(0,e10[1]),g10=m10?jm(j10,e10[2]):ae(e10[2]),q10=bn(g10);h(h(l10,1),q10);var r10=e10[3];jb(0,[0,[0,[0,80,iY(H(j10))],0]],0,0,r10);var s10=[0,80,p10],t10=function(a11){return ba(ft,wS,a11)}(function(a11){return ba(iV,s10,a11)}(ba(fs,[0,80,j10],n10))),u10=[0,[0,80,az(0,fq,function(a11){var b11=ay(dz(a11)[dT]);return i(l10,0,b11),ab(g10,b11)})],o10];return[0,vd(0,[0,t10],[0,u10],0,[0,[0,83,bp(fk(function(a11){var b11=a11[1],c11=a11[2],d11=ak([0,80,[1,uv(H(b11))]]),e11=cB([0,82,k(g10,function(a12){return[1,up(vi(a12,b11),uu)]})],d11);return vc(0,[0,e11],0,0,[0,[0,80,aU(0,c11)],0])},f10))],0]),,g10]}function wT(a10,b10,c10,d10,e10,f10,g10){var m10=b10?b10[1]:0,n10=c10?c10[1]:function(a11){},j10=h(vM(wU),d10);function l10(a11){return a11?[0,e10]:0}a:{if(a10&&a10[1]){var o10=jm(j10,l10(g10)),i10=o10;break a}var i10=ae(l10(g10))}var p10=jb(0,[0,[0,[0,80,iY(H(j10))],0]],0,0,f10),q10=[0,80,d10],r10=function(a11){return ba(ft,wV,a11)}(function(a11){return ba(iV,q10,a11)}(ba(fs,[0,80,j10],0))),s10=[0,[0,82,k(i10,function(a11){return a11?iX:cz})],r10];return[0,K(0,0,0,0,[0,[0,82,fz(0,[0,s10],[0,[0,[0,80,az(0,fq,function(a11){var b11=l10(dz(a11)[dR]|0);return h(n10,b11),ab(i10,b11)})],m10]],0,0)],[0,[0,82,p10],0]]),i10]}function wW(a10){return[0,,,function(a11){}]}function wX(a10){var b10=wW(a10);return[0,function(a11){b10[3].call(null,0),b10[3].call(null,0)}]}function wZ(a10){return bo(function(a11){return J(K(0,0,0,0,a11[3]))},aR,a10)}function w0(a10){return e6(bo(function(a11){return a11[2]},[0,w4,function(a11,b10){return i(z(w3),a11,b10)}],a10),function(a11){return i(z(w2),w1,a11)})}jj(0)(w8);function wY(a10,b10,c10){return[0,a10,b10,c10]}function w5(a10){return w0(a10[1][1])}function w6(a10){var b10=ji(a10[2]),c10=[0,[0,80,aT(kT)],0],d10=[0,[0,80,aT("lwdui-lazy-table-header")],c10],e10=[0,[0,80,dA(H(h(z(w7),b10)))],d10];return K(0,[0,e10],0,0,[0,[0,83,bp(wZ(a10[1][1]))],0])}var w9=wX([0,vN]),dM=B2(0);function w_(e10,b10,c10,d10){var s10=d10[3],t10=d10[2],l10=fE(0),m10=fE(0),n10=ji(e10[2]),v10=h(z(xa),n10),w10=ct(function(a11,b11){return J([0,e9(a11),a11,s10])},aR,t10);hJ(0,2048),function(a11){return w9[1].call(null,50)}(0);var f10=ae(0),a10=S(function(a11){return a11}),g10=e4(0,r5(a10,f10));e5(g10,function(a11){var b11=bW(g10);return b11[2]?h(b11[1],0):0}),bW(g10);function u10(a11){return i(z(w$),n10,a11)}function j10(a11){var b11=[0,aT("row_spacer"),0];return i4(0,[0,[0,dA(H(u10(a11))),b11]],0)}var x10=k(bo(function(a11){var b11=a11[1],c11=a11[3],d11=a11[2],e11=ba(cA,xb,0),f11=[0,80,dA(H(v10))];return b11?[0,0,J(K(0,[0,[0,f11,e11]],0,0,[0,[0,83,bp(i(c11,d11,b11[1]))],0])),0]:[0,1,cu,0]},[0,[0,0,cu,0],function(a11,b11){var f11=b11[3],g11=b11[2],c11=b11[1],d11=a11[3],e11=a11[2],h10=a11[1],k10=iw(e11),i10=iw(g11);if(typeof k10=="number")return typeof i10=="number"?[0,((h10+d11|0)+c11|0)+f11|0,e11,0]:[0,(h10+d11|0)+c11|0,g11,f11];if(typeof i10=="number")return[0,h10,e11,(d11+c11|0)+f11|0];var l11=dH(d11+c11|0,0)?function(a12){return aD(e11,a12)}(aD(J(S(j10(d11+c11|0))),g11)):aD(e11,g11);return[0,h10,l11,f11]}],w10),function(a11){var b11=a11[3],c11=a11[2],d11=a11[1],e11=dH(d11,0)?aD(J(S(j10(d11))),c11):c11;return dH(b11,0)?aD(e11,J(S(j10(b11)))):e11}),y10=w6(e10),A10=v9(function(a11,b11){var d11=mP(a11);v3(d11);var c11=v0(v2(d11)),e11=bn(f10);return e11?vf(e11[1],c11)?ab(f10,[0,c11]):0:ab(f10,[0,c11])}),B10=ak(xc),o10=K(0,[0,B10],0,[0,function(a11){return fF(l10,a11)}],[0,[0,83,bp(x10)],0]),p10=ak(xd),q10=[0,[0,82,k(a10,function(c11){return az(0,ul,function(a11){var d11=[0,0],b11=[0,-1];function e11(e12){var a12=800,f11=uS(uT);vg(b11[1],0)&&uW(b11[1]),b11[1]=uV(a12,function(a13){return h(c11,e12)});var g11=vh(f11-d11[1],a12);return g11&&(d11[1]=f11,h(c11,e12))}return fG(m10),function(a12){return e11(a12)}(0),0})})],0];function r10(a11){return fF(m10,a11)}var C2=c10?wI([0,p10],[0,q10],[0,r10],k(c10[1],function(a11){var b11=fG(l10),c11=e10[2];return[0,[0,cX(a11,vP(jj([0,b11])(c11)))]]}),o10):K(0,[0,p10],[0,q10],[0,r10],[0,[0,82,o10],0]);function D2(a11){return v8(A10,0,a11)}function E2(a11){return wa(D2,a11)}var F2=function(a11){return k(a11,E2)}(C2),G2=wB(0,wC(xe));return K(0,[0,[0,[0,82,k(w5(e10),function(a11){return dA(H(a11))})],G2]],0,0,[0,[0,82,y10],[0,[0,82,F2],0]])}var fJ=hj([0,ex]),fK=dM.Text,fL=dM[la],fM=dM.Map,b3=ib(xj,xi),bb=ib(xl,xk);function xf(a10,b10){return[0,a10,b10]}function jq(a10){return b0(a10,fL)?[0,aX,a10]:b0(a10,fM)?[0,v,a10]:b0(a10,fK)?[0,bz,a10]:[0,U,a10]}function xm(a10){var b10=fn(a10,xn);if(b10)return[0,b10[1]];var c10=fn(a10,xo);if(c10)return[1,iN(jq,c10[1])];var d10=fn(a10,xp);if(d10)return[2,d10[1]];throw g([0,f,xq],1)}id2(xr,b3,[0,function(a10){return new fL},function(a10,b10,c10){return a10.insert(b10,iO(function(a11){var b11=a11[1];return bz<=b11?(aX<=b11,a11[2]):(v<=b11,a11[2])},c10)),0},function(a10,b10,c10){return a10.delete(b10,c10),0},function(a10,b10){return a10.push(iO(function(a11){var b11=a11[1];return bz<=b11?(aX<=b11,a11[2]):(v<=b11,a11[2])},b10)),0},function(a10,d10){return a10.forEach(function(a11,b10,c10){return x(d10,b10,jq(a11),c10)}),0},function(a10,b10){function c10(a11){return h(b10,xf(xm,a11))}return a10.observe(c10),c10}]);function fN(a10){return b0(a10,fL)?[0,aX,a10]:b0(a10,fM)?[0,v,a10]:b0(a10,fK)?[0,bz,a10]:[0,U,a10]}function jr(a10,b10){return function(a11){return dy(fN,a11)}(a10.get(u(b10)))}function xs(a10){return a10}function xt(a10){return a10[f5]}function xu(a10){var b10=ay(a10.action);if(b10!=="add")if(b10!==k5){if(b10!=="update")throw g([0,b9,h(z(xv),b10)],1);var c10=1}else var c10=2;else var c10=0;var d10=a10.oldValue,e10=bZ(d10)?0:[0,fN(d10)];return[0,c10,0,e10]}function js(a10){return ue(a10.entries())}id2(xw,bb,[0,function(a10){return new fM},[0,function(d10){var a10=d10[kb].keys.entries();return iQ(ay,xu,function(a11,b10,c10){var e10=jr(xt(d10),a11);return fJ[2].call(null,a11,[0,b10[1],e10,b10[3]],c10)},a10,fJ[1])}],jr,function(a10,b10,c10){var d10=c10[1],e10=bz<=d10?(aX<=d10,c10[2]):(v<=d10,c10[2]);return a10.set(u(b10),e10),0},function(a10,b10){return a10.delete(u(b10)),0},js,function(a10,d10,c10){return iQ(ay,fN,function(a11,b10,c11){return x(d10,a11,b10,c11)},js(a10),c10)},function(a10,b10){function c10(a11){return h(b10,a11)}return a10.observe(c10),c10}]);var xx=dM.Doc;function jt(a10,b10){return a10.getArray(u(b10))}function bt(a10,b10){return a10.transact(bE(1,b10)),0}function fO(a10){return a10}var al=bb[4],aV=bb[3],cC=bb[1],dN=b3[5],fP=b3[4],ju=b3[3],jv=b3[1];function xg(a10){var b10=a10[1];return[0,function(a11){return iN(b10,a11)}(a10[2][kb].delta)]}function xh(a10,b10){var c10=a10?[0,u(a10[1])]:[0];return lZ(fK,c10)}function xy(a10){return new xx}var xz=bb[8],xA=bb[7],xB=bb[5],xC=bb[2][1],xD=b3[6];function xE(a10){return a10}var xF=BW(0).Awareness;function xH(a10,b10,c10){a10.setLocalStateField(u(b10),c10)}function jw(a10){return a10}function xG(a10){return new xF(a10)}function xI(a10,b10,c10,d10){if(c10)var f10=[0,xJ,u(c10[1])],e10=[0,[0,xK,u(b10)],f10];else var e10=[0,[0,xM,u(b10)]];return xH(a10,xL,gS(e10))}var xN=BX(0);function xO(a10,b10){var c10=b10;new xN(u(a10),c10)}var xP=B0(0);function fQ(a10,b10,c10){switch(b10){case 0:a10.on(u(xW),bE(1,function(a11){return h(c10,[0,a11.connected|0])}));return;case 1:a10.on(u(xX),bE(1,function(a11){return h(c10,[0,a11[lh]|0])}));return;default:a10.on(u(x2),bE(1,function(b11){function a11(a12){return function(a13){return iP(ay,a13)}(b11[a12])}var d10=a11(xY),e10=a11(xZ),f10=a11(x0);return h(c10,[0,a11(x1),f10,e10,d10])}));return}}function xQ(a10,b10,c10,d10){var f10=cf(function(a11){return[0,xR,fp(u,a11)]},b10),e10=[0,[0,xU,{config:{iceServers:fp(function(a11){return a11},c2(function(a11){return{urls:u(h(z(xT),a11))}},xS))}}]];aE([0,e10,0]);function g10(a11){return a11}var i10=gS(c5(function(a11){return g$(g10,a11)}([0,f10,[0,e10,[0,cf(function(a11){return[0,xV,a11]},c10),0]]]))),j10=d10;return new xP(u(a10),j10,i10)}var jx=BY(0),x3=BZ(0);function x5(a10){switch(a10){case 0:var b10=x6;break;case 1:var b10=x7;break;case 2:var b10=x8;break;case 3:var b10=x9;break;default:var b10=x_}return u(b10)}function x4(a10,b10){jx.register(u(a10),b10)}function x$(a10,b10,c10,d10){var e10=a10?a10[1]:0,f10=e10?ya:yd,g10=cf(function(a11){return[0,yb,!!a11]},b10),h10=gS(c5(g$(function(a11){return a11},[0,g10,[0,cf(function(a11){return[0,yc,fp(x5,a11[1])]},c10),0]])));return{theme:u(f10),modules:h10}}function ye(a10,b10){return new jx(a10,b10)}function yf(a10){return a10}var yg=B1(0).QuillBinding;function yh(a10,b10,c10){var d10=mE(cf(jw,a10)),e10=[0,c10,d10];function f10(a11,b11){lZ(a11,b11)}return function(a11){return f10(yg,a11)}(c5([0,b10,e10]))}function yi(a10,b10,c10){return x(eL(s,yj),b10,c10,a10)}function jy(a10,b10,c10){var d10=0<=c10?1:0;if(d10)var e10=0<=b10?1:0,f10=e10&&((b10+c10|0)<=a10?1:0);else var f10=d10;var g10=1-f10;return g10&&yi(a10,b10,c10)}var yk=[0];function yl(a10,b10,c10,d10){var e10=ap(a10,b10);return ci(c10,0,e10,0,d10),e10}function jz(a10,b10){return b10<=a10?a10:b10}function jA(a10){return eL(s,a10)}function ym(a10,b10){var c10=a10[1];return i(jA(yn),b10,c10)}function yo(a10,b10){return i(jA(yp),a10,b10.length-1)}function cD(a10,b10){var c10=1-(a10<=b10.length-1?1:0);return c10&&yo(a10,b10)}function jB(a10){return[0,0,0,yk]}function cE(a10){return a10[1]}function yq(a10,b10){return a10[3][1+b10]}function jC(a10){var b10=a10[1],c10=a10[3];if(cD(b10,c10),0<b10)return c10[1+(b10-1|0)];throw g(a5,1)}function yr(a10,b10,c10){var d10=a10[1],e10=a10[3];cD(d10,e10),a10[2]=b10;var f10=yl(b10,c10,e10,d10);return a10[3]=f10,f10}function ys(a10){var b10=dU<a10?a10+(a10/2|0)|0:a10*2|0;return jz(8,b10)}function jD(a10,b10,c10){var d10=a10[2],e10=b10<=d10?d10:jz(ys(d10),b10);return yr(a10,e10,c10)}function yu(a10,b10,c10,d10){var f10=a10[1],g10=a10[3],e10=f10+d10|0,h10=e10<=g10.length-1?g10:jD(a10,e10,b10[1]);return a10[1]=e10,ci(b10,c10,h10,f10,d10)}function fR(a10,b10){return yu(a10,b10,0,b10.length-1)}function yv(a10,b10,c10,d10){for(var e10=c10;;){if(e10===d10)throw g(a5,1);if(h(a10,b10[1+e10]))return e10;e10=e10+1|0}}function jE(a10,b10){var c10=0<=b10?1:0,d10=c10&&(b10<a10[1]?1:0),e10=1-d10;return e10&&ym(a10,b10),yq(a10,b10)}function yt(a10,b10){var d10=a10[3],c10=a10[1]+1|0,e10=c10<=d10.length-1?d10:jD(a10,c10,b10);return e10[1+(c10-1|0)]=b10,a10[1]=c10,0}function yw(a10,b10){var c10=b10[1],d10=b10[3];return cD(c10,d10),yv(a10,d10,0,c10)}function yx(a10,b10,c10,d10,e10){var f10=a10[1],g10=a10[3];cD(f10,g10);var h10=c10[1],i10=c10[3];return cD(h10,i10),jy(f10,b10,e10),jy(h10,d10,e10),ci(g10,b10,i10,d10,e10)}function yy(a10,b10){var c10=b10<<4|he(a10,6)&15,d10=bv|he(a10,8)&63;return hd(a10,6,c10),hd(a10,8,d10),$(a10)}function yz(a10){var c10=bP(a10),b10=C(16),d10=bP(a10);return hc(b10,0,c10),hc(b10,8,d10),yy(b10,4)}function yA(a10,b10){return yz(a10)}function yB(a10,b10){var i10=a10?a10[1]:0,g10=i10?55:87;function h10(a11,b11){return 10<=b11?a11+b11|0:48+b11|0}var e10=m8(yC),c10=[0,0],d10=[0,0];function f10(d11,b11,c11){function e11(a11,b12,c12){au(a11,b12,c12)}(function(a11){return e11(d11,b11,a11)})(h10(g10,c11>>>4|0));var f11=b11+1|0;function i11(a11,b12,c12){au(a11,b12,c12)}return function(a11){return i11(d11,f11,a11)}(h10(g10,c11&15))}for(;!(4<=d10[1]);){var n10=D(b10,d10[1]);f10(e10,c10[1],n10),c10[1]=c10[1]+2|0,d10[1]++}for(c10[1]++;!(6<=d10[1]);){var m10=D(b10,d10[1]);f10(e10,c10[1],m10),c10[1]=c10[1]+2|0,d10[1]++}for(c10[1]++;!(8<=d10[1]);){var l10=D(b10,d10[1]);f10(e10,c10[1],l10),c10[1]=c10[1]+2|0,d10[1]++}for(c10[1]++;!(10<=d10[1]);){var k10=D(b10,d10[1]);f10(e10,c10[1],k10),c10[1]=c10[1]+2|0,d10[1]++}for(c10[1]++;;){if(16<=d10[1])return $(e10);var j10=D(b10,d10[1]);f10(e10,c10[1],j10),c10[1]=c10[1]+2|0,d10[1]++}}var yD=hE(0),am=xy(0),fS=xG(am);x4(yF,x3),xI(fS,yG,0,0);var dO=xQ(yI,yH,[0,fS],am);xO(yJ,am),dE.yjsdoc=am,dE.yjsprovider=dO;var fT=ae(0),jF=ae(0),jG=ae(0);fQ(dO,0,function(a10){var b10=a10[1];return b1([0,yK,[0,!!b10,0]]),ab(jF,b10)}),fQ(dO,1,function(a10){var b10=a10[1];return b1([0,yL,[0,!!b10,0]]),ab(jG,b10)});var dP=[0,0];fQ(dO,2,function(a10){b1([0,yM,[0,a10,0]]);function c10(b11){return mX(function(a11){return ey(b11,a11)},a10[3])}function d10(b11){var c11=[0,0];return dP[1]=g_(function(a11){return ey(b11,a11)?(c11[1]=[0,b11],1):0},dP[1]),c11[1]}var b10=et(function(a11,b11){return d10(b11)?a11:(c10(b11)&&(dP[1]=[0,b11,dP[1]]),a11+1|0)},0,a10[1]),e10=er(a10[2]);return function(a11){return ab(fT,a11)}((bn(fT)+b10|0)-e10|0)});var yQ=jG,yS=cB(yR,ak([0,82,bU(jF,yQ,function(a10,b10){var c10=a10?b10?yN:yO:yP;return[0,c10]})])),yU=K(0,[0,yS],0,0,[0,[0,80,aU(0,yT)],0]),yV=[0,[0,82,yU],[0,[0,82,k(fT,function(a10){return aU(0,mm(a10))})],0]];function yE(a10){return yA(yD,0)}function yY(a10,b10){var c10=a10?a10[1]:64,d10=im(0);return[0,d10,hJ(0,c10)]}function jH(a10,b10,c10){var e10=hK(a10[2],b10);if(e10)var d10=e10[1];else{var g10=e8(0,a10[1]);hL(a10[2],b10,g10);var d10=g10}var f10=e9(d10);return f10?ab(f10[1][2],[0,c10]):sV(d10,[0,b10,ae([0,c10])])}function fU(a10,b10){var c10=hK(a10[2],b10);if(c10)var d10=c10[1];else{var f10=a10[1],e10=e8([0,[0,b10,ae(0)]],f10);hL(a10[2],b10,e10);var d10=e10}return c1(e9(d10))[2]}function fV(a10,b10){return k(fU(a10,b10),function(a11){if(!a11)return 0;var b11=a11[1];if(typeof b11!="number"&&U===b11[1])return[0,ay(b11[2])];throw g([0,f,yZ],1)})}function y0(a10){var b10=im(0);return[0,b10,jB(0)]}function y1(a10){try{var c10=[0,jE(a10[2],0)];return c10}catch(f10){var b10=P(f10);if(b10[1]===b9)return 0;throw g(b10,0)}}function jI(a10,b10){var c10=e8(a10,b10[1]);return yt(b10[2],c10)}function jJ(a10,b10,c10,d10){var e10=[0,b10,[0,c10,[0,cE(d10),0]]];b1([0,y2,[0,cE(a10),e10]]);var f10=cE(d10),g10=jE(a10,0);return fR(d10,hg(c10,function(a11){return g10})),yx(a10,b10,d10,f10,c10)}function y3(i10,b10,c10){var e10=[0,0],j10=i10[2],d10=jB(0);hh(function(a11){switch(a11[0]){case 0:var m10=a11[1];return jJ(j10,e10[1],m10,d10),e10[1]=e10[1]+m10|0,0;case 1:var c11=a11[1];if(cE(d10)!==0){var o10=[0,jC(d10)];return fR(d10,hi(function(a12){var d11=h(b10,a12),c12=sR([0,d11],o10[1]);return o10[1]=c12,c12},c11))}var n10=y1(i10);if(!n10)return hh(function(a12){var c12=h(b10,a12);return jI([0,c12],[0,i10[1],d10])},c11);var s10=n10[1];return fR(d10,hi(function(a12){return sP([0,h(b10,a12)],s10)},c11));default:var k11=a11[1],t10=e10[1]===0?tx(i10[1]):iu(jC(d10)),p10=[0,t10],u10=1;if(k11>=1)for(var l10=u10;;){var q10=p10[1];if(!q10)throw g([0,f,y4],1);var r10=q10[1];p10[1]=iu(r10),sY(r10);var v10=l10+1|0;if(k11===l10)break;l10=v10}return e10[1]=e10[1]+k11|0,0}},c10);var k10=e10[1],a10=cE(j10)-k10|0;return 0<a10&&jJ(j10,e10[1],a10,d10),i10[2]=d10,0}function fW(e10,b10){var d10=yY(0,0);return x(xA,b10,function(a10,b11,c10){return jH(d10,a10,i(e10,a10,b11))},0),i(xz,b10,function(a10){b1([0,y5,[0,a10,0]]);var b11=h(xC,a10);return fJ[23].call(null,function(a11,b12){if(2<=b12[1])return b1([0,y8,[0,a11,[0,y7,[0,y6,[0,b12[3],0]]]]]);var c10=b12[2];if(c10)return jH(d10,a11,i(e10,a11,c10[1]));throw g([0,f,y9],1)},b11)}),d10}function fX(e10,b10){var d10=y0(0);return i(dN,b10,function(a10,b11,c10){return jI([0,h(e10,b11)],d10),0}),i(xD,b10,function(a10){return y3(d10,e10,xg(a10)[1])}),d10}function jL(a10){return by<=a10?bc<=a10?y_:y$:gj<=a10?za:zb}function jM(a10){if(a10===dZ)return bc;if(a10===cL)return cK;if(a10===dV)return gj;if(a10!==b4)throw g([0,f,zc],1);return by}function dQ(a10,b10){var d10=jL(a10),c10=h(cC,0);return bt(am,function(a11){return x(al,c10,jK,[0,U,u(d10)]),x(al,c10,bu,b10)}),c10}function jN(a10){return dQ(cK,[0,U,u(a10)])}function jO(a10){return dQ(bc,[0,U,!!a10])}function jP(a10){return dQ(by,[0,bz,xh(a10,0)])}var yX=K(0,[0,ak(yW)],0,0,yV);function zm(a10){return[0,a10,jU(a10)]}function zn(a10){if(typeof a10!="number"&&v===a10[1]){var c10=a10[2],d10=i(aV,c10,fY);if(d10){var b10=d10[1];if(typeof b10!="number"&&U===b10[1]){var e10=ay(b10[2]),h10=fW(function(a11,b11){return b11},c10),j10=function(a11){return aE([0,zr,[0,e10,[0,a11,0]]]),c1(a11)},l10=function(a11){return k(a11,jM)}(function(a11){return k(a11,j10)}(fV(h10,fZ)));return[0,e10,l10,function(a11){return k(a11,c1)}(fV(h10,jS))]}}throw g([0,f,zq],1)}throw g([0,f,zp],1)}function zo(a10){var d10=i(aV,a10,jQ);if(d10){var b10=d10[1];if(typeof b10!="number"&&aX===b10[1]){var e10=b10[2],h10=fX(zn,e10),j10=i(aV,a10,jR),l10=function(a11){if(typeof a11!="number"&&v===a11[1]){var c11=a11[2],d11=function(a12){var d12=i(aV,c11,a12);if(d12){var b11=d12[1];if(typeof b11!="number"&&v===b11[1])return zm(b11[2])}throw g([0,f,zu],1)};return[0,c11,ct(function(a12,b11){return J(d11(b11[1]))},aR,h10[1])]}throw g([0,f,zt],1)};if(j10){var c10=j10[1];if(typeof c10!="number"&&aX===c10[1]){var k10=c10[2];return[3,e10,k10,h10,fX(l10,k10)]}}throw g([0,f,zv],1)}}throw g([0,f,zs],1)}function jU(a10){var h10=fW(function(a11,b11){return b11},a10),j10=i(aV,a10,jK);if(j10){var c10=j10[1];if(typeof c10!="number"&&U===c10[1]){var b10=ay(c10[2]);if(b10===dZ)return[1,k(fU(h10,bu),function(a11){if(a11){var b11=a11[1];if(typeof b11!="number"&&U===b11[1])return b11[2]|0}throw g([0,f,zB],1)})];if(b10===cL)return[0,k(fU(h10,bu),function(a11){if(a11){var b11=a11[1];if(typeof b11!="number"&&U===b11[1])return ay(b11[2])}throw g([0,f,zA],1)})];if(b10!==dV){if(b10!==b4)throw g([0,f,zx],1);var l10=i(aV,a10,bu);if(l10){var d10=l10[1];if(typeof d10!="number"&&bz===d10[1])return[2,d10[2]]}throw g([0,f,zy],1)}var m10=i(aV,a10,bu);if(m10){var e10=m10[1];if(typeof e10!="number"&&v===e10[1])return zo(e10[2])}throw g([0,f,zz],1)}}throw g([0,f,zw],1)}function zd(a10,b10){var e10=jL(a10),d10=yB(0,yE(0)),c10=h(cC,0);return aE([0,ze,[0,fZ,0]]),bt(am,function(a11){return x(al,c10,fY,[0,U,u(d10)]),x(al,c10,fZ,[0,U,u(e10)]),x(al,c10,jS,[0,U,u(b10)])}),[0,d10,c10]}function zf(c10){var b10=h(cC,0);return bt(am,function(a10){return a6(function(a11){return x(al,b10,a11[1],[0,v,a11[2]])},c10)}),b10}function zF(g10,b10){var c10=ae(zG),e10=ae(zH),a10=e6(b10,function(a11){return ab(c10,a11),aU(0,a11)}),d10=ae(0),f10=ak(zI),h10=[0,[0,80,az(0,cy,function(a11){return function(a12){return ab(e10,a12)}(bn(c10)),ab(d10,1)})],0],i10=K(0,[0,f10],[0,h10],0,[0,[0,80,aU(0,zJ)],0]),j10=k(d10,function(a11){return a11?[1,aT("visible")]:[1,cz]}),l10=function(a11){var b11=[0,aF(S(dK(0,0,0,zL)),function(a12,b12){return a12}),0];return dL(0,0,0,[0,zK,e1(dw([0,aF(k(a11,function(a12){return dJ(0,0,0,0,zM,0,0,[0,a12])}),function(a12,b12){return[0,b12]}),b11]))],function(a12){aE([0,zN,[0,a12,0]]);var b12=a12[1];if(typeof b12!="number"&&b12[0]!==1){var e11=b12[1],f11=bn(c10);return f11!==e11&&(aE([0,f11,[0,zO,[0,e11,0]]]),x(al,g10,bu,[0,U,u(e11)])),ab(d10,0)}return 0})}(e10),m10=K(0,[0,cB([0,82,j10],ak(zP))],0,0,[0,[0,82,l10],0]);return K(0,[0,ak(zQ)],0,0,[0,[0,82,a10],[0,[0,82,i10],[0,[0,82,m10],0]]])}function zR(d10,b10){var c10=fE(0),a10=iZ(kV),e10=[0,[0,80,a10],[0,[0,82,k(b10,function(a11){var b11=fG(c10);function d11(a12,b12,c11){a12[b12]=c11}return function(a12){return d11(b11,zS,a12)}(!!a11),a11?iX:cz})],0]],f10=K(0,0,0,0,[0,[0,82,fz(0,[0,e10],[0,[0,[0,80,az(0,cy,function(a11){return x(al,d10,bu,[0,U,dz(a11)[dR]])})],0]],[0,function(a11){return fF(c10,a11)}],0)],0]);return K(0,[0,ak(zT)],0,0,[0,[0,82,f10],0])}function zU(a10,b10){var c10=i4(0,0,0),d10=K(0,[0,ak(zV)],0,0,[0,[0,80,c10],0]),e10=[0,fS];return function(a11){return yh(e10,b10,a11)}(function(a11){return ye(c10,a11)}(x$(zY,zX,[0,zW],0))),d10}function zZ(d10,c10){function a10(a11){return bo(function(a12){var b11=a12[2],c11=a12[1];switch(b11[0]){case 0:var d11=zF(c11,b11[1]);break;case 1:var d11=zR(c11,b11[1]);break;case 2:var d11=zU(c11,b11[1]);break;default:throw g([0,f,z0],1)}return J(d11)},aR,a11[2])}var b10=c10[1];return[0,S(0),b10,function(e10,b11){return e6(a10(b11),function(b12){var a11=[0,[0,80,aU(0,z2)],0],f10=[0,[0,[0,80,az(0,cy,function(a12){function f11(a13,b14){return a13===b14?1:0}var b13=yw(function(a13){return f11(e10,a13)},c10[2]);return aE([0,z1,[0,b13,0]]),x(ju,d10,b13,1)})],0]];return function(a12){return aD(b12,a12)}(J(fy(0,[0,[0,[0,80,aT("row-actions")],0]],f10,0,a11)))})}]}function z3(j10,b10){var c10=[0,aF(S(dK(0,0,0,z5)),function(a11,b11){return a11}),0],a10=wR(z8,0,0,0,z7,S(dw(z6))),d10=[0,aF(S([0,a10[1],a10[3],function(a11){return[0,a11]}]),function(a11,b11){var c11=dI(jM,b11);return[0,a11[1],c11]}),c10];return dL(0,0,0,[0,z4,e1(dw([0,aF(S(dJ(0,0,0,0,z_,0,0,z9)),function(a11,b11){return[0,b11,a11[2]]}),d10]))],function(a11){aE([0,z$,[0,a11,0]]);var d11=a11[1];a:if(typeof d11!="number"&&d11[0]!==1){var e10=a11[2],h10=d11[1];if(typeof e10!="number"&&e10[0]!==1){var c11=e10[1];return aE([0,Aa,[0,h10,0]]),bt(am,function(a12){var e11=zd(c11,h10);a:{var k10=e11[2],l10=e11[1];if(typeof c11=="number"){if(cK===c11)var d12=function(a13){return jN(Ab)};else if(by===c11)var d12=function(a13){return jP(0)};else{if(bc!==c11)break a;var d12=function(a13){return jO(0)}}return i(dN,b10,function(a13,b11,c12){if(typeof b11!="number"&&v===b11[1]){var e12=b11[2];return x(al,e12,l10,[0,v,d12(0)])}throw g([0,f,Ac],1)}),i(fP,j10,[0,[0,v,k10]])}}throw g([0,f,Ad],1)})}break a}return 0})}function Ae(a10,b10){var c10=hj([0,ex]),d10=c10[1];function e10(b11){return function(a11){return aD(b11,a11)}(J(aF(S(dK(0,0,0,An)),function(a11,b12){return a11})))}var h10=[0,d10,function(a11){return k(a11,e10)}(ct(function(a11,b11){var e11=b11[3],d11=b11[1];return J(sG(b11[2],function(a12){if(typeof a12=="number"){if(cK===a12)return aF(k(e11,function(a13){return dJ(0,0,0,0,Ag,0,[0,a13],0)}),function(a13,b12){aE([0,Af,[0,d11,0]]);var e12=dI(function(a14){return[0,cK,a14]},b12);return c10[2].call(null,d11,e12,a13)});if(by===a12)return aF(k(e11,function(a13){return dJ(0,0,0,0,Ah,0,[0,a13],0)}),function(a13,b12){var e12=dI(function(a14){return[0,by,a14]},b12);return c10[2].call(null,d11,e12,a13)});if(bc===a12)return aF(k(e11,function(a13){var b12=wT(0,0,0,Al,Ak,0,0);return[0,b12[1],b12[2],function(a14){return[0,a14]}]}),function(a13,b12){var e12=dI(function(a14){return a14?Ai:Aj},b12);return c10[2].call(null,d11,e12,a13)})}throw g([0,f,Am],1)}))},aR,a10[1]))];return dL(0,[0,[0,[0,80,aT("inline-row-form")],0]],0,h10,function(a11){return i(fP,b10,[0,[0,v,zf(c10[24].call(null,function(a12,b11,c11){if(typeof b11!="number"&&b11[0]===0){var d11=b11[1],e11=d11[1];return by===e11?[0,[0,a12,jP([0,d11[2]])],c11]:bc<=e11?[0,[0,a12,jO(d11[2])],c11]:[0,[0,a12,jN(d11[2])],c11]}throw g([0,f,Ao],1)},a11,0))]])})}function Ap(d10,b10,c10){return[0,[0,fk(function(a10){var e10=a10[1],c11=k(a10[3],function(a11){return aU(0,a11)}),f10=[0,[0,80,aU(0,As)],0];return wY(Au,At,[0,[0,82,c11],[0,[0,82,fy(0,0,[0,[0,[0,80,az(0,cy,function(a11){function c12(h10){var e11=[r,Ar,an(0)];try{throw i(dN,d10,function(a13,b11,c13){if(typeof b11!="number"&&v===b11[1]){var f11=i(aV,b11[2],fY);if(f11){var d11=f11[1];if(typeof d11!="number"&&U===d11[1]&&ey(h10,ay(d11[2])))throw g([0,e11,a13],1)}return 0}return 0}),g(a5,1)}catch(f11){var a12=P(f11);if(a12[1]===e11)return a12[2];throw g(a12,0)}}return bt(am,function(a12){return x(ju,d10,c12(e10),1),i(dN,b10,function(a13,b11,c13){return typeof b11!="number"&&v===b11[1]?i(xB,b11[2],e10):0})})})],0]],0,f10)],0]])},c10)],Aq]}function Av(a10){var b10=a10[3];if(b10[0]!==3)return a4(Aw);var d10=b10[3],c10=b10[2],e10=b10[1],f10=zZ(c10,b10[4]),g10=Ae(d10,c10),h10=z3(e10,c10),i10=[0,[0,82,w_(Ap(e10,c10,ct(function(a11,b11){return J(b11)},aR,d10[1])),0,0,f10)],0],j10=[0,[0,82,h10],[0,[0,82,g10],[0,[0,82,K(0,[0,ak(Ax)],0,0,i10)],0]]];return K(0,[0,ak(Ay)],0,0,j10)}function zg(a10){var b10=h(cC,0);return bt(am,function(a11){var c10=h(jv,0),d10=h(jv,0);return x(al,b10,jQ,[0,aX,c10]),x(al,b10,jR,[0,aX,d10])}),dQ(gj,[0,v,b10])}function zj(d10,b10){var c10=h(cC,0);return bt(am,function(a10){return x(al,c10,zk,[0,U,u(d10)]),x(al,c10,zl,[0,v,b10])}),c10}var Az=ct(function(a10,b10){return J(Av(b10))},aR,fX(function(a10){if(typeof a10!="number"&&v===a10[1]){var c10=a10[2],e10=fV(fW(function(a11,b11){return b11},c10),zh),d10=i(aV,c10,zi);if(d10){var b10=d10[1];if(typeof b10!="number"&&v===b10[1]){var h10=jU(b10[2]);return[0,zD,e10,h10]}}throw g([0,f,zE],1)}throw g([0,f,zC],1)},jt(am,jT))[1]),AD=dL(0,0,0,[0,0,e1(dw([0,aF(S(dK(0,0,0,AC)),function(a10,b10){return 0}),0]))],function(a10){var b10=function(a11){return zj(AA,a11)}(zg(0));return i(fP,jt(am,jT),[0,[0,v,b10]]),aE(AB)}),AE=[0,[0,82,yX],[0,[0,82,AD],[0,[0,83,bp(Az)],0]]],AG=K(0,[0,ak(AF)],0,0,AE);iR(0,uj,function(a10){var b10=e4(0,AG),c10=[0,bW(b10),0];return uz(uJ(bs),c10),e5(b10,function(a11){return uX(function(a12){return bW(b10),0}),0})},dE),ep(0)})(globalThis);})();
/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

quill-cursors/dist/quill-cursors.js:
  (*! For license information please see quill-cursors.js.LICENSE.txt *)

simple-peer/simplepeer.min.js:
  (*!
  * The buffer module from node.js, for the browser.
  *
  * @author   Feross Aboukhadijeh <https://feross.org>
  * @license  MIT
  *)
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=bundle.js.map
